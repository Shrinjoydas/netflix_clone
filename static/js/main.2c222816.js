/*! For license information please see main.2c222816.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},198:function(e,t,n){e=n.nmd(e);var r=200,i="__lodash_hash_undefined__",a=800,o=16,s=9007199254740991,u="[object Arguments]",c="[object AsyncFunction]",l="[object Function]",f="[object GeneratorFunction]",h="[object Null]",d="[object Object]",p="[object Proxy]",v="[object Undefined]",m=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[u]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[l]=g["[object Map]"]=g["[object Number]"]=g[d]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var b="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,k="object"==typeof self&&self&&self.Object===Object&&self,w=b||k||Function("return this")(),_=t&&!t.nodeType&&t,x=_&&e&&!e.nodeType&&e,S=x&&x.exports===_,E=S&&b.process,T=function(){try{var e=x&&x.require&&x.require("util").types;return e||E&&E.binding&&E.binding("util")}catch(t){}}(),I=T&&T.isTypedArray;var C,A,R=Array.prototype,P=Function.prototype,N=Object.prototype,D=w["__core-js_shared__"],O=P.toString,L=N.hasOwnProperty,M=function(){var e=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),F=N.toString,j=O.call(Object),V=RegExp("^"+O.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=S?w.Buffer:void 0,U=w.Symbol,z=w.Uint8Array,q=B?B.allocUnsafe:void 0,W=(C=Object.getPrototypeOf,A=Object,function(e){return C(A(e))}),H=Object.create,G=N.propertyIsEnumerable,K=R.splice,Q=U?U.toStringTag:void 0,Y=function(){try{var e=we(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),$=B?B.isBuffer:void 0,X=Math.max,J=Date.now,Z=we(w,"Map"),ee=we(Object,"create"),te=function(){function e(){}return function(t){if(!De(t))return{};if(H)return H(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function oe(e,t){var n=Ce(e),r=!n&&Ie(e),i=!n&&!r&&Re(e),a=!n&&!r&&!i&&Le(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!L.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_e(c,u))||s.push(c);return s}function se(e,t,n){(void 0!==n&&!Te(e[t],n)||void 0===n&&!(t in e))&&le(e,t,n)}function ue(e,t,n){var r=e[t];L.call(e,t)&&Te(r,n)&&(void 0!==n||t in e)||le(e,t,n)}function ce(e,t){for(var n=e.length;n--;)if(Te(e[n][0],t))return n;return-1}function le(e,t,n){"__proto__"==t&&Y?Y(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ne.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(ee){var n=t[e];return n===i?void 0:n}return L.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:L.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&void 0===t?i:t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():K.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ce(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(Z||re),string:new ne}},ie.prototype.delete=function(e){var t=ke(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return ke(this,e).get(e)},ie.prototype.has=function(e){return ke(this,e).has(e)},ie.prototype.set=function(e,t){var n=ke(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var i=n.__data__;if(!Z||i.length<r-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(i)}return n.set(e,t),this.size=n.size,this};var fe,he=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[fe?o:++r];if(!1===t(i[s],s,i))break}return e};function de(e){return null==e?void 0===e?v:h:Q&&Q in Object(e)?function(e){var t=L.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(a){}var i=F.call(e);r&&(t?e[Q]=n:delete e[Q]);return i}(e):function(e){return F.call(e)}(e)}function pe(e){return Oe(e)&&de(e)==u}function ve(e){return!(!De(e)||function(e){return!!M&&M in e}(e))&&(Pe(e)?V:m).test(function(e){if(null!=e){try{return O.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function me(e){if(!De(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=xe(e),n=[];for(var r in e)("constructor"!=r||!t&&L.call(e,r))&&n.push(r);return n}function ye(e,t,n,r,i){e!==t&&he(t,(function(a,o){if(i||(i=new ae),De(a))!function(e,t,n,r,i,a,o){var s=Se(e,n),u=Se(t,n),c=o.get(u);if(c)return void se(e,n,c);var l=a?a(s,u,n+"",e,t,o):void 0,f=void 0===l;if(f){var h=Ce(u),p=!h&&Re(u),v=!h&&!p&&Le(u);l=u,h||p||v?Ce(s)?l=s:Oe(m=s)&&Ae(m)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):p?(f=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=q?q(n):new e.constructor(n);return e.copy(r),r}(u,!0)):v?(f=!1,l=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new z(t).set(new z(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(u,!0)):l=[]:function(e){if(!Oe(e)||de(e)!=d)return!1;var t=W(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==j}(u)||Ie(u)?(l=s,Ie(s)?l=function(e){return function(e,t,n,r){var i=!n;n||(n={});var a=-1,o=t.length;for(;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?le(n,s,u):ue(n,s,u)}return n}(e,Me(e))}(s):De(s)&&!Pe(s)||(l=function(e){return"function"!=typeof e.constructor||xe(e)?{}:te(W(e))}(u))):f=!1}var m;f&&(o.set(u,l),i(l,u,r,a,o),o.delete(u));se(e,n,l)}(e,t,o,n,ye,r,i);else{var s=r?r(Se(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),se(e,o,s)}}),Me)}function ge(e,t){return Ee(function(e,t,n){return t=X(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=X(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ve),e+"")}var be=Y?function(e,t){return Y(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ve;function ke(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function we(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ve(n)?n:void 0}function _e(e,t){var n=typeof e;return!!(t=null==t?s:t)&&("number"==n||"symbol"!=n&&y.test(e))&&e>-1&&e%1==0&&e<t}function xe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||N)}function Se(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ee=function(e){var t=0,n=0;return function(){var r=J(),i=o-(r-n);if(n=r,i>0){if(++t>=a)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(be);function Te(e,t){return e===t||e!==e&&t!==t}var Ie=pe(function(){return arguments}())?pe:function(e){return Oe(e)&&L.call(e,"callee")&&!G.call(e,"callee")},Ce=Array.isArray;function Ae(e){return null!=e&&Ne(e.length)&&!Pe(e)}var Re=$||function(){return!1};function Pe(e){if(!De(e))return!1;var t=de(e);return t==l||t==f||t==c||t==p}function Ne(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){return null!=e&&"object"==typeof e}var Le=I?function(e){return function(t){return e(t)}}(I):function(e){return Oe(e)&&Ne(e.length)&&!!g[de(e)]};function Me(e){return Ae(e)?oe(e,!0):me(e)}var Fe,je=(Fe=function(e,t,n,r){ye(e,t,n,r)},ge((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=Fe.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!De(n))return!1;var r=typeof t;return!!("number"==r?Ae(n)&&_e(t,n.length):"string"==r&&t in n)&&Te(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&Fe(e,o,n,i)}return e})));function Ve(e){return e}e.exports=je},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==xe||null!==Se)&&(Ae(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Be={onError:function(e){Me=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,It=[],Ct=null,At=null,Rt=null,Pt=new Map,Nt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Bt(){Tt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Vt),Nt.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),null!==Rt&&Ut(Rt,e),Pt.forEach(t),Nt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Pn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){jr(e,0)}function Yn(e){if(K(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Rr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Tr:case Ir:case Cr:u=yn;break;case Ar:u=Rn;break;case"scroll":u=hn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Un(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Ne(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Ai=Si(!1),Ri=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ai),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=Ci.current,Ti(Ci,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ti(Ci,e)):Ei(Ai),Ti(Ai,n)}var ji=null,Vi=!1,Bi=!1;function Ui(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,zi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Wi=0,Hi=null,Gi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ni(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ni(t)?Ri:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Vc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,u)).return=r,r=a}return s(r);case N:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function No(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Io().memoizedState}function Uo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Uo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ru.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Ro,useRef:Bo,useState:function(){return Ro(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ou,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ou,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ou,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ou,Du),Du|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ni(n)?Ri:Ci.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Ni(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Ni(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Ra?("function"===typeof l&&(Ba(t,n,l,r),u=t.memoizedState),(s=Ra||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Ni(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Ra=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Ra?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Ra||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Ds,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Bs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ni(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Ds(e,t),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return _a(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Zs=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,$s=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Tu=k.ReactCurrentDispatcher,Iu=k.ReactCurrentOwner,Cu=k.ReactCurrentBatchConfig,Au=0,Ru=null,Pu=null,Nu=0,Du=0,Ou=Si(0),Lu=0,Mu=null,Fu=0,ju=0,Vu=0,Bu=null,Uu=null,zu=0,qu=1/0,Wu=null,Hu=!1,Gu=null,Ku=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Au)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Nu?Nu&-Nu:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Au)&&e===Ru||(e===Ru&&(0===(2&Au)&&(ju|=n),4===Lu&&uc(e,Nu)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(qu=Xe()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ru?Nu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&Au)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ru?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Ru===e&&Nu===t||(Wu=null,qu=Xe()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Tu.current=o,Au=i,null!==Pu?t=0:(Ru=null,Nu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Uu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Uu,Wu),t);break}_c(e,Uu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Uu,Wu),r);break}_c(e,Uu,Wu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function uc(e,t){for(t&=~Vu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Uu,Wu),ic(e,Xe()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(qu=Xe()+500,Vi&&zi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&xc();var t=Au;Au|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Au=t))&&zi()}}function hc(){Du=Ou.current,Ei(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ru=e,Pu=e=Oc(e.current,null),Nu=Du=t,Lu=0,Mu=null,Vu=ju=Fu=0,Uu=Bu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Ru||0===(268435455&Fu)&&0===(268435455&ju)||uc(Ru,Nu)}function yc(e,t){var n=Au;Au|=2;var r=vc();for(Ru===e&&Nu===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Au=n,Tu.current=r,null!==Pu)throw Error(a(261));return Ru=null,Nu=0,Lu}function gc(){for(;null!==Pu;)kc(Pu)}function bc(){for(;null!==Pu&&!Ye();)kc(Pu)}function kc(e){var t=Su(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wc(e):Pu=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Du)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Pu=Ru=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Rc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Au;Au|=4,Iu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Au=u,bt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Gu,Gu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function xc(){if(null!==Yu){var e=kt($u),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Ec(u,u.return,_)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Au=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Sc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Nu&n)===n&&(4===Lu||3===Lu&&(130023424&Nu)===Nu&&500>Xe()-zu?dc(e,0):Vu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Rc(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Nc(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case P:s=14;break e;case N:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Au)&&(qu=Xe()+500,zi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Te,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(e[u]!==o[u])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],o[c[u]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function R(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=R,x=function(){N.postMessage(null)}}else x=function(){y(R,0)};function D(e){E=e,S||(S=!0,x())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/netflix_clone/",function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.r(e),n.d(e,{FirebaseError:function(){return SS},SDK_VERSION:function(){return WE},_DEFAULT_ENTRY_NAME:function(){return PE},_addComponent:function(){return LE},_addOrOverwriteComponent:function(){return ME},_apps:function(){return DE},_clearComponents:function(){return BE},_components:function(){return OE},_getProvider:function(){return jE},_registerComponent:function(){return FE},_removeServiceInstance:function(){return VE},deleteApp:function(){return QE},getApp:function(){return GE},getApps:function(){return KE},initializeApp:function(){return HE},onLog:function(){return XE},registerVersion:function(){return $E},setLogLevel:function(){return JE}});var u=n(791),c=n.t(u,2);var l=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),f=Math.abs,h=String.fromCharCode,d=Object.assign;function p(e){return e.trim()}function v(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function y(e,t){return 0|e.charCodeAt(t)}function g(e,t,n){return e.slice(t,n)}function b(e){return e.length}function k(e){return e.length}function w(e,t){return t.push(e),e}var _=1,x=1,S=0,E=0,T=0,I="";function C(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:_,column:x,length:o,return:""}}function A(e,t){return d(C("",null,null,"",null,null,0),e,{length:-e.length},t)}function R(){return T=E>0?y(I,--E):0,x--,10===T&&(x=1,_--),T}function P(){return T=E<S?y(I,E++):0,x++,10===T&&(x=1,_++),T}function N(){return y(I,E)}function D(){return E}function O(e,t){return g(I,e,t)}function L(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M(e){return _=x=1,S=b(I=e),E=0,[]}function F(e){return I="",e}function j(e){return p(O(E-1,U(91===e?e+2:40===e?e+1:e)))}function V(e){for(;(T=N())&&T<33;)P();return L(e)>2||L(T)>3?"":" "}function B(e,t){for(;--t&&P()&&!(T<48||T>102||T>57&&T<65||T>70&&T<97););return O(e,D()+(t<6&&32==N()&&32==P()))}function U(e){for(;P();)switch(T){case e:return E;case 34:case 39:34!==e&&39!==e&&U(T);break;case 40:41===e&&U(e);break;case 92:P()}return E}function z(e,t){for(;P()&&e+T!==57&&(e+T!==84||47!==N()););return"/*"+O(t,E-1)+"*"+h(47===e?e:P())}function q(e){for(;!L(N());)P();return O(e,E)}var W="-ms-",H="-moz-",G="-webkit-",K="comm",Q="rule",Y="decl",$="@import",X="@keyframes";function J(e,t){for(var n="",r=k(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Z(e,t,n,r){switch(e.type){case $:case Y:return e.return=e.return||e.value;case K:return"";case X:return e.return=e.value+"{"+J(e.children,r)+"}";case Q:e.value=e.props.join(",")}return b(n=J(e.children,r))?e.return=e.value+"{"+n+"}":""}function ee(e){return F(te("",null,null,null,[""],e=M(e),0,[0],e))}function te(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,d=0,p=0,g=0,k=1,_=1,x=1,S=0,E="",T=i,I=a,C=r,A=E;_;)switch(g=S,S=P()){case 40:if(108!=g&&58==y(A,f-1)){-1!=m(A+=v(j(S),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:A+=j(S);break;case 9:case 10:case 13:case 32:A+=V(g);break;case 92:A+=B(D()-1,7);continue;case 47:switch(N()){case 42:case 47:w(re(z(P(),D()),t,n),u);break;default:A+="/"}break;case 123*k:s[c++]=b(A)*x;case 125*k:case 59:case 0:switch(S){case 0:case 125:_=0;case 59+l:p>0&&b(A)-f&&w(p>32?ie(A+";",r,n,f-1):ie(v(A," ","")+";",r,n,f-2),u);break;case 59:A+=";";default:if(w(C=ne(A,t,n,c,l,i,s,E,T=[],I=[],f),a),123===S)if(0===l)te(A,t,C,C,T,a,f,s,I);else switch(99===d&&110===y(A,3)?100:d){case 100:case 109:case 115:te(e,C,C,r&&w(ne(e,C,C,0,0,i,s,E,i,T=[],f),I),i,I,f,s,r?T:I);break;default:te(A,C,C,C,[""],I,0,s,I)}}c=l=p=0,k=x=1,E=A="",f=o;break;case 58:f=1+b(A),p=g;default:if(k<1)if(123==S)--k;else if(125==S&&0==k++&&125==R())continue;switch(A+=h(S),S*k){case 38:x=l>0?1:(A+="\f",-1);break;case 44:s[c++]=(b(A)-1)*x,x=1;break;case 64:45===N()&&(A+=j(P())),d=N(),l=f=b(E=A+=q(D())),S++;break;case 45:45===g&&2==b(A)&&(k=0)}}return a}function ne(e,t,n,r,i,a,o,s,u,c,l){for(var h=i-1,d=0===i?a:[""],m=k(d),y=0,b=0,w=0;y<r;++y)for(var _=0,x=g(e,h+1,h=f(b=o[y])),S=e;_<m;++_)(S=p(b>0?d[_]+" "+x:v(x,/&\f/g,d[_])))&&(u[w++]=S);return C(e,t,n,0===i?Q:s,u,c,l)}function re(e,t,n){return C(e,t,n,K,h(T),g(e,2,-2),0)}function ie(e,t,n,r){return C(e,t,n,Y,g(e,0,r),g(e,r+1,-1),r)}var ae=function(e,t,n){for(var r=0,i=0;r=i,i=N(),38===r&&12===i&&(t[n]=1),!L(i);)P();return O(e,E)},oe=function(e,t){return F(function(e,t){var n=-1,r=44;do{switch(L(r)){case 0:38===r&&12===N()&&(t[n]=1),e[n]+=ae(E-1,t,n);break;case 2:e[n]+=j(r);break;case 4:if(44===r){e[++n]=58===N()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=h(r)}}while(r=P());return e}(M(e),t))},se=new WeakMap,ue=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||se.get(n))&&!r){se.set(e,!0);for(var i=[],a=oe(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},ce=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function le(e,t){switch(function(e,t){return 45^y(e,0)?(((t<<2^y(e,0))<<2^y(e,1))<<2^y(e,2))<<2^y(e,3):0}(e,t)){case 5103:return G+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return G+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return G+e+H+e+W+e+e;case 6828:case 4268:return G+e+W+e+e;case 6165:return G+e+W+"flex-"+e+e;case 5187:return G+e+v(e,/(\w+).+(:[^]+)/,G+"box-$1$2"+W+"flex-$1$2")+e;case 5443:return G+e+W+"flex-item-"+v(e,/flex-|-self/,"")+e;case 4675:return G+e+W+"flex-line-pack"+v(e,/align-content|flex-|-self/,"")+e;case 5548:return G+e+W+v(e,"shrink","negative")+e;case 5292:return G+e+W+v(e,"basis","preferred-size")+e;case 6060:return G+"box-"+v(e,"-grow","")+G+e+W+v(e,"grow","positive")+e;case 4554:return G+v(e,/([^-])(transform)/g,"$1"+G+"$2")+e;case 6187:return v(v(v(e,/(zoom-|grab)/,G+"$1"),/(image-set)/,G+"$1"),e,"")+e;case 5495:case 3959:return v(e,/(image-set\([^]*)/,G+"$1$`$1");case 4968:return v(v(e,/(.+:)(flex-)?(.*)/,G+"box-pack:$3"+W+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+G+e+e;case 4095:case 3583:case 4068:case 2532:return v(e,/(.+)-inline(.+)/,G+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(b(e)-1-t>6)switch(y(e,t+1)){case 109:if(45!==y(e,t+4))break;case 102:return v(e,/(.+:)(.+)-([^]+)/,"$1"+G+"$2-$3$1"+H+(108==y(e,t+3)?"$3":"$2-$3"))+e;case 115:return~m(e,"stretch")?le(v(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==y(e,t+1))break;case 6444:switch(y(e,b(e)-3-(~m(e,"!important")&&10))){case 107:return v(e,":",":"+G)+e;case 101:return v(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+G+(45===y(e,14)?"inline-":"")+"box$3$1"+G+"$2$3$1"+W+"$2box$3")+e}break;case 5936:switch(y(e,t+11)){case 114:return G+e+W+v(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return G+e+W+v(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return G+e+W+v(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return G+e+W+e+e}return e}var fe=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Y:e.return=le(e.value,e.length);break;case X:return J([A(e,{value:v(e.value,"@","@"+G)})],r);case Q:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return J([A(e,{props:[v(t,/:(read-\w+)/,":"+H+"$1")]})],r);case"::placeholder":return J([A(e,{props:[v(t,/:(plac\w+)/,":"+G+"input-$1")]}),A(e,{props:[v(t,/:(plac\w+)/,":"+H+"$1")]}),A(e,{props:[v(t,/:(plac\w+)/,W+"input-$1")]})],r)}return""}))}}],he=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||fe;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,f=[Z,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=k(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([ue,ce].concat(r,f));a=function(e,t,n,r){u=n,function(e){J(ee(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new l({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(s),d};function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var pe=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var ve=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},me={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ye=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},ge=/[A-Z]|^ms/g,be=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ke=function(e){return 45===e.charCodeAt(1)},we=function(e){return null!=e&&"boolean"!==typeof e},_e=ye((function(e){return ke(e)?e:e.replace(ge,"-$&").toLowerCase()})),xe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(be,(function(e,t,n){return Ee={name:t,styles:n,next:Ee},t}))}return 1===me[e]||ke(e)||"number"!==typeof t||0===t?t:t+"px"};function Se(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ee={name:n.name,styles:n.styles,next:Ee},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Ee={name:r.name,styles:r.styles,next:Ee},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Se(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":we(o)&&(r+=_e(a)+":"+xe(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Se(e,t,o);switch(a){case"animation":case"animationName":r+=_e(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)we(o[u])&&(r+=_e(a)+":"+xe(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Ee,a=n(e);return Ee=i,Se(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Ee,Te=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ie=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Ee=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Se(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Se(n,t,e[o]),r&&(i+=a[o]);Te.lastIndex=0;for(var s,u="";null!==(s=Te.exec(i));)u+="-"+s[1];return{name:ve(i)+u,styles:i,next:Ee}},Ce=!!c.useInsertionEffect&&c.useInsertionEffect,Ae=Ce||function(e){return e()},Re=Ce||u.useLayoutEffect,Pe=(0,u.createContext)("undefined"!==typeof HTMLElement?he({key:"css"}):null);Pe.Provider;var Ne=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(Pe);return e(t,r,n)}))},De=(0,u.createContext)({});var Oe=pe((function(e){return pe((function(t){return function(e,t){return"function"===typeof t?t(e):de({},e,t)}(e,t)}))})),Le=function(e){var t=(0,u.useContext)(De);return e.theme!==t&&(t=Oe(t)(e.theme)),(0,u.createElement)(De.Provider,{value:t},e.children)};n(110);var Me=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Fe=function(e,t,n){Me(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},je=Ne((function(e,t){var n=e.styles,r=Ie([n],void 0,(0,u.useContext)(De)),i=(0,u.useRef)();return Re((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,o=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(a=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),i.current=[n,a],function(){n.flush()}}),[t]),Re((function(){var e=i.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&Fe(t,r.next,!0),n.tags.length){var a=n.tags[n.tags.length-1].nextElementSibling;n.before=a,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null}));function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ie(t)}var Be=n(184),Ue="\n  :root {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root {\n      --chakra-vh: 100dvh;\n    }\n  }\n",ze=function(){return(0,Be.jsx)(je,{styles:Ue})},qe=function(){return(0,Be.jsx)(je,{styles:'\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: \'kern\';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type="button"]::-moz-focus-inner,\n      [type="reset"]::-moz-focus-inner,\n      [type="submit"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type="checkbox"],\n      [type="radio"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type="number"]::-webkit-inner-spin-button,\n      [type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type="number"] {\n        -moz-appearance: textfield;\n      }\n\n      [type="search"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type="search"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role="button"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n\n      '.concat(Ue,"\n    ")})};function We(e){if(Array.isArray(e))return e}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){if(e){if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function Ke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qe(e,t){return We(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Ge(e,t)||Ke()}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.strict,r=void 0===n||n,i=e.hookName,a=void 0===i?"useContext":i,o=e.providerName,s=void 0===o?"Provider":o,c=e.errorMessage,l=(0,u.createContext)(void 0);return l.displayName=t,[l.Provider,function e(){var t,n,i=(0,u.useContext)(l);if(!i&&r){var o=new Error(null!=c?c:(n=s,"".concat(a," returned `undefined`. Seems you forgot to wrap component within ").concat(n)));throw o.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,o,e),o}return i},l]}var $e=Qe(Ye({strict:!1,name:"PortalManagerContext"}),2),Xe=$e[0],Je=$e[1];function Ze(e){var t=e.children,n=e.zIndex;return(0,Be.jsx)(Xe,{value:{zIndex:n},children:t})}Ze.displayName="PortalManager";var et=(0,u.createContext)({});function tt(){var e=(0,u.useContext)(et);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function nt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ge(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function rt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function it(e){return function(e){if(Array.isArray(e))return He(e)}(e)||rt(e)||Ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e){return We(e)||rt(e)||Ge(e)||Ke()}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function st(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}function ut(){ut=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,n=new WeakMap;function r(e,t,i){var a=new RegExp(e,t);return n.set(a,i||n.get(e)),ot(a,r.prototype)}function i(e,t){var r=n.get(t);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var a=0;void 0===e[i[a]]&&a+1<i.length;)a++;t[n]=e[i[a]]}return t}),Object.create(null))}return st(r,RegExp),r.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},r.prototype[Symbol.replace]=function(r,a){if("string"==typeof a){var o=n.get(this);return e[Symbol.replace].call(this,r,a.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof a){var s=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=t(e[e.length-1])&&(e=[].slice.call(e)).push(i(e,s)),a.apply(this,e)}))}return e[Symbol.replace].call(this,r,a)},ut.apply(this,arguments)}et.displayName="ColorModeContext";var ct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};function lt(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ht(e)?e.apply(void 0,n):e}var ht=function(e){return"function"===typeof e};var dt=n(198),pt=["__cssMap","__cssVars","__breakpoints"],vt=function(e){return"string"===typeof e?e.replace(/!(important)?$/,"").trim():e},mt=function(e,t){return function(n){var r=String(t),i=function(e){return/!(important)?$/.test(e)}(r),a=vt(r),o=e?"".concat(e,".").concat(a):a,s=lt(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:t;return s=vt(s),i?"".concat(s," !important"):s}};function yt(e){var t=e.scale,n=e.transform,r=e.compose;return function(e,i){var a,o=mt(t,e)(i),s=null!=(a=null==n?void 0:n(o,i))?a:o;return r&&(s=r(s,i)),s}}var gt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}};function bt(e,t){return function(n){var r={property:n,scale:e};return r.transform=yt({scale:e,transform:t}),r}}var kt=function(e){var t=e.rtl,n=e.ltr;return function(e){return"rtl"===e.direction?t:n}};var wt=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var _t={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},xt={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var St={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Et="& > :not(style) ~ :not(style)",Tt=i({},Et,{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}),It=i({},Et,{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"}),Ct={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},At=new Set(Object.values(Ct)),Rt=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Pt=function(e){return e.trim()};var Nt=function(e){return"string"===typeof e&&e.includes("(")&&e.includes(")")};var Dt=function(e){return function(t){return"".concat(e,"(").concat(t,")")}},Ot={filter:function(e){return"auto"!==e?e:_t},backdropFilter:function(e){return"auto"!==e?e:xt},ring:function(e){return function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(Ot.px(e))},bgClip:function(e){return"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform:function(e){return"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(wt).join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(wt).join(" "):e},vh:function(e){return"$100vh"===e?"var(--chakra-vh)":e},px:function(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e},fraction:function(e){return"number"!==typeof e||e>1?e:"".concat(100*e,"%")},float:function(e,t){return"rtl"===t.direction?{left:"right",right:"left"}[e]:e},degree:function(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;var t="string"===typeof e&&!e.endsWith("deg");return"number"===typeof e||t?"".concat(e,"deg"):e},gradient:function(e,t){return function(e,t){var n,r;if(null==e||Rt.has(e))return e;var i=null!=(r=null==(n=ut(/(^[a-z-A-Z]+)\(((.*))\)/g,{type:1,values:2}).exec(e))?void 0:n.groups)?r:{},a=i.type,o=i.values;if(!a||!o)return e;var s=a.includes("-gradient")?a:"".concat(a,"-gradient"),u=at(o.split(",").map(Pt).filter(Boolean)),c=u[0],l=u.slice(1);if(0===(null==l?void 0:l.length))return e;var f=c in Ct?Ct[c]:c;l.unshift(f);var h=l.map((function(e){if(At.has(e))return e;var n=e.indexOf(" "),r=Qe(-1!==n?[e.substr(0,n),e.substr(n+1)]:[e],2),i=r[0],a=r[1],o=Nt(a)?a:a&&a.split(" "),s="colors.".concat(i),u=s in t.__cssMap?t.__cssMap[s].varRef:i;return o?[u].concat(it(Array.isArray(o)?o:[o])).join(" "):u}));return"".concat(s,"(").concat(h.join(", "),")")}(e,null!=t?t:{})},blur:Dt("blur"),opacity:Dt("opacity"),brightness:Dt("brightness"),contrast:Dt("contrast"),dropShadow:Dt("drop-shadow"),grayscale:Dt("grayscale"),hueRotate:Dt("hue-rotate"),invert:Dt("invert"),saturate:Dt("saturate"),sepia:Dt("sepia"),bgImage:function(e){return null==e||Nt(e)||Rt.has(e)?e:"url(".concat(e,")")},outline:function(e){var t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection:function(e){var t,n=null!=(t=St[e])?t:{},r=n.space,i=n.divide,a={flexDirection:e};return r&&(a[r]=1),i&&(a[i]=1),a}},Lt={borderWidths:bt("borderWidths"),borderStyles:bt("borderStyles"),colors:bt("colors"),borders:bt("borders"),radii:bt("radii",Ot.px),space:bt("space",gt(Ot.vh,Ot.px)),spaceT:bt("space",gt(Ot.vh,Ot.px)),degreeT:function(e){return{property:e,transform:Ot.degree}},prop:function(e,t,n){return o({property:e,scale:t},t&&{transform:yt({scale:t,transform:n})})},propT:function(e,t){return{property:e,transform:t}},sizes:bt("sizes",gt(Ot.vh,Ot.px)),sizesT:bt("sizes",gt(Ot.vh,Ot.fraction)),shadows:bt("shadows"),logical:function(e){var t=e.property,n=e.scale,r=e.transform;return{scale:n,property:kt(t),transform:n?yt({scale:n,compose:r}):r}},blur:bt("blur",Ot.blur)},Mt={background:Lt.colors("background"),backgroundColor:Lt.colors("backgroundColor"),backgroundImage:Lt.propT("backgroundImage",Ot.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Ot.bgClip},bgSize:Lt.prop("backgroundSize"),bgPosition:Lt.prop("backgroundPosition"),bg:Lt.colors("background"),bgColor:Lt.colors("backgroundColor"),bgPos:Lt.prop("backgroundPosition"),bgRepeat:Lt.prop("backgroundRepeat"),bgAttachment:Lt.prop("backgroundAttachment"),bgGradient:Lt.propT("backgroundImage",Ot.gradient),bgClip:{transform:Ot.bgClip}};Object.assign(Mt,{bgImage:Mt.backgroundImage,bgImg:Mt.backgroundImage});var Ft={border:Lt.borders("border"),borderWidth:Lt.borderWidths("borderWidth"),borderStyle:Lt.borderStyles("borderStyle"),borderColor:Lt.colors("borderColor"),borderRadius:Lt.radii("borderRadius"),borderTop:Lt.borders("borderTop"),borderBlockStart:Lt.borders("borderBlockStart"),borderTopLeftRadius:Lt.radii("borderTopLeftRadius"),borderStartStartRadius:Lt.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Lt.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Lt.radii("borderTopRightRadius"),borderStartEndRadius:Lt.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Lt.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Lt.borders("borderRight"),borderInlineEnd:Lt.borders("borderInlineEnd"),borderBottom:Lt.borders("borderBottom"),borderBlockEnd:Lt.borders("borderBlockEnd"),borderBottomLeftRadius:Lt.radii("borderBottomLeftRadius"),borderBottomRightRadius:Lt.radii("borderBottomRightRadius"),borderLeft:Lt.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Lt.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Lt.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Lt.borders(["borderLeft","borderRight"]),borderInline:Lt.borders("borderInline"),borderY:Lt.borders(["borderTop","borderBottom"]),borderBlock:Lt.borders("borderBlock"),borderTopWidth:Lt.borderWidths("borderTopWidth"),borderBlockStartWidth:Lt.borderWidths("borderBlockStartWidth"),borderTopColor:Lt.colors("borderTopColor"),borderBlockStartColor:Lt.colors("borderBlockStartColor"),borderTopStyle:Lt.borderStyles("borderTopStyle"),borderBlockStartStyle:Lt.borderStyles("borderBlockStartStyle"),borderBottomWidth:Lt.borderWidths("borderBottomWidth"),borderBlockEndWidth:Lt.borderWidths("borderBlockEndWidth"),borderBottomColor:Lt.colors("borderBottomColor"),borderBlockEndColor:Lt.colors("borderBlockEndColor"),borderBottomStyle:Lt.borderStyles("borderBottomStyle"),borderBlockEndStyle:Lt.borderStyles("borderBlockEndStyle"),borderLeftWidth:Lt.borderWidths("borderLeftWidth"),borderInlineStartWidth:Lt.borderWidths("borderInlineStartWidth"),borderLeftColor:Lt.colors("borderLeftColor"),borderInlineStartColor:Lt.colors("borderInlineStartColor"),borderLeftStyle:Lt.borderStyles("borderLeftStyle"),borderInlineStartStyle:Lt.borderStyles("borderInlineStartStyle"),borderRightWidth:Lt.borderWidths("borderRightWidth"),borderInlineEndWidth:Lt.borderWidths("borderInlineEndWidth"),borderRightColor:Lt.colors("borderRightColor"),borderInlineEndColor:Lt.colors("borderInlineEndColor"),borderRightStyle:Lt.borderStyles("borderRightStyle"),borderInlineEndStyle:Lt.borderStyles("borderInlineEndStyle"),borderTopRadius:Lt.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Lt.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Lt.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Lt.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Ft,{rounded:Ft.borderRadius,roundedTop:Ft.borderTopRadius,roundedTopLeft:Ft.borderTopLeftRadius,roundedTopRight:Ft.borderTopRightRadius,roundedTopStart:Ft.borderStartStartRadius,roundedTopEnd:Ft.borderStartEndRadius,roundedBottom:Ft.borderBottomRadius,roundedBottomLeft:Ft.borderBottomLeftRadius,roundedBottomRight:Ft.borderBottomRightRadius,roundedBottomStart:Ft.borderEndStartRadius,roundedBottomEnd:Ft.borderEndEndRadius,roundedLeft:Ft.borderLeftRadius,roundedRight:Ft.borderRightRadius,roundedStart:Ft.borderInlineStartRadius,roundedEnd:Ft.borderInlineEndRadius,borderStart:Ft.borderInlineStart,borderEnd:Ft.borderInlineEnd,borderTopStartRadius:Ft.borderStartStartRadius,borderTopEndRadius:Ft.borderStartEndRadius,borderBottomStartRadius:Ft.borderEndStartRadius,borderBottomEndRadius:Ft.borderEndEndRadius,borderStartRadius:Ft.borderInlineStartRadius,borderEndRadius:Ft.borderInlineEndRadius,borderStartWidth:Ft.borderInlineStartWidth,borderEndWidth:Ft.borderInlineEndWidth,borderStartColor:Ft.borderInlineStartColor,borderEndColor:Ft.borderInlineEndColor,borderStartStyle:Ft.borderInlineStartStyle,borderEndStyle:Ft.borderInlineEndStyle});var jt={color:Lt.colors("color"),textColor:Lt.colors("color"),fill:Lt.colors("fill"),stroke:Lt.colors("stroke")},Vt={boxShadow:Lt.shadows("boxShadow"),mixBlendMode:!0,blendMode:Lt.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Lt.prop("backgroundBlendMode"),opacity:!0};Object.assign(Vt,{shadow:Vt.boxShadow});var Bt={filter:{transform:Ot.filter},blur:Lt.blur("--chakra-blur"),brightness:Lt.propT("--chakra-brightness",Ot.brightness),contrast:Lt.propT("--chakra-contrast",Ot.contrast),hueRotate:Lt.degreeT("--chakra-hue-rotate"),invert:Lt.propT("--chakra-invert",Ot.invert),saturate:Lt.propT("--chakra-saturate",Ot.saturate),dropShadow:Lt.propT("--chakra-drop-shadow",Ot.dropShadow),backdropFilter:{transform:Ot.backdropFilter},backdropBlur:Lt.blur("--chakra-backdrop-blur"),backdropBrightness:Lt.propT("--chakra-backdrop-brightness",Ot.brightness),backdropContrast:Lt.propT("--chakra-backdrop-contrast",Ot.contrast),backdropHueRotate:Lt.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:Lt.propT("--chakra-backdrop-invert",Ot.invert),backdropSaturate:Lt.propT("--chakra-backdrop-saturate",Ot.saturate)},Ut={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Ot.flexDirection},experimental_spaceX:{static:Tt,transform:yt({scale:"space",transform:function(e){return null!==e?{"--chakra-space-x":e}:null}})},experimental_spaceY:{static:It,transform:yt({scale:"space",transform:function(e){return null!=e?{"--chakra-space-y":e}:null}})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Lt.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Lt.space("gap"),rowGap:Lt.space("rowGap"),columnGap:Lt.space("columnGap")};Object.assign(Ut,{flexDir:Ut.flexDirection});var zt={gridGap:Lt.space("gridGap"),gridColumnGap:Lt.space("gridColumnGap"),gridRowGap:Lt.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},qt={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Ot.outline},outlineOffset:!0,outlineColor:Lt.colors("outlineColor")},Wt={width:Lt.sizesT("width"),inlineSize:Lt.sizesT("inlineSize"),height:Lt.sizes("height"),blockSize:Lt.sizes("blockSize"),boxSize:Lt.sizes(["width","height"]),minWidth:Lt.sizes("minWidth"),minInlineSize:Lt.sizes("minInlineSize"),minHeight:Lt.sizes("minHeight"),minBlockSize:Lt.sizes("minBlockSize"),maxWidth:Lt.sizes("maxWidth"),maxInlineSize:Lt.sizes("maxInlineSize"),maxHeight:Lt.sizes("maxHeight"),maxBlockSize:Lt.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Lt.propT("float",Ot.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Wt,{w:Wt.width,h:Wt.height,minW:Wt.minWidth,maxW:Wt.maxWidth,minH:Wt.minHeight,maxH:Wt.maxHeight,overscroll:Wt.overscrollBehavior,overscrollX:Wt.overscrollBehaviorX,overscrollY:Wt.overscrollBehaviorY});var Ht={listStyleType:!0,listStylePosition:!0,listStylePos:Lt.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Lt.prop("listStyleImage")};var Gt=function(e){var t=new WeakMap;return function(n,r,i,a){if("undefined"===typeof n)return e(n,r,i);t.has(n)||t.set(n,new Map);var o=t.get(n);if(o.has(r))return o.get(r);var s=e(n,r,i,a);return o.set(r,s),s}}((function(e,t,n,r){var i="string"===typeof t?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return void 0===e?n:e})),Kt={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Qt={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Yt=function(e,t,n){var r={},i=Gt(e,t,{});for(var a in i){a in n&&null!=n[a]||(r[a]=i[a])}return r},$t={srOnly:{transform:function(e){return!0===e?Kt:"focusable"===e?Qt:{}}},layerStyle:{processResult:!0,transform:function(e,t,n){return Yt(t,"layerStyles.".concat(e),n)}},textStyle:{processResult:!0,transform:function(e,t,n){return Yt(t,"textStyles.".concat(e),n)}},apply:{processResult:!0,transform:function(e,t,n){return Yt(t,e,n)}}},Xt={position:!0,pos:Lt.prop("position"),zIndex:Lt.prop("zIndex","zIndices"),inset:Lt.spaceT("inset"),insetX:Lt.spaceT(["left","right"]),insetInline:Lt.spaceT("insetInline"),insetY:Lt.spaceT(["top","bottom"]),insetBlock:Lt.spaceT("insetBlock"),top:Lt.spaceT("top"),insetBlockStart:Lt.spaceT("insetBlockStart"),bottom:Lt.spaceT("bottom"),insetBlockEnd:Lt.spaceT("insetBlockEnd"),left:Lt.spaceT("left"),insetInlineStart:Lt.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Lt.spaceT("right"),insetInlineEnd:Lt.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Xt,{insetStart:Xt.insetInlineStart,insetEnd:Xt.insetInlineEnd});var Jt={ring:{transform:Ot.ring},ringColor:Lt.colors("--chakra-ring-color"),ringOffset:Lt.prop("--chakra-ring-offset-width"),ringOffsetColor:Lt.colors("--chakra-ring-offset-color"),ringInset:Lt.prop("--chakra-ring-inset")},Zt={margin:Lt.spaceT("margin"),marginTop:Lt.spaceT("marginTop"),marginBlockStart:Lt.spaceT("marginBlockStart"),marginRight:Lt.spaceT("marginRight"),marginInlineEnd:Lt.spaceT("marginInlineEnd"),marginBottom:Lt.spaceT("marginBottom"),marginBlockEnd:Lt.spaceT("marginBlockEnd"),marginLeft:Lt.spaceT("marginLeft"),marginInlineStart:Lt.spaceT("marginInlineStart"),marginX:Lt.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Lt.spaceT("marginInline"),marginY:Lt.spaceT(["marginTop","marginBottom"]),marginBlock:Lt.spaceT("marginBlock"),padding:Lt.space("padding"),paddingTop:Lt.space("paddingTop"),paddingBlockStart:Lt.space("paddingBlockStart"),paddingRight:Lt.space("paddingRight"),paddingBottom:Lt.space("paddingBottom"),paddingBlockEnd:Lt.space("paddingBlockEnd"),paddingLeft:Lt.space("paddingLeft"),paddingInlineStart:Lt.space("paddingInlineStart"),paddingInlineEnd:Lt.space("paddingInlineEnd"),paddingX:Lt.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Lt.space("paddingInline"),paddingY:Lt.space(["paddingTop","paddingBottom"]),paddingBlock:Lt.space("paddingBlock")};Object.assign(Zt,{m:Zt.margin,mt:Zt.marginTop,mr:Zt.marginRight,me:Zt.marginInlineEnd,marginEnd:Zt.marginInlineEnd,mb:Zt.marginBottom,ml:Zt.marginLeft,ms:Zt.marginInlineStart,marginStart:Zt.marginInlineStart,mx:Zt.marginX,my:Zt.marginY,p:Zt.padding,pt:Zt.paddingTop,py:Zt.paddingY,px:Zt.paddingX,pb:Zt.paddingBottom,pl:Zt.paddingLeft,ps:Zt.paddingInlineStart,paddingStart:Zt.paddingInlineStart,pr:Zt.paddingRight,pe:Zt.paddingInlineEnd,paddingEnd:Zt.paddingInlineEnd});var en={textDecorationColor:Lt.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Lt.shadows("textShadow")},tn={clipPath:!0,transform:Lt.propT("transform",Ot.transform),transformOrigin:!0,translateX:Lt.spaceT("--chakra-translate-x"),translateY:Lt.spaceT("--chakra-translate-y"),skewX:Lt.degreeT("--chakra-skew-x"),skewY:Lt.degreeT("--chakra-skew-y"),scaleX:Lt.prop("--chakra-scale-x"),scaleY:Lt.prop("--chakra-scale-y"),scale:Lt.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Lt.degreeT("--chakra-rotate")},nn={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Lt.prop("transitionDuration","transition.duration"),transitionProperty:Lt.prop("transitionProperty","transition.property"),transitionTimingFunction:Lt.prop("transitionTimingFunction","transition.easing")},rn={fontFamily:Lt.prop("fontFamily","fonts"),fontSize:Lt.prop("fontSize","fontSizes",Ot.px),fontWeight:Lt.prop("fontWeight","fontWeights"),lineHeight:Lt.prop("lineHeight","lineHeights"),letterSpacing:Lt.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform:function(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},an={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Lt.spaceT("scrollMargin"),scrollMarginTop:Lt.spaceT("scrollMarginTop"),scrollMarginBottom:Lt.spaceT("scrollMarginBottom"),scrollMarginLeft:Lt.spaceT("scrollMarginLeft"),scrollMarginRight:Lt.spaceT("scrollMarginRight"),scrollMarginX:Lt.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Lt.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Lt.spaceT("scrollPadding"),scrollPaddingTop:Lt.spaceT("scrollPaddingTop"),scrollPaddingBottom:Lt.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Lt.spaceT("scrollPaddingLeft"),scrollPaddingRight:Lt.spaceT("scrollPaddingRight"),scrollPaddingX:Lt.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Lt.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function on(e){return lt(e)&&e.reference?e.reference:String(e)}var sn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(on).join(" ".concat(e," ")).replace(/calc/g,"")},un=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(sn.apply(void 0,["+"].concat(t)),")")},cn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(sn.apply(void 0,["-"].concat(t)),")")},ln=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(sn.apply(void 0,["*"].concat(t)),")")},fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(sn.apply(void 0,["/"].concat(t)),")")},hn=function(e){var t=on(e);return null==t||Number.isNaN(parseFloat(t))?ln(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},dn=Object.assign((function(e){return{add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(un.apply(void 0,[e].concat(n)))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(cn.apply(void 0,[e].concat(n)))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(ln.apply(void 0,[e].concat(n)))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(fn.apply(void 0,[e].concat(n)))},negate:function(){return dn(hn(e))},toString:function(){return e.toString()}}}),{add:un,subtract:cn,multiply:ln,divide:fn,negate:hn});function pn(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return function(e){return e.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(e){if(e.includes("\\."))return e;var t=!Number.isInteger(parseFloat(e.toString()));return t?e.replace(".","\\."):e}(t))}function vn(e,t){return"var(".concat(e).concat(t?", ".concat(t):"",")")}function mn(e){return pn("--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")))}function yn(e,t,n){var r=mn(e,n);return{variable:r,reference:vn(r,t)}}function gn(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function bn(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e}var kn=function(e,t){return parseInt(e[1],10)>parseInt(t[1],10)?1:-1},wn=function(e){return Object.fromEntries(Object.entries(e).sort(kn))};function _n(e){var t=wn(e);return Object.assign(Object.values(t),t)}function xn(e){var t;if(!e)return e;e=null!=(t=bn(e))?t:e;return"number"===typeof e?"".concat(e+-.02):e.replace(/([0-9]+\.?[0-9]*)/,(function(e){return"".concat(parseFloat(e)+-.02)}))}function Sn(e,t){var n=["@media screen"];return e&&n.push("and","(min-width: ".concat(bn(e),")")),t&&n.push("and","(max-width: ".concat(bn(t),")")),n.join(" ")}function En(e){var t;if(!e)return null;e.base=null!=(t=e.base)?t:"0px";var n=_n(e),r=Object.entries(e).sort(kn).map((function(e,t,n){var r,i=Qe(e,2),a=i[0],o=i[1],s=Qe(null!=(r=n[t+1])?r:[],2)[1];return s=parseFloat(s)>0?xn(s):void 0,{_minW:xn(o),breakpoint:a,minW:o,maxW:s,maxWQuery:Sn(null,s),minWQuery:Sn(o),minMaxQuery:Sn(o,s)}})),i=function(e){var t=Object.keys(wn(e));return new Set(t)}(e),a=Array.from(i.values());return{keys:i,normalized:n,isResponsive:function(e){var t=Object.keys(e);return t.length>0&&t.every((function(e){return i.has(e)}))},asObject:wn(e),asArray:_n(e),details:r,media:[null].concat(it(n.map((function(e){return Sn(e)})).slice(1))),toArrayValue:function(e){if(!lt(e))throw new Error("toArrayValue: value must be an object");for(var t=a.map((function(t){var n;return null!=(n=e[t])?n:null}));null===gn(t);)t.pop();return t},toObjectValue:function(e){if(!Array.isArray(e))throw new Error("toObjectValue: value must be an array");return e.reduce((function(e,t,n){var r=a[n];return null!=r&&null!=t&&(e[r]=t),e}),{})}}}var Tn=function(e,t){return"".concat(e,":hover ").concat(t,", ").concat(e,"[data-hover] ").concat(t)},In=function(e,t){return"".concat(e,":focus ").concat(t,", ").concat(e,"[data-focus] ").concat(t)},Cn=function(e,t){return"".concat(e,":focus-visible ").concat(t)},An=function(e,t){return"".concat(e,":focus-within ").concat(t)},Rn=function(e,t){return"".concat(e,":active ").concat(t,", ").concat(e,"[data-active] ").concat(t)},Pn=function(e,t){return"".concat(e,":disabled ").concat(t,", ").concat(e,"[data-disabled] ").concat(t)},Nn=function(e,t){return"".concat(e,":invalid ").concat(t,", ").concat(e,"[data-invalid] ").concat(t)},Dn=function(e,t){return"".concat(e,":checked ").concat(t,", ").concat(e,"[data-checked] ").concat(t)},On=function(e,t){return"".concat(e,":placeholder-shown ").concat(t)},Ln=function(e){return Fn((function(t){return e(t,"&")}),"[role=group]","[data-group]",".group")},Mn=function(e){return Fn((function(t){return e(t,"~ &")}),"[data-peer]",".peer")},Fn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(e).join(", ")},jn={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Ln(Tn),_peerHover:Mn(Tn),_groupFocus:Ln(In),_peerFocus:Mn(In),_groupFocusVisible:Ln(Cn),_peerFocusVisible:Mn(Cn),_groupActive:Ln(Rn),_peerActive:Mn(Rn),_groupDisabled:Ln(Pn),_peerDisabled:Mn(Pn),_groupInvalid:Ln(Nn),_peerInvalid:Mn(Nn),_groupChecked:Ln(Dn),_peerChecked:Mn(Dn),_groupFocusWithin:Ln(An),_peerFocusWithin:Mn(An),_peerPlaceholderShown:Mn(On),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},Vn=Object.keys(jn);function Bn(e,t){return yn(String(e).replace(/\./g,"-"),void 0,t)}function Un(e,t){for(var n={},r={},a=function(){var a=Qe(s[o],2),u=a[0],c=a[1],l=c.isSemantic,f=c.value,h=Bn(u,null==t?void 0:t.cssVarPrefix),d=h.variable,p=h.reference;if(!l){if(u.startsWith("space")){var v=at(u.split(".")),m=v[0],y=v.slice(1),g="".concat(m,".-").concat(y.join(".")),b=dn.negate(f),k=dn.negate(p);r[g]={value:b,var:d,varRef:k}}return n[d]=f,r[u]={value:f,var:d,varRef:p},"continue"}var w=lt(f)?f:{default:f};n=dt(n,Object.entries(w).reduce((function(n,r){var a,o,s=Qe(r,2),c=s[0],l=function(n){var r=[String(u).split(".")[0],n].join(".");return e[r]?Bn(r,null==t?void 0:t.cssVarPrefix).reference:n}(s[1]);return"default"===c?(n[d]=l,n):(n[null!=(o=null==(a=jn)?void 0:a[c])?o:c]=i({},d,l),n)}),{})),r[u]={value:p,var:d,varRef:p}},o=0,s=Object.entries(e);o<s.length;o++)a();return{cssVars:n,cssMap:r}}var zn=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function qn(e){return function(e,t){var n,r={},i=nt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a in e&&(r[a]=e[a])}}catch(o){i.e(o)}finally{i.f()}return r}(e,zn)}function Wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return(lt(e)||Array.isArray(e))&&t?Object.entries(e).reduce((function(e,n){var r=Qe(n,2),i=r[0],a=r[1];return lt(a)||Array.isArray(a)?Object.entries(Wn(a,t-1)).forEach((function(t){var n=Qe(t,2),r=n[0],a=n[1];e["".concat(i,".").concat(r)]=a})):e[i]=a,e}),{}):e}function Hn(e){var t,n=function(e){return e.__cssMap,e.__cssVars,e.__breakpoints,s(e,pt)}(e),r=qn(n),i=function(e){return e.semanticTokens}(n),a=function(e){var t,n,r=e.tokens,i=e.semanticTokens,a=Object.entries(null!=(t=Wn(r))?t:{}).map((function(e){var t=Qe(e,2);return[t[0],{isSemantic:!1,value:t[1]}]})),o=Object.entries(null!=(n=Wn(i,1))?n:{}).map((function(e){var t=Qe(e,2);return[t[0],{isSemantic:!0,value:t[1]}]}));return Object.fromEntries([].concat(it(a),it(o)))}({tokens:r,semanticTokens:i}),u=Un(a,{cssVarPrefix:null==(t=n.config)?void 0:t.cssVarPrefix}),c=u.cssMap,l=u.cssVars;return Object.assign(n,{__cssVars:o(o({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"}),l),__cssMap:c,__breakpoints:En(n.breakpoints)}),n}var Gn=dt({},Mt,Ft,jt,Ut,Wt,Bt,Jt,qt,zt,$t,Xt,Vt,Zt,an,rn,en,tn,Ht,nn),Kn=Object.assign({},Zt,Wt,Ut,zt,Xt),Qn=(Object.keys(Kn),[].concat(it(Object.keys(Gn)),Vn)),Yn=o(o({},Gn),jn),$n=function(e){return e in Yn},Xn=function(e){return function(t){if(!t.__breakpoints)return e;var n=t.__breakpoints,r=n.isResponsive,i=n.toArrayValue,a=n.media,o={};for(var s in e){var u=ft(e[s],t);if(null!=u)if(u=lt(u)&&r(u)?i(u):u,Array.isArray(u))for(var c=u.slice(0,a.length).length,l=0;l<c;l+=1){var f=null==a?void 0:a[l];f?(o[f]=o[f]||{},null!=u[l]&&(o[f][s]=u[l])):o[s]=u[l]}else o[s]=u}return o}};var Jn=function(e,t){return e.startsWith("--")&&"string"===typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t)},Zn=function(e,t){var n,r;if(null==t)return t;var i=function(t){var n,r;return null==(r=null==(n=e.__cssMap)?void 0:n[t])?void 0:r.varRef},a=function(e){var t;return null!=(t=i(e))?t:e},o=function(e){for(var t=[],n="",r=!1,i=0;i<e.length;i++){var a=e[i];"("===a?(r=!0,n+=a):")"===a?(r=!1,n+=a):","!==a||r?n+=a:(t.push(n),n="")}return(n=n.trim())&&t.push(n),t}(t),s=Qe(o,2),u=s[0],c=s[1];return t=null!=(r=null!=(n=i(u))?n:a(c))?r:a(t)};var er=function(e){return function(t){var n=function(e){var t=e.configs,n=void 0===t?{}:t,r=e.pseudos,i=void 0===r?{}:r,a=e.theme;return function e(t){var r,o,s,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=ft(t,a),l=Xn(c)(a),f={};for(var h in l){var d=ft(l[h],a);h in i&&(h=i[h]),Jn(h,d)&&(d=Zn(a,d));var p=n[h];if(!0===p&&(p={property:h}),lt(d))f[h]=null!=(r=f[h])?r:{},f[h]=dt({},f[h],e(d,!0));else{var v=null!=(s=null==(o=null==p?void 0:p.transform)?void 0:o.call(p,d,a,c))?s:d;v=(null==p?void 0:p.processResult)?e(v,!0):v;var m=ft(null==p?void 0:p.property,a);if(!u&&(null==p?void 0:p.static)){var y=ft(p.static,a);f=dt({},f,y)}if(m&&Array.isArray(m)){var g,b=nt(m);try{for(b.s();!(g=b.n()).done;)f[g.value]=v}catch(k){b.e(k)}finally{b.f()}}else m?"&"===m&&lt(v)?f=dt({},f,v):f[m]=v:lt(v)?f=dt({},f,v):f[h]=v}}return f}}({theme:t,pseudos:jn,configs:Gn});return n(e)}};function tr(e){return{definePartsStyle:function(e){return e},defineMultiStyleConfig:function(t){return o({parts:e},t)}}}function nr(e){var t=e.__breakpoints;return function(e,n,r,a){var o,s;if(t){var u={},c=function(e,t){return Array.isArray(e)?e:lt(e)?t(e):null!=e?[e]:void 0}(r,t.toArrayValue);if(!c)return u;for(var l=c.length,f=1===l,h=!!e.parts,d=function(){var r=t.details[p],l=t.details[function(e,t){for(var n=t+1;n<e.length;n++)if(null!=e[n])return n;return-1}(c,p)],d=Sn(r.minW,null==l?void 0:l._minW),v=ft(null==(o=e[n])?void 0:o[c[p]],a);return v?h?(null==(s=e.parts)||s.forEach((function(e){dt(u,i({},e,f?v[e]:i({},d,v[e])))})),"continue"):h?void(u[d]=v):(f?dt(u,v):u[d]=v,"continue"):"continue"},p=0;p<l;p++)d();return u}}}function rr(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),i=nt(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a in r&&delete r[a]}}catch(o){i.e(o)}finally{i.f()}return r}(e,["styleConfig","size","variant","colorScheme"])}var ir=function(e){var t=new WeakMap;return function(n,r,i,a){if("undefined"===typeof n)return e(n,r,i);t.has(n)||t.set(n,new Map);var o=t.get(n);if(o.has(r))return o.get(r);var s=e(n,r,i,a);return o.set(r,s),s}}((function(e,t,n,r){var i="string"===typeof t?t.split("."):[t];for(r=0;r<i.length&&e;r+=1)e=e[i[r]];return void 0===e?n:e}));function ar(e,t){var n={};return Object.keys(e).forEach((function(r){var i=e[r];t(i,r,e)&&(n[r]=i)})),n}var or=function(e){return ar(e,(function(e){return null!==e&&void 0!==e}))};function sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e}function ur(e){var t=e.cssVarsRoot,n=e.theme,r=e.children,i=(0,u.useMemo)((function(){return Hn(n)}),[n]);return(0,Be.jsxs)(Le,{theme:i,children:[(0,Be.jsx)(cr,{root:t}),r]})}function cr(e){var t=e.root,n=[void 0===t?":host, :root":t,"[data-theme]"].join(",");return(0,Be.jsx)(je,{styles:function(e){return i({},n,e.__cssVars)}})}var lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.strict,n=void 0===t||t,r=e.errorMessage,i=void 0===r?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":r,a=e.name,o=(0,u.createContext)(void 0);return o.displayName=a,[o.Provider,function e(){var t,r=(0,u.useContext)(o);if(!r&&n){var a=new Error(i);throw a.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,a,e),a}return r},o]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),fr=Qe(lr,2);fr[0],fr[1];function hr(){var e=tt().colorMode;return(0,Be.jsx)(je,{styles:function(t){var n=sr(ir(t,"styles.global"),{theme:t,colorMode:e});if(n){var r=er(n)(t);return r}}})}var dr={light:"chakra-ui-light",dark:"chakra-ui-dark"};var pr="chakra-ui-color-mode";var vr,mr=(vr=pr,{ssr:!1,type:"localStorage",get:function(e){if(!(null==globalThis?void 0:globalThis.document))return e;var t;try{t=localStorage.getItem(vr)||e}catch(n){}return t||e},set:function(e){try{localStorage.setItem(vr,e)}catch(t){}}});function yr(e,t){var n=e.match(new RegExp("(^| )".concat(t,"=([^;]+)")));return null==n?void 0:n[2]}function gr(e,t){return{ssr:!!t,type:"cookie",get:function(n){return t?yr(t,e):(null==globalThis?void 0:globalThis.document)&&yr(document.cookie,e)||n},set:function(t){document.cookie="".concat(e,"=").concat(t,"; max-age=31536000; path=/")}}}gr(pr);var br=Boolean(null==globalThis?void 0:globalThis.document)?u.useLayoutEffect:u.useEffect,kr=function(){};function wr(e,t){return"cookie"===e.type&&e.ssr?e.get(t):t}function _r(e){var t=e.value,n=e.children,r=e.options,i=void 0===r?{}:r,a=i.useSystemColorMode,o=i.initialColorMode,s=i.disableTransitionOnChange,c=e.colorModeManager,l=void 0===c?mr:c,f="dark"===o?"dark":"light",h=Qe((0,u.useState)((function(){return wr(l,f)})),2),d=h[0],p=h[1],v=Qe((0,u.useState)((function(){return wr(l)})),2),m=v[0],y=v[1],g=(0,u.useMemo)((function(){return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preventTransition,t=void 0===e||e,n={setDataset:function(e){var r=t?n.preventTransition():void 0;document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e,null==r||r()},setClassName:function(e){document.body.classList.add(e?dr.dark:dr.light),document.body.classList.remove(e?dr.light:dr.dark)},query:function(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme:function(e){var t;return(null!=(t=n.query().matches)?t:"dark"===e)?"dark":"light"},addListener:function(e){var t=n.query(),r=function(t){e(t.matches?"dark":"light")};return"function"===typeof t.addListener?t.addListener(r):t.addEventListener("change",r),function(){"function"===typeof t.removeListener?t.removeListener(r):t.removeEventListener("change",r)}},preventTransition:function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),function(){window.getComputedStyle(document.body),requestAnimationFrame((function(){requestAnimationFrame((function(){document.head.removeChild(e)}))}))}}};return n}({preventTransition:s})}),[s]),b=g.getSystemTheme,k=g.setClassName,w=g.setDataset,_=g.addListener,x="system"!==o||d?d:m,S=(0,u.useCallback)((function(e){var t="system"===e?b():e;p(t),k("dark"===t),w(t),l.set(t)}),[l,b,k,w]);br((function(){"system"===o&&y(b())}),[]),(0,u.useEffect)((function(){var e=l.get();S(e||("system"!==o?f:"system"))}),[l,f,o,S]);var E=(0,u.useCallback)((function(){S("dark"===x?"light":"dark")}),[x,S]);(0,u.useEffect)((function(){if(a)return _(S)}),[a,_,S]);var T=(0,u.useMemo)((function(){return{colorMode:null!=t?t:x,toggleColorMode:t?kr:E,setColorMode:t?kr:S,forced:void 0!==t}}),[x,E,S,t]);return(0,Be.jsx)(et.Provider,{value:T,children:n})}_r.displayName="ColorModeProvider";var xr=(0,u.createContext)({getDocument:function(){return document},getWindow:function(){return window}});function Sr(e){var t=e.children,n=e.environment,r=e.disabled,i=(0,u.useRef)(null),a=(0,u.useMemo)((function(){return n||{getDocument:function(){var e,t;return null!=(t=null==(e=i.current)?void 0:e.ownerDocument)?t:document},getWindow:function(){var e,t;return null!=(t=null==(e=i.current)?void 0:e.ownerDocument.defaultView)?t:window}}}),[n]),o=!r||!n;return(0,Be.jsxs)(xr.Provider,{value:a,children:[t,o&&(0,Be.jsx)("span",{id:"__chakra_env",hidden:!0,ref:i})]})}xr.displayName="EnvironmentContext",Sr.displayName="EnvironmentProvider";var Er=function(e){var t=e.children,n=e.colorModeManager,r=e.portalZIndex,i=e.resetCSS,a=void 0===i||i,o=e.theme,s=void 0===o?{}:o,u=e.environment,c=e.cssVarsRoot,l=e.disableEnvironment,f=(0,Be.jsx)(Sr,{environment:u,disabled:l,children:t});return(0,Be.jsx)(ur,{theme:s,cssVarsRoot:c,children:(0,Be.jsxs)(_r,{colorModeManager:n,options:s.config,children:[a?(0,Be.jsx)(qe,{}):(0,Be.jsx)(ze,{}),(0,Be.jsx)(hr,{}),r?(0,Be.jsx)(Ze,{zIndex:r,children:f}):f]})})},Tr={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Ir={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Cr={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Ar={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Rr={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},Pr={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},Nr={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Dr={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Or={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},Lr={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Mr=o(o(o({},Lr),{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"}),{},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}}),Fr=o(o({breakpoints:Ir,zIndices:Tr,radii:Ar,blur:Nr,colors:Cr},Or),{},{sizes:Mr,shadows:Rr,space:Lr,borders:Dr,transition:Pr});function jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(t){var n=(["container","root"].includes(null!=t?t:"")?[e]:[e,t]).filter(Boolean).join("__"),r="chakra-".concat(n);return{className:r,selector:".".concat(r),toString:function(){return t}}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=0,u=a;s<u.length;s++){var c=u[s];t[c]=r(c)}return jr(e,t)},toPart:r,extend:function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var o=0,s=i;o<s.length;o++){var u=s[o];u in t||(t[u]=r(u))}return jr(e,t)},selectors:function(){return Object.fromEntries(Object.entries(t).map((function(e){var t=Qe(e,2);return[t[0],t[1].selector]})))},classnames:function(){return Object.fromEntries(Object.entries(t).map((function(e){var t=Qe(e,2);return[t[0],t[1].className]})))},get keys(){return Object.keys(t)},__type:{}}}var Vr=jr("accordion").parts("root","container","button","panel").extend("icon"),Br=jr("alert").parts("title","description","container").extend("icon","spinner"),Ur=jr("avatar").parts("label","badge","container").extend("excessLabel","group"),zr=jr("breadcrumb").parts("link","item","container").extend("separator"),qr=(jr("button").parts(),jr("checkbox").parts("control","icon","container").extend("label")),Wr=(jr("progress").parts("track","filledTrack").extend("label"),jr("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),Hr=jr("editable").parts("preview","input","textarea"),Gr=jr("form").parts("container","requiredIndicator","helperText"),Kr=jr("formError").parts("text","icon"),Qr=jr("input").parts("addon","field","element"),Yr=jr("list").parts("container","item","icon"),$r=jr("menu").parts("button","list","item").extend("groupTitle","command","divider"),Xr=jr("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Jr=jr("numberinput").parts("root","field","stepperGroup","stepper"),Zr=(jr("pininput").parts("field"),jr("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),ei=jr("progress").parts("label","filledTrack","track"),ti=jr("radio").parts("container","control","label"),ni=jr("select").parts("field","icon"),ri=jr("slider").parts("container","track","thumb","filledTrack","mark"),ii=jr("stat").parts("container","label","helpText","number","icon"),ai=jr("switch").parts("container","track","thumb"),oi=jr("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),si=jr("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),ui=jr("tag").parts("container","label","closeButton"),ci=jr("card").parts("container","header","body","footer");function li(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(/\s+/g,t)}(e.toString());return t.includes("\\.")?e:function(e){return!Number.isInteger(parseFloat(e.toString()))}(e)?t.replace(".","\\."):e}function fi(e,t){return"var(".concat(li(e)).concat(t?", ".concat(t):"",")")}function hi(e){return"--".concat(function(e){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",li(e)].filter(Boolean).join("-")}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))}function di(e,t){var n=hi(e,null==t?void 0:t.prefix);return{variable:n,reference:fi(n,pi(null==t?void 0:t.fallback))}}function pi(e){return"string"===typeof e?e:null==e?void 0:e.reference}function vi(e){return lt(e)&&e.reference?e.reference:String(e)}var mi,yi,gi,bi=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(vi).join(" ".concat(e," ")).replace(/calc/g,"")},ki=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(bi.apply(void 0,["+"].concat(t)),")")},wi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(bi.apply(void 0,["-"].concat(t)),")")},_i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(bi.apply(void 0,["*"].concat(t)),")")},xi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(bi.apply(void 0,["/"].concat(t)),")")},Si=function(e){var t=vi(e);return null==t||Number.isNaN(parseFloat(t))?_i(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},Ei=Object.assign((function(e){return{add:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ei(ki.apply(void 0,[e].concat(n)))},subtract:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ei(wi.apply(void 0,[e].concat(n)))},multiply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ei(_i.apply(void 0,[e].concat(n)))},divide:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ei(xi.apply(void 0,[e].concat(n)))},negate:function(){return Ei(Si(e))},toString:function(){return e.toString()}}}),{add:ki,subtract:wi,multiply:_i,divide:xi,negate:Si}),Ti=tr(ai.keys),Ii=Ti.defineMultiStyleConfig,Ci=Ti.definePartsStyle,Ai=di("switch-track-width"),Ri=di("switch-track-height"),Pi=di("switch-track-diff"),Ni=Ei.subtract(Ai,Ri),Di=di("switch-thumb-x"),Oi=di("switch-bg"),Li=function(e){var t,n,r=e.colorScheme;return i(n={borderRadius:"full",p:"0.5",width:[Ai.reference],height:[Ri.reference],transitionProperty:"common",transitionDuration:"fast"},Oi.variable,"colors.gray.300"),i(n,"_dark",i({},Oi.variable,"colors.whiteAlpha.400")),i(n,"_focusVisible",{boxShadow:"outline"}),i(n,"_disabled",{opacity:.4,cursor:"not-allowed"}),i(n,"_checked",(i(t={},Oi.variable,"colors.".concat(r,".500")),i(t,"_dark",i({},Oi.variable,"colors.".concat(r,".200"))),t)),i(n,"bg",Oi.reference),n},Mi={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Ri.reference],height:[Ri.reference],_checked:{transform:"translateX(".concat(Di.reference,")")}},Fi=Ci((function(e){var t;return{container:(t={},i(t,Pi.variable,Ni),i(t,Di.variable,Pi.reference),i(t,"_rtl",i({},Di.variable,Ei(Pi).negate().toString())),t),track:Li(e),thumb:Mi}})),ji=Ii({baseStyle:Fi,sizes:{sm:Ci({container:(mi={},i(mi,Ai.variable,"1.375rem"),i(mi,Ri.variable,"sizes.3"),mi)}),md:Ci({container:(yi={},i(yi,Ai.variable,"1.875rem"),i(yi,Ri.variable,"sizes.4"),yi)}),lg:Ci({container:(gi={},i(gi,Ai.variable,"2.875rem"),i(gi,Ri.variable,"sizes.6"),gi)})},defaultProps:{size:"md",colorScheme:"blue"}});function Vi(e,t){return function(n){return"dark"===n.colorMode?t:e}}function Bi(e){var t=e.orientation,n=e.vertical,r=e.horizontal;return t?"vertical"===t?n:r:{}}var Ui=tr(oi.keys),zi=Ui.defineMultiStyleConfig,qi=Ui.definePartsStyle,Wi=qi({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Hi={"&[data-is-numeric=true]":{textAlign:"end"}},Gi=qi((function(e){var t=e.colorScheme;return{th:o({color:Vi("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Vi("".concat(t,".100"),"".concat(t,".700"))(e)},Hi),td:o({borderBottom:"1px",borderColor:Vi("".concat(t,".100"),"".concat(t,".700"))(e)},Hi),caption:{color:Vi("gray.600","gray.100")(e)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),Ki=qi((function(e){var t=e.colorScheme;return{th:o({color:Vi("gray.600","gray.400")(e),borderBottom:"1px",borderColor:Vi("".concat(t,".100"),"".concat(t,".700"))(e)},Hi),td:o({borderBottom:"1px",borderColor:Vi("".concat(t,".100"),"".concat(t,".700"))(e)},Hi),caption:{color:Vi("gray.600","gray.100")(e)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Vi("".concat(t,".100"),"".concat(t,".700"))(e)},td:{background:Vi("".concat(t,".100"),"".concat(t,".700"))(e)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),Qi=zi({baseStyle:Wi,variants:{simple:Gi,striped:Ki,unstyled:{}},sizes:{sm:qi({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:qi({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:qi({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function Yi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function $i(e,t,n){return t&&Yi(e.prototype,t),n&&Yi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e){return Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ji(e)}function Zi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e){var n=Zi();return function(){var r,i=Ji(e);if(n){var a=Ji(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ea(e)}(this,r)}}function na(e,t,n){return na=Zi()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ot(i,n.prototype),i},na.apply(null,arguments)}function ra(e){var t="function"===typeof Map?new Map:void 0;return ra=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return na(e,arguments,Ji(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ot(n,e)},ra(e)}function ia(e,t,n){return Math.min(Math.max(e,n),t)}var aa=function(e){st(n,e);var t=ta(n);function n(e){return Xi(this,n),t.call(this,'Failed to parse color: "'.concat(e,'"'))}return $i(n)}(ra(Error)),oa=aa;function sa(e){if("string"!==typeof e)throw new oa(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];var t=e.trim();t=va.test(e)?function(e){var t=e.toLowerCase().trim(),n=ca[function(e){var t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new oa(e);return"#".concat(n)}(e):e;var n=fa.exec(t);if(n){var r=Array.from(n).slice(1);return[].concat(it(r.slice(0,3).map((function(e){return parseInt(la(e,2),16)}))),[parseInt(la(r[3]||"f",2),16)/255])}var i=ha.exec(t);if(i){var a=Array.from(i).slice(1);return[].concat(it(a.slice(0,3).map((function(e){return parseInt(e,16)}))),[parseInt(a[3]||"ff",16)/255])}var o=da.exec(t);if(o){var s=Array.from(o).slice(1);return[].concat(it(s.slice(0,3).map((function(e){return parseInt(e,10)}))),[parseFloat(s[3]||"1")])}var u=pa.exec(t);if(u){var c=Qe(Array.from(u).slice(1).map(parseFloat),4),l=c[0],f=c[1],h=c[2],d=c[3];if(ia(0,100,f)!==f)throw new oa(e);if(ia(0,100,h)!==h)throw new oa(e);return[].concat(it(ya(l,f,h)),[Number.isNaN(d)?1:d])}throw new oa(e)}var ua=function(e){return parseInt(e.replace(/_/g,""),36)},ca="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((function(e,t){for(var n=ua(t.substring(0,3)),r=ua(t.substring(3)).toString(16),i="",a=0;a<6-r.length;a++)i+="0";return e[n]="".concat(i).concat(r),e}),{});var la=function(e,t){return Array.from(Array(t)).map((function(){return e})).join("")},fa=new RegExp("^#".concat(la("([a-f0-9])",3),"([a-f0-9])?$"),"i"),ha=new RegExp("^#".concat(la("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),da=new RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(la(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),pa=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,va=/^[a-z]+$/i,ma=function(e){return Math.round(255*e)},ya=function(e,t,n){var r=n/100;if(0===t)return[r,r,r].map(ma);var i=(e%360+360)%360/60,a=(1-Math.abs(2*r-1))*(t/100),o=a*(1-Math.abs(i%2-1)),s=0,u=0,c=0;i>=0&&i<1?(s=a,u=o):i>=1&&i<2?(s=o,u=a):i>=2&&i<3?(u=a,c=o):i>=3&&i<4?(u=o,c=a):i>=4&&i<5?(s=o,c=a):i>=5&&i<6&&(s=a,c=o);var l=r-a/2;return[s+l,u+l,c+l].map(ma)};function ga(e,t,n,r){return"rgba(".concat(ia(0,255,e).toFixed(),", ").concat(ia(0,255,t).toFixed(),", ").concat(ia(0,255,n).toFixed(),", ").concat(parseFloat(ia(0,1,r).toFixed(3)),")")}function ba(e,t){var n=Qe(sa(e),4);return ga(n[0],n[1],n[2],n[3]-t)}var ka=function(e){return 0===Object.keys(e).length},wa=function(e,t,n){var r=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}(e,"colors.".concat(t),t);try{return function(e){var t=Qe(sa(e),4),n=t[0],r=t[1],i=t[2],a=t[3],o=function(e){var t=ia(0,255,e).toString(16);return 1===t.length?"0".concat(t):t};"#".concat(o(n)).concat(o(r)).concat(o(i)).concat(a<1?o(Math.round(255*a)):"")}(r),r}catch(i){return null!=n?n:"#000000"}},_a=function(e){return function(t){var n=function(e){var t=Qe(sa(e),3);return(299*t[0]+587*t[1]+114*t[2])/1e3}(wa(t,e));return n<128?"dark":"light"}},xa=function(e,t){return function(n){return ba(wa(n,e),1-t)}};function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:"linear-gradient(\n    45deg,\n    ".concat(t," 25%,\n    transparent 25%,\n    transparent 50%,\n    ").concat(t," 50%,\n    ").concat(t," 75%,\n    transparent 75%,\n    transparent\n  )"),backgroundSize:"".concat(e," ").concat(e)}}var Ea=function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"))};function Ta(e){var t=Ea();return!e||ka(e)?t:e.string&&e.colors?function(e,t){var n=0;if(0===e.length)return t[0];for(var r=0;r<e.length;r+=1)n=e.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%t.length+t.length)%t.length,t[n]}(e.string,e.colors):e.string&&!e.colors?function(e){var t=0;if(0===e.length)return t.toString();for(var n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t),t&=t;for(var r="#",i=0;i<3;i+=1){r+="00".concat((t>>8*i&255).toString(16)).substr(-2)}return r}(e.string):e.colors&&!e.string?function(e){return e[Math.floor(Math.random()*e.length)]}(e.colors):t}var Ia=yn("tabs-color"),Ca=yn("tabs-bg"),Aa=yn("tabs-border-color"),Ra=tr(si.keys),Pa=Ra.defineMultiStyleConfig,Na=Ra.definePartsStyle,Da=function(e){return{display:"vertical"===e.orientation?"flex":"block"}},Oa=function(e){return{flex:e.isFitted?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},La=function(e){var t=e.align,n=void 0===t?"start":t,r=e.orientation;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[n],flexDirection:"vertical"===r?"column":"row"}},Ma={p:4},Fa=Na((function(e){return{root:Da(e),tab:Oa(e),tablist:La(e),tabpanel:Ma}})),ja={sm:Na({tab:{py:1,px:4,fontSize:"sm"}}),md:Na({tab:{fontSize:"md",py:2,px:4}}),lg:Na({tab:{fontSize:"lg",py:3,px:4}})},Va=Na((function(e){var t,n,r,a,o=e.colorScheme,s=e.orientation,u="vertical"===s?"borderStart":"borderBottom",c="vertical"===s?"marginStart":"marginBottom";return{tablist:(t={},i(t,u,"2px solid"),i(t,"borderColor","inherit"),t),tab:(a={},i(a,u,"2px solid"),i(a,"borderColor","transparent"),i(a,c,"-2px"),i(a,"_selected",(n={},i(n,Ia.variable,"colors.".concat(o,".600")),i(n,"_dark",i({},Ia.variable,"colors.".concat(o,".300"))),i(n,"borderColor","currentColor"),n)),i(a,"_active",(r={},i(r,Ca.variable,"colors.gray.200"),i(r,"_dark",i({},Ca.variable,"colors.whiteAlpha.300")),r)),i(a,"_disabled",{_active:{bg:"none"}}),i(a,"color",Ia.reference),i(a,"bg",Ca.reference),a)}})),Ba=Na((function(e){var t,n,r,a=e.colorScheme;return{tab:(r={borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px"},i(r,Aa.variable,"transparent"),i(r,"_selected",(n={},i(n,Ia.variable,"colors.".concat(a,".600")),i(n,Aa.variable,"colors.white"),i(n,"_dark",(t={},i(t,Ia.variable,"colors.".concat(a,".300")),i(t,Aa.variable,"colors.gray.800"),t)),i(n,"borderColor","inherit"),i(n,"borderBottomColor",Aa.reference),n)),i(r,"color",Ia.reference),r),tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),Ua=Na((function(e){var t,n,r,a=e.colorScheme;return{tab:(r={border:"1px solid",borderColor:"inherit"},i(r,Ca.variable,"colors.gray.50"),i(r,"_dark",i({},Ca.variable,"colors.whiteAlpha.50")),i(r,"mb","-1px"),i(r,"_notLast",{marginEnd:"-1px"}),i(r,"_selected",(n={},i(n,Ca.variable,"colors.white"),i(n,Ia.variable,"colors.".concat(a,".600")),i(n,"_dark",(t={},i(t,Ca.variable,"colors.gray.800"),i(t,Ia.variable,"colors.".concat(a,".300")),t)),i(n,"borderColor","inherit"),i(n,"borderTopColor","currentColor"),i(n,"borderBottomColor","transparent"),n)),i(r,"color",Ia.reference),i(r,"bg",Ca.reference),r),tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),za=Na((function(e){var t=e.colorScheme,n=e.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:wa(n,"".concat(t,".700")),bg:wa(n,"".concat(t,".100"))}}}})),qa=Na((function(e){var t,n,r,a=e.colorScheme;return{tab:(r={borderRadius:"full",fontWeight:"semibold"},i(r,Ia.variable,"colors.gray.600"),i(r,"_dark",i({},Ia.variable,"inherit")),i(r,"_selected",(n={},i(n,Ia.variable,"colors.white"),i(n,Ca.variable,"colors.".concat(a,".600")),i(n,"_dark",(t={},i(t,Ia.variable,"colors.gray.800"),i(t,Ca.variable,"colors.".concat(a,".300")),t)),n)),i(r,"color",Ia.reference),i(r,"bg",Ca.reference),r)}})),Wa=Pa({baseStyle:Fa,sizes:ja,variants:{line:Va,enclosed:Ba,"enclosed-colored":Ua,"soft-rounded":za,"solid-rounded":qa,unstyled:Na({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),Ha={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},Ga=yn("badge-bg"),Ka=yn("badge-color"),Qa=function(e){var t,n,r=e.colorScheme,a=e.theme,o=xa("".concat(r,".500"),.6)(a);return i(n={},Ga.variable,"colors.".concat(r,".500")),i(n,Ka.variable,"colors.white"),i(n,"_dark",(i(t={},Ga.variable,o),i(t,Ka.variable,"colors.whiteAlpha.800"),t)),i(n,"bg",Ga.reference),i(n,"color",Ka.reference),n},Ya=function(e){var t,n,r=e.colorScheme,a=e.theme,o=xa("".concat(r,".200"),.16)(a);return i(n={},Ga.variable,"colors.".concat(r,".100")),i(n,Ka.variable,"colors.".concat(r,".800")),i(n,"_dark",(i(t={},Ga.variable,o),i(t,Ka.variable,"colors.".concat(r,".200")),t)),i(n,"bg",Ga.reference),i(n,"color",Ka.reference),n},$a=function(e){var t,n=e.colorScheme,r=e.theme,a=xa("".concat(n,".200"),.8)(r);return i(t={},Ka.variable,"colors.".concat(n,".500")),i(t,"_dark",i({},Ka.variable,a)),i(t,"color",Ka.reference),i(t,"boxShadow","inset 0 0 0px 1px ".concat(Ka.reference)),t},Xa={baseStyle:Ha,variants:{solid:Qa,subtle:Ya,outline:$a},defaultProps:{variant:"subtle",colorScheme:"gray"}},Ja=tr(ui.keys),Za=Ja.defineMultiStyleConfig,eo=Ja.definePartsStyle,to=eo({container:{fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),no={sm:eo({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:eo({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:eo({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},ro={subtle:eo((function(e){var t;return{container:null==(t=Xa.variants)?void 0:t.subtle(e)}})),solid:eo((function(e){var t;return{container:null==(t=Xa.variants)?void 0:t.solid(e)}})),outline:eo((function(e){var t;return{container:null==(t=Xa.variants)?void 0:t.outline(e)}}))},io=Za({variants:ro,baseStyle:to,sizes:no,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),ao=tr(Qr.keys),oo=ao.definePartsStyle,so=ao.defineMultiStyleConfig,uo=oo({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),co={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},lo={lg:oo({field:co.lg,addon:co.lg}),md:oo({field:co.md,addon:co.md}),sm:oo({field:co.sm,addon:co.sm}),xs:oo({field:co.xs,addon:co.xs})};function fo(e){var t=e.focusBorderColor,n=e.errorBorderColor;return{focusBorderColor:t||Vi("blue.500","blue.300")(e),errorBorderColor:n||Vi("red.500","red.300")(e)}}var ho,po,vo,mo,yo,go,bo,ko,wo,_o,xo,So,Eo,To=oo((function(e){var t=e.theme,n=fo(e),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Vi("gray.300","whiteAlpha.400")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:wa(t,i),boxShadow:"0 0 0 1px ".concat(wa(t,i))},_focusVisible:{zIndex:1,borderColor:wa(t,r),boxShadow:"0 0 0 1px ".concat(wa(t,r))}},addon:{border:"1px solid",borderColor:Vi("inherit","whiteAlpha.50")(e),bg:Vi("gray.100","whiteAlpha.300")(e)}}})),Io=oo((function(e){var t=e.theme,n=fo(e),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:Vi("gray.100","whiteAlpha.50")(e),_hover:{bg:Vi("gray.200","whiteAlpha.100")(e)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:wa(t,i)},_focusVisible:{bg:"transparent",borderColor:wa(t,r)}},addon:{border:"2px solid",borderColor:"transparent",bg:Vi("gray.100","whiteAlpha.50")(e)}}})),Co=oo((function(e){var t=e.theme,n=fo(e),r=n.focusBorderColor,i=n.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:wa(t,i),boxShadow:"0px 1px 0px 0px ".concat(wa(t,i))},_focusVisible:{borderColor:wa(t,r),boxShadow:"0px 1px 0px 0px ".concat(wa(t,r))}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),Ao=so({baseStyle:uo,sizes:lo,variants:{outline:To,filled:Io,flushed:Co,unstyled:oo({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),Ro=o(o({},null==(ho=Ao.baseStyle)?void 0:ho.field),{},{paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"}),Po={outline:function(e){var t,n;return null!=(n=null==(t=Ao.variants)?void 0:t.outline(e).field)?n:{}},flushed:function(e){var t,n;return null!=(n=null==(t=Ao.variants)?void 0:t.flushed(e).field)?n:{}},filled:function(e){var t,n;return null!=(n=null==(t=Ao.variants)?void 0:t.filled(e).field)?n:{}},unstyled:null!=(vo=null==(po=Ao.variants)?void 0:po.unstyled.field)?vo:{}},No={baseStyle:Ro,sizes:{xs:null!=(yo=null==(mo=Ao.sizes)?void 0:mo.xs.field)?yo:{},sm:null!=(bo=null==(go=Ao.sizes)?void 0:go.sm.field)?bo:{},md:null!=(wo=null==(ko=Ao.sizes)?void 0:ko.md.field)?wo:{},lg:null!=(xo=null==(_o=Ao.sizes)?void 0:_o.lg.field)?xo:{}},variants:Po,defaultProps:{size:"md",variant:"outline"}},Do=di("tooltip-bg"),Oo=di("tooltip-fg"),Lo=di("popper-arrow-bg"),Mo={baseStyle:(i(Eo={bg:Do.reference,color:Oo.reference},Do.variable,"colors.gray.700"),i(Eo,Oo.variable,"colors.whiteAlpha.900"),i(Eo,"_dark",(i(So={},Do.variable,"colors.gray.300"),i(So,Oo.variable,"colors.gray.900"),So)),i(Eo,Lo.variable,Do.reference),i(Eo,"px","2"),i(Eo,"py","0.5"),i(Eo,"borderRadius","sm"),i(Eo,"fontWeight","medium"),i(Eo,"fontSize","sm"),i(Eo,"boxShadow","md"),i(Eo,"maxW","xs"),i(Eo,"zIndex","tooltip"),Eo)},Fo=tr(ei.keys),jo=Fo.defineMultiStyleConfig,Vo=Fo.definePartsStyle,Bo=function(e){var t=e.colorScheme,n=e.theme,r=e.isIndeterminate,i=e.hasStripe,a=Vi(Sa(),Sa("1rem","rgba(0,0,0,0.1)"))(e),s=Vi("".concat(t,".500"),"".concat(t,".200"))(e),u="linear-gradient(\n    to right,\n    transparent 0%,\n    ".concat(wa(n,s)," 50%,\n    transparent 100%\n  )");return o(o({},!r&&i&&a),r?{bgImage:u}:{bgColor:s})},Uo={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},zo=function(e){return{bg:Vi("gray.100","whiteAlpha.300")(e)}},qo=function(e){return o({transitionProperty:"common",transitionDuration:"slow"},Bo(e))},Wo=Vo((function(e){return{label:Uo,filledTrack:qo(e),track:zo(e)}})),Ho=jo({sizes:{xs:Vo({track:{h:"1"}}),sm:Vo({track:{h:"2"}}),md:Vo({track:{h:"3"}}),lg:Vo({track:{h:"4"}})},baseStyle:Wo,defaultProps:{size:"md",colorScheme:"blue"}}),Go=function(e){return"function"===typeof e};function Ko(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Go(e)?e.apply(void 0,n):e}var Qo,Yo,$o,Xo,Jo,Zo,es,ts,ns,rs,is,as,os,ss,us,cs,ls,fs,hs,ds,ps,vs,ms=tr(qr.keys),ys=ms.definePartsStyle,gs=ms.defineMultiStyleConfig,bs=yn("checkbox-size"),ks=function(e){var t=e.colorScheme;return{w:bs.reference,h:bs.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Vi("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:Vi("".concat(t,".500"),"".concat(t,".200"))(e),color:Vi("white","gray.900")(e),_hover:{bg:Vi("".concat(t,".600"),"".concat(t,".300"))(e),borderColor:Vi("".concat(t,".600"),"".concat(t,".300"))(e)},_disabled:{borderColor:Vi("gray.200","transparent")(e),bg:Vi("gray.200","whiteAlpha.300")(e),color:Vi("gray.500","whiteAlpha.500")(e)}},_indeterminate:{bg:Vi("".concat(t,".500"),"".concat(t,".200"))(e),borderColor:Vi("".concat(t,".500"),"".concat(t,".200"))(e),color:Vi("white","gray.900")(e)},_disabled:{bg:Vi("gray.100","whiteAlpha.100")(e),borderColor:Vi("gray.100","transparent")(e)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Vi("red.500","red.300")(e)}}},ws={_disabled:{cursor:"not-allowed"}},_s={userSelect:"none",_disabled:{opacity:.4}},xs={transitionProperty:"transform",transitionDuration:"normal"},Ss=gs({baseStyle:ys((function(e){return{icon:xs,container:ws,control:Ko(ks,e),label:_s}})),sizes:{sm:ys({control:i({},bs.variable,"sizes.3"),label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:ys({control:i({},bs.variable,"sizes.4"),label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:ys({control:i({},bs.variable,"sizes.5"),label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),Es=tr(ti.keys),Ts=Es.defineMultiStyleConfig,Is=Es.definePartsStyle,Cs=function(e){var t,n=null==(t=Ko(Ss.baseStyle,e))?void 0:t.control;return o(o({},n),{},{borderRadius:"full",_checked:o(o({},null==n?void 0:n._checked),{},{_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})},As=Is((function(e){var t,n,r,i;return{label:null==(n=(t=Ss).baseStyle)?void 0:n.call(t,e).label,container:null==(i=(r=Ss).baseStyle)?void 0:i.call(r,e).container,control:Cs(e)}})),Rs=Ts({baseStyle:As,sizes:{md:Is({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Is({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Is({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),Ps=tr(ni.keys),Ns=Ps.defineMultiStyleConfig,Ds=Ps.definePartsStyle,Os=yn("select-bg"),Ls={paddingInlineEnd:"8"},Ms=Ns({baseStyle:Ds({field:o(o({},null==(Yo=Ao.baseStyle)?void 0:Yo.field),{},(i(Qo={appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Os.reference},Os.variable,"colors.white"),i(Qo,"_dark",i({},Os.variable,"colors.gray.700")),i(Qo,"> option, > optgroup",{bg:Os.reference}),Qo)),icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:o(o({},null==($o=Ao.sizes)?void 0:$o.lg),{},{field:o(o({},null==(Xo=Ao.sizes)?void 0:Xo.lg.field),Ls)}),md:o(o({},null==(Jo=Ao.sizes)?void 0:Jo.md),{},{field:o(o({},null==(Zo=Ao.sizes)?void 0:Zo.md.field),Ls)}),sm:o(o({},null==(es=Ao.sizes)?void 0:es.sm),{},{field:o(o({},null==(ts=Ao.sizes)?void 0:ts.sm.field),Ls)}),xs:o(o({},null==(ns=Ao.sizes)?void 0:ns.xs),{},{field:o(o({},null==(rs=Ao.sizes)?void 0:rs.xs.field),Ls),icon:{insetEnd:"1"}})},variants:Ao.variants,defaultProps:Ao.defaultProps}),Fs=yn("skeleton-start-color"),js=yn("skeleton-end-color"),Vs={baseStyle:(i(as={},Fs.variable,"colors.gray.100"),i(as,js.variable,"colors.gray.400"),i(as,"_dark",(i(is={},Fs.variable,"colors.gray.800"),i(is,js.variable,"colors.gray.600"),is)),i(as,"background",Fs.reference),i(as,"borderColor",js.reference),i(as,"opacity",.7),i(as,"borderRadius","sm"),as)},Bs=yn("skip-link-bg"),Us={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:(os={boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6"},i(os,Bs.variable,"colors.white"),i(os,"_dark",i({},Bs.variable,"colors.gray.700")),i(os,"bg",Bs.reference),os)}},zs=tr(ri.keys),qs=zs.defineMultiStyleConfig,Ws=zs.definePartsStyle,Hs=yn("slider-thumb-size"),Gs=yn("slider-track-size"),Ks=yn("slider-bg"),Qs=function(e){return o({display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},Bi({orientation:e.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}}))},Ys=function(e){var t,n;return o(o({},Bi({orientation:e.orientation,horizontal:{h:Gs.reference},vertical:{w:Gs.reference}})),{},(i(n={overflow:"hidden",borderRadius:"sm"},Ks.variable,"colors.gray.200"),i(n,"_dark",i({},Ks.variable,"colors.whiteAlpha.200")),i(n,"_disabled",(i(t={},Ks.variable,"colors.gray.300"),i(t,"_dark",i({},Ks.variable,"colors.whiteAlpha.300")),t)),i(n,"bg",Ks.reference),n))},$s=function(e){return o(o({},Bi({orientation:e.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})),{},{w:Hs.reference,h:Hs.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}})},Xs=function(e){var t,n=e.colorScheme;return i(t={width:"inherit",height:"inherit"},Ks.variable,"colors.".concat(n,".500")),i(t,"_dark",i({},Ks.variable,"colors.".concat(n,".200"))),i(t,"bg",Ks.reference),t},Js=qs({baseStyle:Ws((function(e){return{container:Qs(e),track:Ys(e),thumb:$s(e),filledTrack:Xs(e)}})),sizes:{lg:Ws({container:(ss={},i(ss,Hs.variable,"sizes.4"),i(ss,Gs.variable,"sizes.1"),ss)}),md:Ws({container:(us={},i(us,Hs.variable,"sizes.3.5"),i(us,Gs.variable,"sizes.1"),us)}),sm:Ws({container:(cs={},i(cs,Hs.variable,"sizes.2.5"),i(cs,Gs.variable,"sizes.0.5"),cs)})},defaultProps:{size:"md",colorScheme:"blue"}}),Zs=di("spinner-size"),eu={baseStyle:{width:[Zs.reference],height:[Zs.reference]},sizes:{xs:i({},Zs.variable,"sizes.3"),sm:i({},Zs.variable,"sizes.4"),md:i({},Zs.variable,"sizes.6"),lg:i({},Zs.variable,"sizes.8"),xl:i({},Zs.variable,"sizes.12")},defaultProps:{size:"md"}},tu=tr(ii.keys),nu=tu.defineMultiStyleConfig,ru=tu.definePartsStyle,iu=nu({baseStyle:ru({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:ru({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),au=yn("kbd-bg"),ou={baseStyle:(i(ls={},au.variable,"colors.gray.100"),i(ls,"_dark",i({},au.variable,"colors.whiteAlpha.100")),i(ls,"bg",au.reference),i(ls,"borderRadius","md"),i(ls,"borderWidth","1px"),i(ls,"borderBottomWidth","3px"),i(ls,"fontSize","0.8em"),i(ls,"fontWeight","bold"),i(ls,"lineHeight","normal"),i(ls,"px","0.4em"),i(ls,"whiteSpace","nowrap"),ls)},su={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},uu=tr(Yr.keys),cu=(0,uu.defineMultiStyleConfig)({baseStyle:(0,uu.definePartsStyle)({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),lu=tr($r.keys),fu=lu.defineMultiStyleConfig,hu=lu.definePartsStyle,du=yn("menu-bg"),pu=yn("menu-shadow"),vu=fu({baseStyle:hu({button:{transitionProperty:"common",transitionDuration:"normal"},list:(i(hs={},du.variable,"#fff"),i(hs,pu.variable,"shadows.sm"),i(hs,"_dark",(i(fs={},du.variable,"colors.gray.700"),i(fs,pu.variable,"shadows.dark-lg"),fs)),i(hs,"color","inherit"),i(hs,"minW","3xs"),i(hs,"py","2"),i(hs,"zIndex",1),i(hs,"borderRadius","md"),i(hs,"borderWidth","1px"),i(hs,"bg",du.reference),i(hs,"boxShadow",pu.reference),hs),item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:(ds={},i(ds,du.variable,"colors.gray.100"),i(ds,"_dark",i({},du.variable,"colors.whiteAlpha.100")),ds),_active:(ps={},i(ps,du.variable,"colors.gray.200"),i(ps,"_dark",i({},du.variable,"colors.whiteAlpha.200")),ps),_expanded:(vs={},i(vs,du.variable,"colors.gray.100"),i(vs,"_dark",i({},du.variable,"colors.whiteAlpha.100")),vs),_disabled:{opacity:.4,cursor:"not-allowed"},bg:du.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),mu=tr(Xr.keys),yu=mu.defineMultiStyleConfig,gu=mu.definePartsStyle,bu={bg:"blackAlpha.600",zIndex:"modal"},ku=function(e){return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e.isCentered?"center":"flex-start",overflow:"inside"===e.scrollBehavior?"hidden":"auto",overscrollBehaviorY:"none"}},wu=function(e){var t=e.scrollBehavior;return{borderRadius:"md",bg:Vi("white","gray.700")(e),color:"inherit",my:"16",zIndex:"modal",maxH:"inside"===t?"calc(100% - 7.5rem)":void 0,boxShadow:Vi("lg","dark-lg")(e)}},_u={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},xu={position:"absolute",top:"2",insetEnd:"3"},Su=function(e){return{px:"6",py:"2",flex:"1",overflow:"inside"===e.scrollBehavior?"auto":void 0}},Eu={px:"6",py:"4"};function Tu(e){return gu("full"===e?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:e}})}var Iu,Cu,Au,Ru,Pu=yu({baseStyle:gu((function(e){return{overlay:bu,dialogContainer:Ko(ku,e),dialog:Ko(wu,e),header:_u,closeButton:xu,body:Ko(Su,e),footer:Eu}})),sizes:{xs:Tu("xs"),sm:Tu("sm"),md:Tu("md"),lg:Tu("lg"),xl:Tu("xl"),"2xl":Tu("2xl"),"3xl":Tu("3xl"),"4xl":Tu("4xl"),"5xl":Tu("5xl"),"6xl":Tu("6xl"),full:Tu("full")},defaultProps:{size:"md"}}),Nu=tr(Jr.keys),Du=Nu.defineMultiStyleConfig,Ou=Nu.definePartsStyle,Lu=di("number-input-stepper-width"),Mu=di("number-input-input-padding"),Fu=Ei(Lu).add("0.5rem").toString(),ju=di("number-input-bg"),Vu=di("number-input-color"),Bu=di("number-input-border-color"),Uu=(i(Iu={},Lu.variable,"sizes.6"),i(Iu,Mu.variable,Fu),Iu),zu=function(e){var t,n;return null!=(n=null==(t=Ko(Ao.baseStyle,e))?void 0:t.field)?n:{}},qu={width:Lu.reference},Wu=(i(Ru={borderStart:"1px solid",borderStartColor:Bu.reference,color:Vu.reference,bg:ju.reference},Vu.variable,"colors.chakra-body-text"),i(Ru,Bu.variable,"colors.chakra-border-color"),i(Ru,"_dark",(i(Cu={},Vu.variable,"colors.whiteAlpha.800"),i(Cu,Bu.variable,"colors.whiteAlpha.300"),Cu)),i(Ru,"_active",(i(Au={},ju.variable,"colors.gray.200"),i(Au,"_dark",i({},ju.variable,"colors.whiteAlpha.300")),Au)),i(Ru,"_disabled",{opacity:.4,cursor:"not-allowed"}),Ru),Hu=Ou((function(e){var t;return{root:Uu,field:null!=(t=Ko(zu,e))?t:{},stepperGroup:qu,stepper:Wu}}));function Gu(e){var t,n,r,i=null==(t=Ao.sizes)?void 0:t[e],a={lg:"md",md:"md",sm:"sm",xs:"sm"},s=null!=(r=null==(n=i.field)?void 0:n.fontSize)?r:"md",u=Or.fontSizes[s];return Ou({field:o(o({},i.field),{},{paddingInlineEnd:Mu.reference,verticalAlign:"top"}),stepper:{fontSize:Ei(u).multiply(.75).toString(),_first:{borderTopEndRadius:a[e]},_last:{borderBottomEndRadius:a[e],mt:"-1px",borderTopWidth:1}}})}var Ku,Qu,Yu,$u,Xu,Ju=Du({baseStyle:Hu,sizes:{xs:Gu("xs"),sm:Gu("sm"),md:Gu("md"),lg:Gu("lg")},variants:Ao.variants,defaultProps:Ao.defaultProps}),Zu=o(o({},null==(Ku=Ao.baseStyle)?void 0:Ku.field),{},{textAlign:"center"}),ec={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},tc={outline:function(e){var t,n,r;return null!=(r=null==(n=Ko(null==(t=Ao.variants)?void 0:t.outline,e))?void 0:n.field)?r:{}},flushed:function(e){var t,n,r;return null!=(r=null==(n=Ko(null==(t=Ao.variants)?void 0:t.flushed,e))?void 0:n.field)?r:{}},filled:function(e){var t,n,r;return null!=(r=null==(n=Ko(null==(t=Ao.variants)?void 0:t.filled,e))?void 0:n.field)?r:{}},unstyled:null!=(Yu=null==(Qu=Ao.variants)?void 0:Qu.unstyled.field)?Yu:{}},nc={baseStyle:Zu,sizes:ec,variants:tc,defaultProps:Ao.defaultProps},rc=tr(Zr.keys),ic=rc.defineMultiStyleConfig,ac=rc.definePartsStyle,oc=di("popper-bg"),sc=di("popper-arrow-bg"),uc=di("popper-arrow-shadow-color"),cc=ic({baseStyle:ac({popper:{zIndex:10},content:(i(Xu={},oc.variable,"colors.white"),i(Xu,"bg",oc.reference),i(Xu,sc.variable,oc.reference),i(Xu,uc.variable,"colors.gray.200"),i(Xu,"_dark",(i($u={},oc.variable,"colors.gray.700"),i($u,uc.variable,"colors.whiteAlpha.300"),$u)),i(Xu,"width","xs"),i(Xu,"border","1px solid"),i(Xu,"borderColor","inherit"),i(Xu,"borderRadius","md"),i(Xu,"boxShadow","sm"),i(Xu,"zIndex","inherit"),i(Xu,"_focusVisible",{outline:0,boxShadow:"outline"}),Xu),header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),lc=tr(Wr.keys),fc=lc.definePartsStyle,hc=lc.defineMultiStyleConfig,dc=yn("drawer-bg"),pc=yn("drawer-box-shadow");function vc(e){return fc("full"===e?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:e}})}var mc,yc,gc,bc,kc,wc,_c,xc,Sc,Ec,Tc,Ic,Cc,Ac,Rc,Pc={bg:"blackAlpha.600",zIndex:"overlay"},Nc={display:"flex",zIndex:"modal",justifyContent:"center"},Dc=function(e){var t,n;return o(o({},e.isFullHeight&&{height:"100vh"}),{},(i(n={zIndex:"modal",maxH:"100vh",color:"inherit"},dc.variable,"colors.white"),i(n,pc.variable,"shadows.lg"),i(n,"_dark",(i(t={},dc.variable,"colors.gray.700"),i(t,pc.variable,"shadows.dark-lg"),t)),i(n,"bg",dc.reference),i(n,"boxShadow",pc.reference),n))},Oc={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Lc={position:"absolute",top:"2",insetEnd:"3"},Mc={px:"6",py:"2",flex:"1",overflow:"auto"},Fc={px:"6",py:"4"},jc=hc({baseStyle:fc((function(e){return{overlay:Pc,dialogContainer:Nc,dialog:Ko(Dc,e),header:Oc,closeButton:Lc,body:Mc,footer:Fc}})),sizes:{xs:vc("xs"),sm:vc("md"),md:vc("lg"),lg:vc("2xl"),xl:vc("4xl"),full:vc("full")},defaultProps:{size:"xs"}}),Vc=tr(Hr.keys),Bc=Vc.definePartsStyle,Uc=(0,Vc.defineMultiStyleConfig)({baseStyle:Bc({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),zc=tr(Gr.keys),qc=zc.definePartsStyle,Wc=zc.defineMultiStyleConfig,Hc=yn("form-control-color"),Gc=Wc({baseStyle:qc({container:{width:"100%",position:"relative"},requiredIndicator:(i(mc={marginStart:"1"},Hc.variable,"colors.red.500"),i(mc,"_dark",i({},Hc.variable,"colors.red.300")),i(mc,"color",Hc.reference),mc),helperText:(i(yc={mt:"2"},Hc.variable,"colors.gray.600"),i(yc,"_dark",i({},Hc.variable,"colors.whiteAlpha.600")),i(yc,"color",Hc.reference),i(yc,"lineHeight","normal"),i(yc,"fontSize","sm"),yc)})}),Kc=tr(Kr.keys),Qc=Kc.definePartsStyle,Yc=Kc.defineMultiStyleConfig,$c=yn("form-error-color"),Xc=Yc({baseStyle:Qc({text:(i(gc={},$c.variable,"colors.red.500"),i(gc,"_dark",i({},$c.variable,"colors.red.300")),i(gc,"color",$c.reference),i(gc,"mt","2"),i(gc,"fontSize","sm"),i(gc,"lineHeight","normal"),gc),icon:(i(bc={marginEnd:"0.5em"},$c.variable,"colors.red.500"),i(bc,"_dark",i({},$c.variable,"colors.red.300")),i(bc,"color",$c.reference),bc)})}),Jc={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},Zc={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},el=tr(zr.keys),tl=(0,el.defineMultiStyleConfig)({baseStyle:(0,el.definePartsStyle)({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}})}),nl=function(e){var t=e.colorScheme,n=e.theme;if("gray"===t)return{color:Vi("inherit","whiteAlpha.900")(e),_hover:{bg:Vi("gray.100","whiteAlpha.200")(e)},_active:{bg:Vi("gray.200","whiteAlpha.300")(e)}};var r=xa("".concat(t,".200"),.12)(n),i=xa("".concat(t,".200"),.24)(n);return{color:Vi("".concat(t,".600"),"".concat(t,".200"))(e),bg:"transparent",_hover:{bg:Vi("".concat(t,".50"),r)(e)},_active:{bg:Vi("".concat(t,".100"),i)(e)}}},rl=function(e){var t=e.colorScheme,n=Vi("gray.200","whiteAlpha.300")(e);return o({border:"1px solid",borderColor:"gray"===t?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"}},Ko(nl,e))},il={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},al=function(e){var t,n=e.colorScheme;if("gray"===n){var r=Vi("gray.100","whiteAlpha.200")(e);return{bg:r,_hover:{bg:Vi("gray.200","whiteAlpha.300")(e),_disabled:{bg:r}},_active:{bg:Vi("gray.300","whiteAlpha.400")(e)}}}var i=null!=(t=il[n])?t:{},a=i.bg,o=void 0===a?"".concat(n,".500"):a,s=i.color,u=void 0===s?"white":s,c=i.hoverBg,l=void 0===c?"".concat(n,".600"):c,f=i.activeBg,h=void 0===f?"".concat(n,".700"):f,d=Vi(o,"".concat(n,".200"))(e);return{bg:d,color:Vi(u,"gray.800")(e),_hover:{bg:Vi(l,"".concat(n,".300"))(e),_disabled:{bg:d}},_active:{bg:Vi(h,"".concat(n,".400"))(e)}}},ol=function(e){var t=e.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Vi("".concat(t,".500"),"".concat(t,".200"))(e),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Vi("".concat(t,".700"),"".concat(t,".500"))(e)}}},sl={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:nl,outline:rl,solid:al,link:ol,unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},ul=tr(ci.keys),cl=ul.definePartsStyle,ll=ul.defineMultiStyleConfig,fl=yn("card-bg"),hl=yn("card-padding"),dl=yn("card-shadow"),pl=yn("card-radius"),vl=yn("card-border-width","0"),ml=yn("card-border-color"),yl=cl({container:(kc={},i(kc,fl.variable,"colors.chakra-body-bg"),i(kc,"backgroundColor",fl.reference),i(kc,"boxShadow",dl.reference),i(kc,"borderRadius",pl.reference),i(kc,"color","chakra-body-text"),i(kc,"borderWidth",vl.reference),i(kc,"borderColor",ml.reference),kc),body:{padding:hl.reference,flex:"1 1 0%"},header:{padding:hl.reference},footer:{padding:hl.reference}}),gl={sm:cl({container:(wc={},i(wc,pl.variable,"radii.base"),i(wc,hl.variable,"space.3"),wc)}),md:cl({container:(_c={},i(_c,pl.variable,"radii.md"),i(_c,hl.variable,"space.5"),_c)}),lg:cl({container:(xc={},i(xc,pl.variable,"radii.xl"),i(xc,hl.variable,"space.7"),xc)})},bl=ll({baseStyle:yl,variants:{elevated:cl({container:(Sc={},i(Sc,dl.variable,"shadows.base"),i(Sc,"_dark",i({},fl.variable,"colors.gray.700")),Sc)}),outline:cl({container:(Ec={},i(Ec,vl.variable,"1px"),i(Ec,ml.variable,"colors.chakra-border-color"),Ec)}),filled:cl({container:i({},fl.variable,"colors.chakra-subtle-bg")}),unstyled:{body:i({},hl.variable,0),header:i({},hl.variable,0),footer:i({},hl.variable,0)}},sizes:gl,defaultProps:{variant:"elevated",size:"md"}}),kl=di("close-button-size"),wl=di("close-button-bg"),_l={baseStyle:{w:[kl.reference],h:[kl.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:(Tc={},i(Tc,wl.variable,"colors.blackAlpha.100"),i(Tc,"_dark",i({},wl.variable,"colors.whiteAlpha.100")),Tc),_active:(Ic={},i(Ic,wl.variable,"colors.blackAlpha.200"),i(Ic,"_dark",i({},wl.variable,"colors.whiteAlpha.200")),Ic),_focusVisible:{boxShadow:"outline"},bg:wl.reference},sizes:{lg:(Cc={},i(Cc,kl.variable,"sizes.10"),i(Cc,"fontSize","md"),Cc),md:(Ac={},i(Ac,kl.variable,"sizes.8"),i(Ac,"fontSize","xs"),Ac),sm:(Rc={},i(Rc,kl.variable,"sizes.6"),i(Rc,"fontSize","2xs"),Rc)},defaultProps:{size:"md"}},xl={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},variants:Xa.variants,defaultProps:Xa.defaultProps},Sl={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},El={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},Tl=tr(Vr.keys),Il=Tl.definePartsStyle,Cl=(0,Tl.defineMultiStyleConfig)({baseStyle:Il({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),Al=tr(Br.keys),Rl=Al.definePartsStyle,Pl=Al.defineMultiStyleConfig,Nl=yn("alert-fg"),Dl=yn("alert-bg"),Ol=Rl({container:{bg:Dl.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Nl.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Nl.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Ll(e){var t=e.theme,n=e.colorScheme,r=xa("".concat(n,".200"),.16)(t);return{light:"colors.".concat(n,".100"),dark:r}}var Ml,Fl,jl=Rl((function(e){var t,n,r=e.colorScheme,a=Ll(e);return{container:(n={},i(n,Nl.variable,"colors.".concat(r,".500")),i(n,Dl.variable,a.light),i(n,"_dark",(t={},i(t,Nl.variable,"colors.".concat(r,".200")),i(t,Dl.variable,a.dark),t)),n)}})),Vl=Rl((function(e){var t,n,r=e.colorScheme,a=Ll(e);return{container:(n={},i(n,Nl.variable,"colors.".concat(r,".500")),i(n,Dl.variable,a.light),i(n,"_dark",(t={},i(t,Nl.variable,"colors.".concat(r,".200")),i(t,Dl.variable,a.dark),t)),i(n,"paddingStart","3"),i(n,"borderStartWidth","4px"),i(n,"borderStartColor",Nl.reference),n)}})),Bl=Rl((function(e){var t,n,r=e.colorScheme,a=Ll(e);return{container:(n={},i(n,Nl.variable,"colors.".concat(r,".500")),i(n,Dl.variable,a.light),i(n,"_dark",(t={},i(t,Nl.variable,"colors.".concat(r,".200")),i(t,Dl.variable,a.dark),t)),i(n,"pt","2"),i(n,"borderTopWidth","4px"),i(n,"borderTopColor",Nl.reference),n)}})),Ul=Rl((function(e){var t,n,r=e.colorScheme;return{container:(n={},i(n,Nl.variable,"colors.white"),i(n,Dl.variable,"colors.".concat(r,".500")),i(n,"_dark",(t={},i(t,Nl.variable,"colors.gray.900"),i(t,Dl.variable,"colors.".concat(r,".200")),t)),i(n,"color",Nl.reference),n)}})),zl=Pl({baseStyle:Ol,variants:{subtle:jl,"left-accent":Vl,"top-accent":Bl,solid:Ul},defaultProps:{variant:"subtle",colorScheme:"blue"}}),ql=tr(Ur.keys),Wl=ql.definePartsStyle,Hl=ql.defineMultiStyleConfig,Gl=yn("avatar-border-color"),Kl=yn("avatar-bg"),Ql=(i(Ml={borderRadius:"full",border:"0.2em solid"},Gl.variable,"white"),i(Ml,"_dark",i({},Gl.variable,"colors.gray.800")),i(Ml,"borderColor",Gl.reference),Ml),Yl=(i(Fl={},Kl.variable,"colors.gray.200"),i(Fl,"_dark",i({},Kl.variable,"colors.whiteAlpha.400")),i(Fl,"bgColor",Kl.reference),Fl),$l=yn("avatar-background"),Xl=function(e){var t,n=e.name,r=e.theme,a=n?Ta({string:n}):"colors.gray.400",o=function(e){return function(t){return"dark"===_a(e)(t)}}(a)(r),s="white";return o||(s="gray.800"),t={bg:$l.reference,"&:not([data-loaded])":i({},$l.variable,a),color:s},i(t,Gl.variable,"colors.white"),i(t,"_dark",i({},Gl.variable,"colors.gray.800")),i(t,"borderColor",Gl.reference),i(t,"verticalAlign","top"),t};function Jl(e){var t="100%"!==e?Mr[e]:void 0;return Wl({container:{width:e,height:e,fontSize:"calc(".concat(null!=t?t:e," / 2.5)")},excessLabel:{width:e,height:e},label:{fontSize:"calc(".concat(null!=t?t:e," / 2.5)"),lineHeight:"100%"!==e?null!=t?t:e:void 0}})}var Zl={Accordion:Cl,Alert:zl,Avatar:Hl({baseStyle:Wl((function(e){return{badge:Ko(Ql,e),excessLabel:Ko(Yl,e),container:Ko(Xl,e)}})),sizes:{"2xs":Jl(4),xs:Jl(6),sm:Jl(8),md:Jl(12),lg:Jl(16),xl:Jl(24),"2xl":Jl(32),full:Jl("100%")},defaultProps:{size:"md"}}),Badge:Xa,Breadcrumb:tl,Button:sl,Checkbox:Ss,CloseButton:_l,Code:xl,Container:Sl,Divider:El,Drawer:jc,Editable:Uc,Form:Gc,FormError:Xc,FormLabel:Jc,Heading:Zc,Input:Ao,Kbd:ou,Link:su,List:cu,Menu:vu,Modal:Pu,NumberInput:Ju,PinInput:nc,Popover:cc,Progress:Ho,Radio:Rs,Select:Ms,Skeleton:Vs,SkipLink:Us,Slider:Js,Spinner:eu,Stat:iu,Switch:ji,Table:Qi,Tabs:Wa,Tag:io,Textarea:No,Tooltip:Mo,Card:bl},ef={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},tf={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}},nf={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},rf=o(o({semanticTokens:ef,direction:"ltr"},Fr),{},{components:Zl,styles:tf,config:nf}),af=o(o({semanticTokens:ef,direction:"ltr",components:{}},Fr),{},{styles:tf,config:nf}),of=function(e,t){return e.find((function(e){return e.id===t}))};function sf(e,t){var n=uf(e,t);return{position:n,index:n?e[n].findIndex((function(e){return e.id===t})):-1}}function uf(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var i=Qe(r[n],2),a=i[0],o=i[1];if(of(o,t))return a}}function cf(e){return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}function lf(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,u.useRef)(e);return(0,u.useEffect)((function(){n.current=e})),(0,u.useCallback)((function(){for(var e,t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return null==(t=n.current)?void 0:(e=t).call.apply(e,[n].concat(i))}),t)}(e);(0,u.useEffect)((function(){if(null!=t){var e;return e=window.setTimeout((function(){n()}),t),function(){e&&window.clearTimeout(e)}}}),[t,n])}function ff(e,t){var n=(0,u.useRef)(!1),r=(0,u.useRef)(!1);(0,u.useEffect)((function(){if(n.current&&r.current)return e();r.current=!0}),t),(0,u.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[])}var hf=(0,u.createContext)(null);function df(e){var t=(0,u.useRef)(null);return null===t.current&&(t.current=e()),t.current}var pf=0,vf=function(){return pf++},mf=function(){return df(vf)};function yf(){var e=(0,u.useContext)(hf);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,i=mf();(0,u.useEffect)((function(){return r(i)}),[]);return!t&&n?[!1,function(){return null===n||void 0===n?void 0:n(i)}]:[!0]}function gf(){return null===(e=(0,u.useContext)(hf))||e.isPresent;var e}var bf=function(e,t){return bf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},bf(e,t)};function kf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wf=function(){return wf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wf.apply(this,arguments)};function _f(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function xf(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sf(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function Ef(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Tf="production",If=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},Cf={measureLayout:If(["layout","layoutId","drag"]),animation:If(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:If(["exit"]),drag:If(["drag","dragControls"]),focus:If(["whileFocus"]),hover:If(["whileHover","onHoverStart","onHoverEnd"]),tap:If(["whileTap","onTap","onTapStart","onTapCancel"]),pan:If(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:If(["whileInView","onViewportEnter","onViewportLeave"])};var Af=function(){},Rf=function(){};var Pf=(0,u.createContext)({strict:!1}),Nf=Object.keys(Cf),Df=Nf.length;var Of=(0,u.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Lf=(0,u.createContext)({});var Mf="undefined"!==typeof document,Ff=Mf?u.useLayoutEffect:u.useEffect,jf={current:null},Vf=!1;function Bf(){return!Vf&&function(){if(Vf=!0,Mf)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return jf.current=e.matches};e.addListener(t),t()}else jf.current=!1}(),Sf((0,u.useState)(jf.current),1)[0]}function Uf(e,t,n,r){var i=(0,u.useContext)(Pf),a=(0,u.useContext)(Lf).visualElement,o=(0,u.useContext)(hf),s=function(){var e=Bf(),t=(0,u.useContext)(Of).reducedMotion;return"never"!==t&&("always"===t||e)}(),c=(0,u.useRef)(void 0);r||(r=i.renderer),!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:n,presenceId:null===o||void 0===o?void 0:o.id,blockInitialAnimation:!1===(null===o||void 0===o?void 0:o.initial),shouldReduceMotion:s}));var l=c.current;return Ff((function(){null===l||void 0===l||l.syncRender()})),(0,u.useEffect)((function(){var e;null===(e=null===l||void 0===l?void 0:l.animationState)||void 0===e||e.animateChanges()})),Ff((function(){return function(){return null===l||void 0===l?void 0:l.notifyUnmount()}}),[]),l}function zf(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function qf(e){return Array.isArray(e)}function Wf(e){return"string"===typeof e||qf(e)}function Hf(e,t,n,r,i){var a;return void 0===r&&(r={}),void 0===i&&(i={}),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=null===(a=e.variants)||void 0===a?void 0:a[t]),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),t}function Gf(e,t,n){var r=e.getProps();return Hf(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function Kf(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||Wf(e.initial)||Wf(e.animate)||Wf(e.whileHover)||Wf(e.whileDrag)||Wf(e.whileTap)||Wf(e.whileFocus)||Wf(e.exit)}function Qf(e){return Boolean(Kf(e)||e.variants)}function Yf(e){var t=function(e,t){if(Kf(e)){var n=e.initial,r=e.animate;return{initial:!1===n||Wf(n)?n:void 0,animate:Wf(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,u.useContext)(Lf)),n=t.initial,r=t.animate;return(0,u.useMemo)((function(){return{initial:n,animate:r}}),[$f(n),$f(r)])}function $f(e){return Array.isArray(e)?e.join(" "):e}var Xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Jf=1;var Zf=(0,u.createContext)({}),eh=(0,u.createContext)({});var th=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kf(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(u.Component);function nh(e){var t=e.preloadedFeatures,n=e.createVisualElement,r=e.projectionNodeConstructor,i=e.useRender,a=e.useVisualState,o=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?Cf.projectionNodeConstructor=e[t]:Cf[t].Component=e[t])}(t),(0,u.forwardRef)((function(e,s){var c=function(e){var t,n=e.layoutId,r=null===(t=(0,u.useContext)(Zf))||void 0===t?void 0:t.id;return r&&void 0!==n?r+"-"+n:n}(e);e=wf(wf({},e),{layoutId:c});var l=(0,u.useContext)(Of),f=null,h=Yf(e),d=l.isStatic?void 0:df((function(){if(Xf.hasEverUpdated)return Jf++})),p=a(e,l.isStatic);return!l.isStatic&&Mf&&(h.visualElement=Uf(o,p,wf(wf({},l),e),n),function(e,t,n,r){var i,a=t.layoutId,o=t.layout,s=t.drag,c=t.dragConstraints,l=t.layoutScroll,f=(0,u.useContext)(eh);r&&n&&!(null===n||void 0===n?void 0:n.projection)&&(n.projection=new r(e,n.getLatestValues(),null===(i=n.parent)||void 0===i?void 0:i.projection),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:Boolean(s)||c&&zf(c),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"===typeof o?o:"both",initialPromotionConfig:f,layoutScroll:l}))}(d,e,h.visualElement,r||Cf.projectionNodeConstructor),f=function(e,t,n){var r=[],i=(0,u.useContext)(Pf);if(!t)return null;"production"!==Tf&&n&&i.strict&&Rf(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var a=0;a<Df;a++){var o=Nf[a],s=Cf[o],c=s.isEnabled,l=s.Component;c(e)&&l&&r.push(u.createElement(l,wf({key:o},e,{visualElement:t})))}return r}(e,h.visualElement,t)),u.createElement(th,{visualElement:h.visualElement,props:wf(wf({},l),e)},f,u.createElement(Lf.Provider,{value:h},i(o,e,d,function(e,t,n){return(0,u.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):zf(n)&&(n.current=r))}),[t])}(p,h.visualElement,s),p,l.isStatic,h.visualElement)))}))}function rh(e){function t(t,n){return void 0===n&&(n={}),nh(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var ih=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function ah(e){return"string"===typeof e&&!e.includes("-")&&!!(ih.indexOf(e)>-1||/[A-Z]/.test(e))}var oh={};var sh=["","X","Y","Z"],uh=["transformPerspective","x","y","z"];function ch(e,t){return uh.indexOf(e)-uh.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return sh.forEach((function(t){return uh.push(e+t)}))}));var lh=new Set(uh);function fh(e){return lh.has(e)}var hh=new Set(["originX","originY","originZ"]);function dh(e){return hh.has(e)}function ph(e,t){var n=t.layout,r=t.layoutId;return fh(e)||dh(e)||(n||void 0!==r)&&(!!oh[e]||"opacity"===e)}var vh=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)},mh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function yh(e){return e.startsWith("--")}var gh=function(e,t){return t&&"number"===typeof e?t.transform(e):e},bh=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},kh=function(e){return e%1?Number(e.toFixed(5)):e},wh=/(-)?([\d]*\.?[\d])+/g,_h=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,xh=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Sh(e){return"string"===typeof e}var Eh=function(e){return{test:function(t){return Sh(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},Th=Eh("deg"),Ih=Eh("%"),Ch=Eh("px"),Ah=Eh("vh"),Rh=Eh("vw"),Ph=Object.assign(Object.assign({},Ih),{parse:function(e){return Ih.parse(e)/100},transform:function(e){return Ih.transform(100*e)}}),Nh={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Dh=Object.assign(Object.assign({},Nh),{transform:bh(0,1)}),Oh=Object.assign(Object.assign({},Nh),{default:1}),Lh=wf(wf({},Nh),{transform:Math.round}),Mh={borderWidth:Ch,borderTopWidth:Ch,borderRightWidth:Ch,borderBottomWidth:Ch,borderLeftWidth:Ch,borderRadius:Ch,radius:Ch,borderTopLeftRadius:Ch,borderTopRightRadius:Ch,borderBottomRightRadius:Ch,borderBottomLeftRadius:Ch,width:Ch,maxWidth:Ch,height:Ch,maxHeight:Ch,size:Ch,top:Ch,right:Ch,bottom:Ch,left:Ch,padding:Ch,paddingTop:Ch,paddingRight:Ch,paddingBottom:Ch,paddingLeft:Ch,margin:Ch,marginTop:Ch,marginRight:Ch,marginBottom:Ch,marginLeft:Ch,rotate:Th,rotateX:Th,rotateY:Th,rotateZ:Th,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:Th,skewX:Th,skewY:Th,distance:Ch,translateX:Ch,translateY:Ch,translateZ:Ch,x:Ch,y:Ch,z:Ch,perspective:Ch,transformPerspective:Ch,opacity:Dh,originX:Ph,originY:Ph,originZ:Ch,zIndex:Lh,fillOpacity:Dh,strokeOpacity:Dh,numOctaves:Lh};function Fh(e,t,n,r){var i,a=e.style,o=e.vars,s=e.transform,u=e.transformKeys,c=e.transformOrigin;u.length=0;var l=!1,f=!1,h=!0;for(var d in t){var p=t[d];if(yh(d))o[d]=p;else{var v=Mh[d],m=gh(p,v);if(fh(d)){if(l=!0,s[d]=m,u.push(d),!h)continue;p!==(null!==(i=v.default)&&void 0!==i?i:0)&&(h=!1)}else dh(d)?(c[d]=m,f=!0):a[d]=m}}l?a.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,u=t.allowTransformNone,c=void 0===u||u,l="";a.sort(ch);for(var f=!1,h=a.length,d=0;d<h;d++){var p=a[d];l+="".concat(mh[p]||p,"(").concat(i[p],") "),"z"===p&&(f=!0)}return!f&&s?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,n,h,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),f&&(a.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,a=e.originZ,o=void 0===a?0:a;return"".concat(n," ").concat(i," ").concat(o)}(c))}var jh=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Vh(e,t,n){for(var r in t)vh(t[r])||ph(r,n)||(e[r]=t[r])}function Bh(e,t,n){var r={};return Vh(r,e.style||{},e),Object.assign(r,function(e,t,n){var r=e.transformTemplate;return(0,u.useMemo)((function(){var e=jh();Fh(e,t,{enableHardwareAcceleration:!n},r);var i=e.vars,a=e.style;return wf(wf({},i),a)}),[t])}(e,t,n)),e.transformValues&&(r=e.transformValues(r)),r}function Uh(e,t,n){var r={},i=Bh(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var zh=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function qh(e){return zh.has(e)}var Wh,Hh=function(e){return!qh(e)};try{(Wh=require("@emotion/is-prop-valid").default)&&(Hh=function(e){return e.startsWith("on")?!qh(e):Wh(e)})}catch(ho){}function Gh(e,t,n){return"string"===typeof e?e:Ch.transform(t+n*e)}var Kh={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qh={offset:"strokeDashoffset",array:"strokeDasharray"};function Yh(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,s=t.originY,u=t.pathLength,c=t.pathSpacing,l=void 0===c?1:c,f=t.pathOffset,h=void 0===f?0:f;Fh(e,_f(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==o||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=Gh(t,e.x,e.width),i=Gh(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==o?o:.5,void 0!==s?s:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==u&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var a=i?Kh:Qh;e[a.offset]=Ch.transform(-r);var o=Ch.transform(t),s=Ch.transform(n);e[a.array]="".concat(o," ").concat(s)}(d,u,l,h,!1)}var $h=function(){return wf(wf({},jh()),{attrs:{}})};function Xh(e,t){var n=(0,u.useMemo)((function(){var n=$h();return Yh(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),wf(wf({},n.attrs),{style:wf({},n.style)})}),[t]);if(e.style){var r={};Vh(r,e.style,e),n.style=wf(wf({},r),n.style)}return n}function Jh(e){void 0===e&&(e=!1);return function(t,n,r,i,a,o){var s=a.latestValues,c=(ah(t)?Xh:Uh)(n,s,o),l=function(e,t,n){var r={};for(var i in e)(Hh(i)||!0===n&&qh(i)||!t&&!qh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),f=wf(wf(wf({},l),c),{ref:i});return r&&(f["data-projection-id"]=r),(0,u.createElement)(t,f)}}var Zh=/([a-z])([A-Z])/g,ed=function(e){return e.replace(Zh,"$1-$2").toLowerCase()};function td(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var nd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function rd(e,t,n,r){for(var i in td(e,t,void 0,r),t.attrs)e.setAttribute(nd.has(i)?i:ed(i),t.attrs[i])}function id(e){var t=e.style,n={};for(var r in t)(vh(t[r])||ph(r,e))&&(n[r]=t[r]);return n}function ad(e){var t=id(e);for(var n in e){if(vh(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function od(e){return"object"===typeof e&&"function"===typeof e.start}var sd=function(e){return Array.isArray(e)},ud=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},cd=function(e){return sd(e)?e[e.length-1]||0:e};function ld(e){var t=vh(e)?e.get():e;return ud(t)?t.toValue():t}function fd(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:dd(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}var hd=function(e){return function(t,n){var r=(0,u.useContext)(Lf),i=(0,u.useContext)(hf);return n?fd(e,t,r,i):df((function(){return fd(e,t,r,i)}))}};function dd(e,t,n,r){var i={},a=!1===(null===n||void 0===n?void 0:n.initial),o=r(e);for(var s in o)i[s]=ld(o[s]);var u=e.initial,c=e.animate,l=Kf(e),f=Qf(e);t&&f&&!l&&!1!==e.inherit&&(null!==u&&void 0!==u||(u=t.initial),null!==c&&void 0!==c||(c=t.animate));var h=a||!1===u,d=h?c:u;d&&"boolean"!==typeof d&&!od(d)&&(Array.isArray(d)?d:[d]).forEach((function(t){var n=Hf(e,t);if(n){var r=n.transitionEnd;n.transition;var a=_f(n,["transitionEnd","transition"]);for(var o in a){var s=a[o];if(Array.isArray(s))s=s[h?s.length-1:0];null!==s&&(i[o]=s)}for(var o in r)i[o]=r[o]}}));return i}var pd,vd={useVisualState:hd({scrapeMotionValuesFromProps:ad,createRenderState:$h,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}Yh(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),rd(t,r)}})},md={useVisualState:hd({scrapeMotionValuesFromProps:id,createRenderState:jh})};function yd(e,t,n,r){return void 0===r&&(r={passive:!0}),e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function gd(e,t,n,r){(0,u.useEffect)((function(){var i=e.current;if(n&&i)return yd(i,t,n,r)}),[e,t,n,r])}function bd(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function kd(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(pd||(pd={}));var wd={pageX:0,pageY:0};function _d(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||wd;return{x:n[t+"X"],y:n[t+"Y"]}}function xd(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Sd(e,t){return void 0===t&&(t="page"),{point:kd(e)?_d(e,t):xd(e,t)}}var Ed=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,Sd(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},Td=function(){return Mf&&null===window.onpointerdown},Id=function(){return Mf&&null===window.ontouchstart},Cd=function(){return Mf&&null===window.onmousedown},Ad={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Rd={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Pd(e){return Td()?e:Id()?Rd[e]:Cd()?Ad[e]:e}function Nd(e,t,n,r){return yd(e,Pd(t),Ed(n,"pointerdown"===t),r)}function Dd(e,t,n,r){return gd(e,Pd(t),n&&Ed(n,"pointerdown"===t),r)}function Od(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Ld=Od("dragHorizontal"),Md=Od("dragVertical");function Fd(e){var t=!1;if("y"===e)t=Md();else if("x"===e)t=Ld();else{var n=Ld(),r=Md();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function jd(){var e=Fd(!0);return!e||(e(),!1)}function Vd(e,t,n){return function(r,i){var a;bd(r)&&!jd()&&(null===(a=e.animationState)||void 0===a||a.setActive(pd.Hover,t),null===n||void 0===n||n(r,i))}}var Bd=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function Ud(e){return(0,u.useEffect)((function(){return function(){return e()}}),[])}var zd=function(e,t){return function(n){return t(e(n))}},qd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(zd)};var Wd=new Set;var Hd=new WeakMap,Gd=new WeakMap,Kd=function(e){var t;null===(t=Hd.get(e.target))||void 0===t||t(e)},Qd=function(e){e.forEach(Kd)};function Yd(e,t,n){var r=function(e){var t=e.root,n=_f(e,["root"]),r=t||document;Gd.has(r)||Gd.set(r,{});var i=Gd.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(Qd,wf({root:t},n))),i[a]}(t);return Hd.set(e,n),r.observe(e),function(){Hd.delete(e),r.unobserve(e)}}var $d={some:0,all:1};function Xd(e,t,n,r){var i=r.root,a=r.margin,o=r.amount,s=void 0===o?"some":o,c=r.once;(0,u.useEffect)((function(){if(e){var r={root:null===i||void 0===i?void 0:i.current,rootMargin:a,threshold:"number"===typeof s?s:$d[s]};return Yd(n.getInstance(),r,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!c||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(pd.InView,i);var a=n.getProps(),o=i?a.onViewportEnter:a.onViewportLeave;null===o||void 0===o||o(e)}}))}}),[e,i,a,s])}function Jd(e,t,n,r){var i=r.fallback,a=void 0===i||i;(0,u.useEffect)((function(){var r,i;e&&a&&("production"!==Tf&&(r="IntersectionObserver not available on this device. whileInView animations will trigger on mount.",!1||Wd.has(r)||(console.warn(r),i&&console.warn(i),Wd.add(r))),requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null===r||void 0===r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(pd.InView,!0)})))}),[e])}var Zd=function(e){return function(t){return e(t),null}},ep={inView:Zd((function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,i=e.onViewportLeave,a=e.viewport,o=void 0===a?{}:a,s=(0,u.useRef)({hasEnteredView:!1,isInView:!1}),c=Boolean(n||r||i);o.once&&s.current.hasEnteredView&&(c=!1),("undefined"===typeof IntersectionObserver?Jd:Xd)(c,s.current,t,o)})),tap:Zd((function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,i=e.whileTap,a=e.visualElement,o=t||n||r||i,s=(0,u.useRef)(!1),c=(0,u.useRef)(null),l={passive:!(n||t||r||v)};function f(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function h(){var e;return f(),s.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(pd.Tap,!1),!jd()}function d(e,n){h()&&(Bd(a.getInstance(),e.target)?null===t||void 0===t||t(e,n):null===r||void 0===r||r(e,n))}function p(e,t){h()&&(null===r||void 0===r||r(e,t))}function v(e,t){var r;f(),s.current||(s.current=!0,c.current=qd(Nd(window,"pointerup",d,l),Nd(window,"pointercancel",p,l)),null===(r=a.animationState)||void 0===r||r.setActive(pd.Tap,!0),null===n||void 0===n||n(e,t))}Dd(a,"pointerdown",o?v:void 0,l),Ud(f)})),focus:Zd((function(e){var t=e.whileFocus,n=e.visualElement;gd(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(pd.Focus,!0)}:void 0),gd(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(pd.Focus,!1)}:void 0)})),hover:Zd((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;Dd(i,"pointerenter",t||r?Vd(i,!0,t):void 0,{passive:!t}),Dd(i,"pointerleave",n||r?Vd(i,!1,n):void 0,{passive:!n})}))};function tp(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var np=function(e,t,n){return Math.min(Math.max(n,e),t)},rp=.001,ip=.01,ap=10,op=.05,sp=1;function up(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;Af(i<=1e3*ap,"Spring duration must be 10 seconds or less");var f=1-o;f=np(op,sp,f),i=np(ip,ap,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=lp(e,f),o=Math.exp(-n);return rp-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=lp(Math.pow(e,2),f);return(-t(e)+rp>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-rp},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<cp;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}var cp=12;function lp(e,t){return e*Math.sqrt(1-t*t)}var fp=["duration","bounce"],hp=["stiffness","damping","mass"];function dp(e,t){return t.some((function(t){return void 0!==e[t]}))}function pp(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,s=e.restDelta,u=_f(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!dp(e,hp)&&dp(e,fp)){var n=up(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=l.stiffness,h=l.damping,d=l.mass,p=l.velocity,v=l.duration,m=l.isResolvedFromDuration,y=vp,g=vp;function b(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===s&&(s=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=lp(a,r);y=function(n){var s=Math.exp(-r*a*n);return i-s*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)y=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var u=a*Math.sqrt(r*r-1);y=function(n){var o=Math.exp(-r*a*n),s=Math.min(u*n,300);return i-o*((e+r*a*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return b(),{next:function(e){var t=y(e);if(m)c.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=s;c.done=r&&a}return c.value=c.done?i:t,c},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],b()}}}pp.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var vp=function(e){return 0},mp=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},yp=function(e,t,n){return-n*e+n*t+e},gp=function(e,t){return function(n){return Boolean(Sh(n)&&xh.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},bp=function(e,t,n){return function(r){var a;if(!Sh(r))return r;var o=Qe(r.match(wh),4),s=o[0],u=o[1],c=o[2],l=o[3];return i(a={},e,parseFloat(s)),i(a,t,parseFloat(u)),i(a,n,parseFloat(c)),i(a,"alpha",void 0!==l?parseFloat(l):1),a}},kp=bh(0,255),wp=Object.assign(Object.assign({},Nh),{transform:function(e){return Math.round(kp(e))}}),_p={test:gp("rgb","red"),parse:bp("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+wp.transform(t)+", "+wp.transform(n)+", "+wp.transform(r)+", "+kh(Dh.transform(a))+")"}};var xp={test:gp("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:_p.transform},Sp={test:gp("hsl","hue"),parse:bp("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+Ih.transform(kh(n))+", "+Ih.transform(kh(r))+", "+kh(Dh.transform(a))+")"}};function Ep(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Tp(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=Ep(c,u,t+1/3),o=Ep(c,u,t),s=Ep(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}var Ip=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},Cp=[xp,_p,Sp],Ap=function(e){return Cp.find((function(t){return t.test(e)}))},Rp=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},Pp=function(e,t){var n=Ap(e),r=Ap(t);Rf(!!n,Rp(e)),Rf(!!r,Rp(t));var i=n.parse(e),a=r.parse(t);n===Sp&&(i=Tp(i),n=_p),r===Sp&&(a=Tp(a),r=_p);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=Ip(i[t],a[t],e));return o.alpha=yp(i.alpha,a.alpha,e),n.transform(o)}},Np={test:function(e){return _p.test(e)||xp.test(e)||Sp.test(e)},parse:function(e){return _p.test(e)?_p.parse(e):Sp.test(e)?Sp.parse(e):xp.parse(e)},transform:function(e){return Sh(e)?e:e.hasOwnProperty("red")?_p.transform(e):Sp.transform(e)}},Dp="${c}",Op="${n}";function Lp(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(_h);r&&(n=r.length,e=e.replace(_h,Dp),t.push.apply(t,it(r.map(Np.parse))));var i=e.match(wh);return i&&(e=e.replace(wh,Op),t.push.apply(t,it(i.map(Nh.parse)))),{values:t,numColors:n,tokenised:e}}function Mp(e){return Lp(e).values}function Fp(e){var t=Lp(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?Dp:Op,n<r?Np.transform(e[n]):kh(e[n]));return t}}var jp=function(e){return"number"===typeof e?0:e};var Vp={test:function(e){var t,n,r,i;return isNaN(e)&&Sh(e)&&(null!==(n=null===(t=e.match(wh))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(_h))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:Mp,createTransformer:Fp,getAnimatableNone:function(e){var t=Mp(e);return Fp(e)(t.map(jp))}},Bp=function(e){return"number"===typeof e};function Up(e,t){return Bp(e)?function(n){return yp(e,t,n)}:Np.test(e)?Pp(e,t):Hp(e,t)}var zp=function(e,t){var n=it(e),r=n.length,i=e.map((function(e,n){return Up(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},qp=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Up(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function Wp(e){for(var t=Vp.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var Hp=function(e,t){var n=Vp.createTransformer(t),r=Wp(e),i=Wp(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?qd(zp(r.parsed,i.parsed),n):(Af(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),function(n){return"".concat(n>0?t:e)})},Gp=function(e,t){return function(n){return yp(e,t,n)}};function Kp(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?Gp:"string"===typeof e?Np.test(e)?Pp:Hp:Array.isArray(e)?zp:"object"===typeof e?qp:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]:t;s=qd(u,s)}r.push(s)}return r}function Qp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;Rf(s===t.length,"Both input and output ranges must be the same length"),Rf(!a||!Array.isArray(a)||a.length===s-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=Kp(t,a,o),c=2===s?function(e,t){var n=Qe(e,2),r=n[0],i=n[1],a=Qe(t,1)[0];return function(e){return a(mp(r,i,e))}}(e,u):function(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var s=1;s<n&&!(e[s]>i||s===r);s++);a=s-1}var u=mp(e[a],e[a+1],i);return t[a](u)}}(e,u);return i?function(t){return c(np(e[0],e[s-1],t))}:c}var Yp,$p=function(e){return function(t){return 1-e(1-t)}},Xp=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Jp=function(e){return function(t){return t*t*((e+1)*t-e)}},Zp=function(e){return e},ev=(Yp=2,function(e){return Math.pow(e,Yp)}),tv=$p(ev),nv=Xp(ev),rv=function(e){return 1-Math.sin(Math.acos(e))},iv=$p(rv),av=Xp(iv),ov=Jp(1.525),sv=$p(ov),uv=Xp(ov),cv=function(e){var t=Jp(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),lv=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},fv=$p(lv);function hv(e,t){return e.map((function(){return t||nv})).splice(0,e.length-1)}function dv(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,s=e.duration,u=void 0===s?300:s,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===l.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),u);function h(){return Qp(f,l,{ease:Array.isArray(a)?a:hv(l,a)})}var d=h();return{next:function(e){return c.value=d(e),c.done=e>=u,c},flipTarget:function(){l.reverse(),d=h()}}}var pv={keyframes:dv,spring:pp,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,u=void 0===s?350:s,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/u);return h.done=!(t>l||t<-l),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};var vv=1/60*1e3,mv="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},yv="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(mv())}),vv)};var gv=!0,bv=!1,kv=!1,wv={delta:0,timestamp:0},_v=["read","update","preRender","render","postRender"],xv=_v.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return bv=!0})),e}),{}),Sv=_v.reduce((function(e,t){var n=xv[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return bv||Cv(),n.schedule(e,t,r)},e}),{}),Ev=_v.reduce((function(e,t){return e[t]=xv[t].cancel,e}),{}),Tv=(_v.reduce((function(e,t){return e[t]=function(){return xv[t].process(wv)},e}),{}),function(e){return xv[e].process(wv)}),Iv=function e(t){bv=!1,wv.delta=gv?vv:Math.max(Math.min(t-wv.timestamp,40),1),wv.timestamp=t,kv=!0,_v.forEach(Tv),kv=!1,bv&&(gv=!1,yv(e))},Cv=function(){bv=!0,gv=!0,kv||yv(Iv)},Av=function(){return wv},Rv=Sv;function Pv(e,t){return e-t-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)}var Nv=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return Rv.update(t,!0)},stop:function(){return Ev.update(t)}}};function Dv(e){var t,n,r,i,a,o=e.from,s=e.autoplay,u=void 0===s||s,c=e.driver,l=void 0===c?Nv:c,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,b=e.onPlay,k=e.onStop,w=e.onComplete,_=e.onRepeat,x=e.onUpdate,S=_f(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),E=S.to,T=0,I=S.duration,C=!1,A=!0,R=function(e){if(Array.isArray(e.to))return dv;if(pv[e.type])return pv[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?dv:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?pp:dv}(S);(null===(n=(t=R).needsInterpolation)||void 0===n?void 0:n.call(t,o,E))&&(a=Qp([0,100],[o,E],{clamp:!1}),o=0,E=100);var P=R(Object.assign(Object.assign({},S),{from:o,to:E}));function N(){T++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:Pv(t+-e,t,n)}(h,I,g,A=T%2===0):(h=Pv(h,I,g),"mirror"===m&&P.flipTarget()),C=!1,_&&_()}function D(e){if(A||(e=-e),h+=e,!C){var t=P.next(Math.max(0,h));i=t.value,a&&(i=a(i)),C=A?t.done:h<=0}null===x||void 0===x||x(i),C&&(0===T&&(null!==I&&void 0!==I||(I=h)),T<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,I,g,A)&&N():(r.stop(),w&&w()))}return u&&(null===b||void 0===b||b(),(r=l(D)).start()),{stop:function(){null===k||void 0===k||k(),r.stop()}}}function Ov(e,t){return t?e*(1e3/t):0}var Lv=function(e){return 1e3*e},Mv=function(e,t){return 1-3*t+3*e},Fv=function(e,t){return 3*t-6*e},jv=function(e){return 3*e},Vv=function(e,t,n){return((Mv(t,n)*e+Fv(t,n))*e+jv(t))*e},Bv=function(e,t,n){return 3*Mv(t,n)*e*e+2*Fv(t,n)*e+jv(t)},Uv=1e-7,zv=10;var qv=8,Wv=.001;var Hv=11,Gv=1/(Hv-1);function Kv(e,t,n,r){if(e===t&&n===r)return Zp;for(var i=new Float32Array(Hv),a=0;a<Hv;++a)i[a]=Vv(a*Gv,e,n);function o(t){for(var r=0,a=1,o=Hv-1;a!==o&&i[a]<=t;++a)r+=Gv;--a;var s=r+(t-i[a])/(i[a+1]-i[a])*Gv,u=Bv(s,e,n);return u>=Wv?function(e,t,n,r){for(var i=0;i<qv;++i){var a=Bv(t,n,r);if(0===a)return t;t-=(Vv(t,n,r)-e)/a}return t}(t,s,e,n):0===u?s:function(e,t,n,r,i){var a,o,s=0;do{(a=Vv(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>Uv&&++s<zv);return o}(t,r,r+Gv,e,n)}return function(e){return 0===e||1===e?e:Vv(o(e),t,r)}}var Qv={linear:Zp,easeIn:ev,easeInOut:nv,easeOut:tv,circIn:rv,circInOut:av,circOut:iv,backIn:ov,backInOut:uv,backOut:sv,anticipate:cv,bounceIn:fv,bounceInOut:function(e){return e<.5?.5*(1-lv(1-2*e)):.5*lv(2*e-1)+.5},bounceOut:lv},Yv=function(e){if(Array.isArray(e)){Rf(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=Sf(e,4);return Kv(t[0],t[1],t[2],t[3])}return"string"===typeof e?(Rf(void 0!==Qv[e],"Invalid easing type '".concat(e,"'")),Qv[e]):e},$v=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},Xv=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Vp.test(t)||t.startsWith("url(")))},Jv=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Zv=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},em=function(){return{type:"keyframes",ease:"linear",duration:.3}},tm=function(e){return{type:"keyframes",duration:.8,values:e}},nm={x:Jv,y:Jv,z:Jv,rotate:Jv,rotateX:Jv,rotateY:Jv,rotateZ:Jv,scaleX:Zv,scaleY:Zv,scale:Zv,opacity:em,backgroundColor:em,color:em,default:Zv},rm=function(e,t){var n;return n=sd(t)?tm:nm[e]||nm.default,wf({to:t},n(t))},im=new Set(["brightness","contrast","saturate","opacity"]);function am(e){var t=Qe(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=Qe(r.match(wh)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=im.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var om=/([a-z-]*)\(.*?\)/g,sm=Object.assign(Object.assign({},Vp),{getAnimatableNone:function(e){var t=e.match(om);return t?t.map(am).join(" "):e}}),um=wf(wf({},Mh),{color:Np,backgroundColor:Np,outlineColor:Np,fill:Np,stroke:Np,borderColor:Np,borderTopColor:Np,borderRightColor:Np,borderBottomColor:Np,borderLeftColor:Np,filter:sm,WebkitFilter:sm}),cm=function(e){return um[e]};function lm(e,t){var n,r=cm(e);return r!==sm&&(r=Vp),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var fm={current:!1};var hm=!1;function dm(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Ef([],Sf(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=_f(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=wf(wf({},e),rm(n,t.to))),wf(wf({},t),function(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=_f(e,["ease","times","yoyo","flip","loop"]),s=wf({},o);return n&&(s.offset=n),o.duration&&(s.duration=Lv(o.duration)),o.repeatDelay&&(s.repeatDelay=Lv(o.repeatDelay)),t&&(s.ease=$v(t)?t.map(Yv):Yv(t)),"tween"===o.type&&(s.type="keyframes"),(r||a||i)&&(Af(!hm,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),hm=!0,r?s.repeatType="reverse":a?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=a||r||i||o.repeat),"spring"!==o.type&&(s.type="keyframes"),s}(e))}function pm(e,t,n,r,i){var a,o=ym(r,e),s=null!==(a=o.from)&&void 0!==a?a:t.get(),u=Xv(e,n);"none"===s&&u&&"string"===typeof n?s=lm(e,n):vm(s)&&"string"===typeof n?s=mm(n):!Array.isArray(n)&&vm(n)&&"string"===typeof s&&(n=mm(s));var c=Xv(e,s);return Af(c===u,"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(n,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(n," via the `style` property.")),c&&u&&!1!==o.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,s=e.max,u=e.power,c=void 0===u?.8:u,l=e.timeConstant,f=void 0===l?750:l,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,b=e.driver,k=e.onUpdate,w=e.onComplete,_=e.onStop;function x(e){return void 0!==o&&e<o||void 0!==s&&e>s}function S(e){return void 0===o?s:void 0===s||Math.abs(o-e)<Math.abs(s-e)?o:s}function E(e){null===t||void 0===t||t.stop(),t=Dv(Object.assign(Object.assign({},e),{driver:b,onUpdate:function(t){var n;null===k||void 0===k||k(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:_}))}function T(e){E(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:y},e))}if(x(r))T({from:r,velocity:a,to:S(r)});else{var I=c*a+r;"undefined"!==typeof g&&(I=g(I));var C,A,R=S(I),P=R===o?-1:1;E({type:"decay",from:r,velocity:a,timeConstant:f,power:c,restDelta:y,modifyTarget:g,onUpdate:x(I)?function(e){C=A,A=e,a=Ov(e-C,Av().delta),(1===P&&e>R||-1===P&&e<R)&&T({from:e,to:R,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(wf(wf({},r),o)):Dv(wf(wf({},dm(o,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=o.onUpdate)||void 0===t||t.call(o,e)},onComplete:function(){var e;r.onComplete(),null===(e=o.onComplete)||void 0===e||e.call(o)}}))}:function(){var e,r,a=cd(n);return t.set(a),i(),null===(e=null===o||void 0===o?void 0:o.onUpdate)||void 0===e||e.call(o,a),null===(r=null===o||void 0===o?void 0:o.onComplete)||void 0===r||r.call(o),{stop:function(){}}}}function vm(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function mm(e){return"number"===typeof e?0:lm("",e)}function ym(e,t){return e[t]||e.default||e}function gm(e,t,n,r){return void 0===r&&(r={}),fm.current&&(r={type:!1}),t.start((function(i){var a,o,s=pm(e,t,n,r,i),u=function(e,t){var n,r;return null!==(r=null!==(n=(ym(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),c=function(){return o=s()};return u?a=window.setTimeout(c,Lv(u)):c(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var bm=function(e){return/^\-?\d*\.?\d+$/.test(e)},km=function(e){return/^0[^.\s]+$/.test(e)},wm=1/60*1e3,_m="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},xm="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(_m())}),wm)};var Sm=!0,Em=!1,Tm=!1,Im={delta:0,timestamp:0},Cm=["read","update","preRender","render","postRender"],Am=Cm.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return Em=!0})),e}),{}),Rm=Cm.reduce((function(e,t){var n=Am[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Em||Lm(),n.schedule(e,t,r)},e}),{}),Pm=Cm.reduce((function(e,t){return e[t]=Am[t].cancel,e}),{}),Nm=Cm.reduce((function(e,t){return e[t]=function(){return Am[t].process(Im)},e}),{}),Dm=function(e){return Am[e].process(Im)},Om=function e(t){Em=!1,Im.delta=Sm?wm:Math.max(Math.min(t-Im.timestamp,40),1),Im.timestamp=t,Tm=!0,Cm.forEach(Dm),Tm=!1,Em&&(Sm=!1,xm(e))},Lm=function(){Em=!0,Sm=!0,Tm||xm(Om)},Mm=function(){return Im},Fm=Rm;function jm(e,t){-1===e.indexOf(t)&&e.push(t)}function Vm(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Bm=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return jm(this.subscriptions,e),function(){return Vm(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),Um=function(e){return!isNaN(parseFloat(e))},zm=function(){function e(e){var t=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Bm,this.velocityUpdateSubscribers=new Bm,this.renderSubscribers=new Bm,this.canTrackVelocity=!1,this.updateAndNotify=function(e,n){void 0===n&&(n=!0),t.prev=t.current,t.current=e;var r=Mm(),i=r.delta,a=r.timestamp;t.lastUpdated!==a&&(t.timeDelta=i,t.lastUpdated=a,Fm.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),n&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return Fm.postRender(t.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Um(this.current)}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?Ov(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function qm(e){return new zm(e)}var Wm=function(e){return function(t){return t.test(e)}},Hm=[Nh,Ch,Ih,Th,Rh,Ah,{test:function(e){return"auto"===e},parse:function(e){return e}}],Gm=function(e){return Hm.find(Wm(e))},Km=Ef(Ef([],Sf(Hm),!1),[Np,Vp],!1),Qm=function(e){return Km.find(Wm(e))};function Ym(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qm(n))}function $m(e,t){var n=Gf(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i;r.transition;var o=_f(r,["transitionEnd","transition"]);for(var s in o=wf(wf({},o),a)){Ym(e,s,cd(o[s]))}}function Xm(e,t){if(t)return(t[e]||t.default||t).from}function Jm(e,t,n){var r;void 0===n&&(n={});var i=Gf(e,t,n.custom),a=(i||{}).transition,o=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(o=n.transitionOverride);var s=i?function(){return Zm(e,i,n)}:function(){return Promise.resolve()},u=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=o.delayChildren,a=void 0===i?0:i,s=o.staggerChildren,u=o.staggerDirection;return function(e,t,n,r,i,a){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(ey).forEach((function(e,r){o.push(Jm(e,t,wf(wf({},a),{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}(e,t,a+r,s,u,n)}:function(){return Promise.resolve()},c=o.when;if(c){var l=Sf("beforeChildren"===c?[s,u]:[u,s],2),f=l[0],h=l[1];return f().then(h)}return Promise.all([s(),u(n.delay)])}function Zm(e,t,n){var r,i=void 0===n?{}:n,a=i.delay,o=void 0===a?0:a,s=i.transitionOverride,u=i.type,c=e.makeTargetAnimatable(t),l=c.transition,f=void 0===l?e.getDefaultTransition():l,h=c.transitionEnd,d=_f(c,["transition","transitionEnd"]);s&&(f=s);var p=[],v=u&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[u]);for(var m in d){var y=e.getValue(m),g=d[m];if(!(!y||void 0===g||v&&ty(v,m))){var b=wf({delay:o},f);e.shouldReduceMotion&&fh(m)&&(b=wf(wf({},b),{type:!1,delay:0}));var k=gm(m,y,g,b);p.push(k)}}return Promise.all(p).then((function(){h&&$m(e,h)}))}function ey(e,t){return e.sortNodePosition(t)}function ty(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var ny=[pd.Animate,pd.InView,pd.Focus,pd.Hover,pd.Tap,pd.Drag,pd.Exit],ry=Ef([],Sf(ny),!1).reverse(),iy=ny.length;function ay(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return Jm(e,t,n)}));r=Promise.all(i)}else if("string"===typeof t)r=Jm(e,t,n);else{var a="function"===typeof t?Gf(e,t,n.custom):t;r=Zm(e,a,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function oy(e){var t=ay(e),n=function(){var e;return e={},e[pd.Animate]=sy(!0),e[pd.InView]=sy(),e[pd.Hover]=sy(),e[pd.Tap]=sy(),e[pd.Drag]=sy(),e[pd.Focus]=sy(),e[pd.Exit]=sy(),e}(),r={},i=!0,a=function(t,n){var r=Gf(e,n);if(r){r.transition;var i=r.transitionEnd,a=_f(r,["transition","transitionEnd"]);t=wf(wf(wf({},t),a),i)}return t};function o(o,s){for(var u,c=e.getProps(),l=e.getVariantContext(!0)||{},f=[],h=new Set,d={},p=1/0,v=function(t){var r=ry[t],v=n[r],m=null!==(u=c[r])&&void 0!==u?u:l[r],y=Wf(m),g=r===s?v.isActive:null;!1===g&&(p=t);var b=m===l[r]&&m!==c[r]&&y;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),v.protectedKeys=wf({},d),!v.isActive&&null===g||!m&&!v.prevProp||od(m)||"boolean"===typeof m)return"continue";var k=function(e,t){if("string"===typeof t)return t!==e;if(qf(t))return!tp(t,e);return!1}(v.prevProp,m),w=k||r===s&&v.isActive&&!b&&y||t>p&&y,_=Array.isArray(m)?m:[m],x=_.reduce(a,{});!1===g&&(x={});var S=v.prevResolvedValues,E=void 0===S?{}:S,T=wf(wf({},E),x),I=function(e){w=!0,h.delete(e),v.needsAnimating[e]=!0};for(var C in T){var A=x[C],R=E[C];d.hasOwnProperty(C)||(A!==R?sd(A)&&sd(R)?!tp(A,R)||k?I(C):v.protectedKeys[C]=!0:void 0!==A?I(C):h.add(C):void 0!==A&&h.has(C)?I(C):v.protectedKeys[C]=!0)}v.prevProp=m,v.prevResolvedValues=x,v.isActive&&(d=wf(wf({},d),x)),i&&e.blockInitialAnimation&&(w=!1),w&&!b&&f.push.apply(f,Ef([],Sf(_.map((function(e){return{animation:e,options:wf({type:r},o)}}))),!1))},m=0;m<iy;m++)v(m);if(r=wf({},d),h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return i&&!1===c.initial&&!e.manuallyAnimateOnMount&&(g=!1),i=!1,g?t(f):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=o(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function sy(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var uy={animation:Zd((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=oy(t)),od(n)&&(0,u.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:Zd((function(e){var t=e.custom,n=e.visualElement,r=Sf(yf(),2),i=r[0],a=r[1],o=(0,u.useContext)(hf);(0,u.useEffect)((function(){var e,r;n.isPresent=i;var s=null===(e=n.animationState)||void 0===e?void 0:e.setActive(pd.Exit,!i,{custom:null!==(r=null===o||void 0===o?void 0:o.custom)&&void 0!==r?r:t});!i&&(null===s||void 0===s||s.then(a))}),[i])}))},cy=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},ly=function(e){return cy(e)&&e.hasOwnProperty("z")},fy=function(e,t){return Math.abs(e-t)};function hy(e,t){if(Bp(e)&&Bp(t))return fy(e,t);if(cy(e)&&cy(t)){var n=fy(e.x,t.x),r=fy(e.y,t.y),i=ly(e)&&ly(t)?fy(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var dy=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=my(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=hy(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=Mm().timestamp;r.history.push(wf(wf({},i),{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=py(t,r.transformPagePoint),bd(e)&&0===e.buttons?r.handlePointerUp(e,t):Fm.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=my(py(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(kd(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var a=py(Sd(e),this.transformPagePoint),o=a.point,s=Mm().timestamp;this.history=[wf(wf({},o),{timestamp:s})];var u=t.onSessionStart;u&&u(e,my(a,this.history)),this.removeListeners=qd(Nd(window,"pointermove",this.handlePointerMove),Nd(window,"pointerup",this.handlePointerUp),Nd(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),Pm.update(this.updatePoint)},e}();function py(e,t){return t?{point:t(e.point)}:e}function vy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function my(e,t){var n=e.point;return{point:n,delta:vy(n,gy(t)),offset:vy(n,yy(t)),velocity:by(t,.1)}}function yy(e){return e[0]}function gy(e){return e[e.length-1]}function by(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=gy(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Lv(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ky(e){return e.max-e.min}function wy(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),hy(e,t)<n}function _y(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=yp(t.min,t.max,e.origin),e.scale=ky(n)/ky(t),(wy(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=yp(n.min,n.max,e.origin)-e.originPoint,(wy(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xy(e,t,n,r){_y(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),_y(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function Sy(e,t,n){e.min=n.min+t.min,e.max=e.min+ky(t)}function Ey(e,t,n){e.min=t.min-n.min,e.max=e.min+ky(t)}function Ty(e,t,n){Ey(e.x,t.x,n.x),Ey(e.y,t.y,n.y)}function Iy(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Cy(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=Sf([i,r],2))[0],i=n[1]),{min:r,max:i}}var Ay=.35;function Ry(e,t,n){return{min:Py(e,t),max:Py(e,n)}}function Py(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}var Ny=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},Dy=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function Oy(e){return[e("x"),e("y")]}function Ly(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function My(e){return void 0===e||1===e}function Fy(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!My(t)||!My(n)||!My(r)}function jy(e){return Fy(e)||Vy(e.x)||Vy(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function Vy(e){return e&&"0%"!==e}function By(e,t,n){return n+t*(e-n)}function Uy(e,t,n,r,i){return void 0!==i&&(e=By(e,i,r)),By(e,n,r)+t}function zy(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=Uy(e.min,t,n,r,i),e.max=Uy(e.max,t,n,r,i)}function qy(e,t){var n=t.x,r=t.y;zy(e.x,n.translate,n.scale,n.originPoint),zy(e.y,r.translate,r.scale,r.originPoint)}function Wy(e,t){e.min=e.min+t,e.max=e.max+t}function Hy(e,t,n){var r=Sf(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=yp(e.min,e.max,s);zy(e,t[i],t[a],u,t.scale)}var Gy=["x","scaleX","originX"],Ky=["y","scaleY","originY"];function Qy(e,t){Hy(e.x,t,Gy),Hy(e.y,t,Ky)}function Yy(e,t){return Ly(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var $y=new WeakMap,Xy=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dy(),this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){this.panSession=new dy(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(Sd(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),a=i.drag,o=i.dragPropagation,s=i.onDragStart;(!a||o||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=Fd(a),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),Oy((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(Ih.test(i)){var a=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];if(a)i=ky(a)*(parseFloat(i)/100)}n.originPoint[e]=i})),null===s||void 0===s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(pd.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var u=t.offset;if(a&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==n.currentDirection&&(null===o||void 0===o||o(n.currentDirection)));n.updateAxis("x",t.point,u),n.updateAxis("y",t.point,u),n.visualElement.syncRender(),null===s||void 0===s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(pd.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&Jy(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?yp(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?yp(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&zf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:Iy(e.x,r,a),y:Iy(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=Ay),!1===e?e=0:!0===e&&(e=Ay),{x:Ry(e,"left","right"),y:Ry(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Oy((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!zf(t))return!1;var r=t.current;Rf(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=Yy(e,n),i=t.scroll;return i&&(Wy(r.x,i.x),Wy(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:Cy(e.x,t.x),y:Cy(e.y,t.y)}}(i.layout.actual,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=Ly(s))}return o},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=Oy((function(n){var u;if(Jy(n,r,t.currentDirection)){var l=null!==(u=null===c||void 0===c?void 0:c[n])&&void 0!==u?u:{};s&&(l={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=wf(wf({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),l);return t.startAxisValueAnimation(n,d)}}));return Promise.all(l).then(u)},e.prototype.startAxisValueAnimation=function(e,t){return gm(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;Oy((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;Oy((function(n){if(Jy(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,s=a.max;i.set(e[n]-yp(o,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(zf(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};Oy((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=ky(e),i=ky(t);return i>r?n=mp(t.min,t.max-r,e.min):r>i&&(n=mp(e.min,e.max-i,t.min)),np(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),Oy((function(e){if(Jy(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,s=i.max;n.set(yp(a,s,o[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;$y.set(this.visualElement,this);var n=Nd(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){zf(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=yd(window,"resize",(function(){return t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(Oy((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){o(),n(),a()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?Ay:c,f=e.dragMomentum,h=void 0===f||f;return wf(wf({},e),{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:l,dragMomentum:h})},e}();function Jy(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var Zy={pan:Zd((function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,i=e.onPanSessionStart,a=e.visualElement,o=t||n||r||i,s=(0,u.useRef)(null),c=(0,u.useContext)(Of).transformPagePoint,l={onSessionStart:i,onStart:n,onMove:t,onEnd:function(e,t){s.current=null,r&&r(e,t)}};(0,u.useEffect)((function(){null!==s.current&&s.current.updateHandlers(l)})),Dd(a,"pointerdown",o&&function(e){s.current=new dy(e,l,{transformPagePoint:c})}),Ud((function(){return s.current&&s.current.end()}))})),drag:Zd((function(e){var t=e.dragControls,n=e.visualElement,r=df((function(){return new Xy(n)}));(0,u.useEffect)((function(){return t&&t.subscribe(r)}),[r,t]),(0,u.useEffect)((function(){return r.addListeners()}),[r])}))},eg=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];var tg=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,o=e.measureViewportBox,s=e.render,u=e.readValueFromInstance,c=e.removeValueFromRenderState,l=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e,t){var h=e.parent,d=e.props,p=e.presenceId,v=e.blockInitialAnimation,m=e.visualState,y=e.shouldReduceMotion;void 0===t&&(t={});var g,b,k=!1,w=m.latestValues,_=m.renderState,x=function(){var e=eg.map((function(){return new Bm})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){eg.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+eg[t]]=function(t){return e.add(t)},n["notify"+eg[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,Ef([],Sf(t),!1))}})),n}(),S=new Map,E=new Map,T={},I=wf({},w);function C(){g&&k&&(A(),s(g,_,d.style,F.projection))}function A(){r(F,_,w,t,d)}function R(){x.notifyUpdate(w)}function P(e,t){var n=t.onChange((function(t){w[e]=t,d.onUpdate&&Fm.update(R,!1,!0)})),r=t.onRenderRequest(F.scheduleRender);E.set(e,(function(){n(),r()}))}var N=f(d);for(var D in N){var O=N[D];void 0!==w[D]&&vh(O)&&O.set(w[D],!1)}var L=Kf(d),M=Qf(d),F=wf(wf({treeType:n,current:null,depth:h?h.depth+1:0,parent:h,children:new Set,presenceId:p,shouldReduceMotion:y,variantChildren:M?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===h||void 0===h?void 0:h.isMounted()),blockInitialAnimation:v,isMounted:function(){return Boolean(g)},mount:function(e){k=!0,g=F.current=e,F.projection&&F.projection.mount(e),M&&h&&!L&&(b=null===h||void 0===h?void 0:h.addVariantChild(F)),S.forEach((function(e,t){return P(t,e)})),null===h||void 0===h||h.children.add(F),F.setProps(d)},unmount:function(){var e;null===(e=F.projection)||void 0===e||e.unmount(),Pm.update(R),Pm.render(C),E.forEach((function(e){return e()})),null===b||void 0===b||b(),null===h||void 0===h||h.children.delete(F),x.clearAllListeners(),g=void 0,k=!1},addVariantChild:function(e){var t,n=F.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return l&&n===e.treeType?l(F.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return M?F:null===h||void 0===h?void 0:h.getClosestVariantNode()},getLayoutId:function(){return d.layoutId},getInstance:function(){return g},getStaticValue:function(e){return w[e]},setStaticValue:function(e,t){return w[e]=t},getLatestValues:function(){return w},setVisibility:function(e){F.isVisible!==e&&(F.isVisible=e,F.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(F,e,d,t)},measureViewportBox:function(){return o(g,d)},addValue:function(e,t){F.hasValue(e)&&F.removeValue(e),S.set(e,t),w[e]=t.get(),P(e,t)},removeValue:function(e){var t;S.delete(e),null===(t=E.get(e))||void 0===t||t(),E.delete(e),delete w[e],c(e,_)},hasValue:function(e){return S.has(e)},getValue:function(e,t){var n=S.get(e);return void 0===n&&void 0!==t&&(n=qm(t),F.addValue(e,n)),n},forEachValue:function(e){return S.forEach(e)},readValue:function(e){var n;return null!==(n=w[e])&&void 0!==n?n:u(g,e,t)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(i){var t=i(d,e);if(void 0!==t&&!vh(t))return t}return I[e]}},x),{build:function(){return A(),_},scheduleRender:function(){Fm.render(C,!1,!0)},syncRender:C,setProps:function(e){(e.transformTemplate||d.transformTemplate)&&F.scheduleRender(),d=e,x.updatePropListeners(e),T=function(e,t,n){var r;for(var i in t){var a=t[i],o=n[i];if(vh(a))e.addValue(i,a);else if(vh(o))e.addValue(i,qm(a));else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else e.addValue(i,qm(null!==(r=e.getStaticValue(i))&&void 0!==r?r:a))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(F,f(d),T)},getProps:function(){return d},getVariant:function(e){var t;return null===(t=d.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return d.transition},getTransformPagePoint:function(){return d.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===h||void 0===h?void 0:h.getVariantContext();if(!L){var t=(null===h||void 0===h?void 0:h.getVariantContext())||{};return void 0!==d.initial&&(t.initial=d.initial),t}for(var n={},r=0;r<rg;r++){var i=ng[r],a=d[i];(Wf(a)||!1===a)&&(n[i]=a)}return n}});return F}},ng=Ef(["initial"],Sf(ny),!1),rg=ng.length;function ig(e){return"string"===typeof e&&e.startsWith("var(--")}var ag=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var og=4;function sg(e,t,n){void 0===n&&(n=1),Rf(n<=og,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=Sf(function(e){var t=ag.exec(e);if(!t)return[,];var n=Sf(t,3);return[n[1],n[2]]}(e),2),i=r[0],a=r[1];if(i){var o=window.getComputedStyle(t).getPropertyValue(i);return o?o.trim():ig(a)?sg(a,t,n+1):a}}var ug,cg=new Set(["width","height","top","left","right","bottom","x","y"]),lg=function(e){return cg.has(e)},fg=function(e){return Object.keys(e).some(lg)},hg=function(e,t){e.set(t,!1),e.set(t)},dg=function(e){return e===Nh||e===Ch};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(ug||(ug={}));var pg=function(e,t){return parseFloat(e.split(", ")[t])},vg=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return pg(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?pg(o[1],e):0}},mg=new Set(["x","y","z"]),yg=uh.filter((function(e){return!mg.has(e)}));var gg={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:vg(4,13),y:vg(5,14)},bg=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=wf({},t),r=wf({},r);var i=Object.keys(t).filter(lg),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=Gm(l),h=t[i];if(sd(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=Gm(l);for(var v=p;v<d;v++)c?Rf(Gm(h[v])===c,"All keyframes must be of the same type"):(c=Gm(h[v]),Rf(c===f||dg(f)&&dg(c),"Keyframes must be of the same dimension as the current value"))}else c=Gm(h);if(f!==c)if(dg(f)&&dg(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===Ch&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return yg.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],hg(u,h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,c=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=gg[e](r,a)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);hg(r,s[n]),e[n]=gg[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=Sf(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}};var kg=function(e,t,n,r){var i=function(e,t,n){var r,i=_f(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:i,transitionEnd:n};for(var o in n&&(n=wf({},n)),e.forEachValue((function(e){var t=e.get();if(ig(t)){var n=sg(t,a);n&&e.set(n)}})),i){var s=i[o];if(ig(s)){var u=sg(s,a);u&&(i[o]=u,n&&(null!==(r=n[o])&&void 0!==r||(n[o]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return function(e,t,n,r){return fg(t)?bg(e,t,n,r):{target:t,transitionEnd:r}}(e,t=i.target,n,r=i.transitionEnd)};var wg={treeType:"dom",readValueFromInstance:function(e,t){if(fh(t)){var n=cm(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(yh(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return Yy(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var a=t.transition,o=t.transitionEnd,s=_f(t,["transition","transitionEnd"]),u=function(e,t,n){var r,i,a={};for(var o in e)a[o]=null!==(r=Xm(o,t))&&void 0!==r?r:null===(i=n.getValue(o))||void 0===i?void 0:i.get();return a}(s,a||{},e);if(i&&(o&&(o=i(o)),s&&(s=i(s)),u&&(u=i(u))),r){!function(e,t,n){var r,i,a,o,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),u=s.length;if(u)for(var c=0;c<u;c++){var l=s[c],f=t[l],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==i?i:t[l]),void 0!==h&&null!==h&&("string"===typeof h&&(bm(h)||km(h))?h=parseFloat(h):!Qm(h)&&Vp.test(f)&&(h=lm(l,f)),e.addValue(l,qm(h)),null!==(a=(o=n)[l])&&void 0!==a||(o[l]=h),e.setBaseTarget(l,h))}}(e,s,u);var c=kg(e,s,u,o);o=c.transitionEnd,s=c.target}return wf({transition:a,transitionEnd:o},s)},scrapeMotionValuesFromProps:id,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),Fh(t,n,r,i.transformTemplate)},render:td},_g=tg(wg),xg=tg(wf(wf({},wg),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return fh(t)?(null===(n=cm(t))||void 0===n?void 0:n.default)||0:(t=nd.has(t)?t:ed(t),e.getAttribute(t))},scrapeMotionValuesFromProps:ad,build:function(e,t,n,r,i){Yh(t,n,r,i.transformTemplate)},render:rd})),Sg=function(e,t){return ah(e)?xg(t,{enableHardwareAcceleration:!1}):_g(t,{enableHardwareAcceleration:!0})};function Eg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Tg={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Ch.test(e))return e;e=parseFloat(e)}var n=Eg(e,t.target.x),r=Eg(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Ig="_$css",Cg={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(ag,(function(e){return o.push(e),Ig})));var s=Vp.parse(e);if(s.length>5)return i;var u=Vp.createTransformer(e),c="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,f=r.y.scale*n.y;s[0+c]/=l,s[1+c]/=f;var h=yp(l,f,.5);"number"===typeof s[2+c]&&(s[2+c]/=h),"number"===typeof s[3+c]&&(s[3+c]/=h);var d=u(s);if(a){var p=0;d=d.replace(Ig,(function(){var e=o[p];return p++,e}))}return d}},Ag=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kf(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=Rg,Object.assign(oh,e),s&&((null===i||void 0===i?void 0:i.group)&&i.group.add(s),(null===a||void 0===a?void 0:a.register)&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(wf(wf({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),Xf.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Fm.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(u.Component);var Rg={borderRadius:wf(wf({},Tg),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Tg,borderTopRightRadius:Tg,borderBottomLeftRadius:Tg,borderBottomRightRadius:Tg,boxShadow:Cg},Pg={measureLayout:function(e){var t=Sf(yf(),2),n=t[0],r=t[1],i=(0,u.useContext)(Zf);return u.createElement(Ag,wf({},e,{layoutGroup:i,switchLayoutGroup:(0,u.useContext)(eh),isPresent:n,safeToRemove:r}))}};var Ng=["TopLeft","TopRight","BottomLeft","BottomRight"],Dg=Ng.length,Og=function(e){return"string"===typeof e?parseFloat(e):e},Lg=function(e){return"number"===typeof e||Ch.test(e)};function Mg(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var Fg=Vg(0,.5,iv),jg=Vg(.5,.95,Zp);function Vg(e,t,n){return function(r){return r<e?0:r>t?1:n(mp(e,t,r))}}function Bg(e,t){e.min=t.min,e.max=t.max}function Ug(e,t){Bg(e.x,t.x),Bg(e.y,t.y)}function zg(e,t,n,r,i){return e=By(e-=t,1/n,r),void 0!==i&&(e=By(e,1/i,r)),e}function qg(e,t,n,r,i){var a=Sf(n,3),o=a[0],s=a[1],u=a[2];!function(e,t,n,r,i,a,o){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===a&&(a=e),void 0===o&&(o=e),Ih.test(t)&&(t=parseFloat(t),t=yp(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=yp(a.min,a.max,r);e===a&&(s-=t),e.min=zg(e.min,t,n,s,i),e.max=zg(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var Wg=["x","scaleX","originX"],Hg=["y","scaleY","originY"];function Gg(e,t,n,r){qg(e.x,t,Wg,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),qg(e.y,t,Hg,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function Kg(e){return 0===e.translate&&1===e.scale}function Qg(e){return Kg(e.x)&&Kg(e.y)}function Yg(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var $g=function(){function e(){this.members=[]}return e.prototype.add=function(e){jm(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(Vm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),Xg="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function Jg(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(a+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),u&&(a+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return(a+="scale(".concat(c,", ").concat(l,")"))===Xg?"none":a}var Zg=function(e,t){return e.depth-t.depth},eb=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){jm(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){Vm(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(Zg),this.isDirty=!1,this.children.forEach(e)},e}(),tb=1e3;function nb(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null===n||void 0===n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(cb),i.nodes.forEach(lb)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?Ef(Ef([],Sf(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new eb)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Bm),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null===r||void 0===r||r.notify.apply(r,Ef([],Sf(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(l,250),Xf.hasAnimatedSinceResize&&(Xf.hasAnimatedSinceResize=!1,i.nodes.forEach(ub))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,r,a,o,s=e.delta,c=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,f=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var h=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:mb,d=u.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,m=!i.targetLayout||!Yg(i.targetLayout,f)||l,y=!c&&l;if((null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||y||c&&(m||!i.currentAnimation)){i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(s,y);var g=wf(wf({},ym(h,"layout")),{onPlay:p,onComplete:v});u.shouldReduceMotion&&(g.delay=0,g.type=!1),i.startAnimation(g)}else c||0!==i.animationProgress||i.finishAnimation(),i.isLead()&&(null===(o=(a=i.options).onExitComplete)||void 0===o||o.call(a));i.targetLayout=f}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Pm.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(fb))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,s=o.layoutId,u=o.layout;if(void 0!==s||u){var c=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===c||void 0===c?void 0:c(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ob);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(yb),this.potentialNodes.clear()),this.nodes.forEach(sb),this.nodes.forEach(rb),this.nodes.forEach(ib),this.clearAllSnapshots(),Nm.update(),Nm.preRender(),Nm.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(ab),this.sharedNodes.forEach(hb)},e.prototype.scheduleUpdateProjection=function(){Fm.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;Fm.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));bb(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();bb(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected=Dy(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(a){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!Qg(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(n||jy(this.latestValues)||o)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return Dy();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(Wy(t.x,n.x),Wy(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t=Dy();Ug(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options,o=r.isScrollRoot;if(r!==this.root&&i&&a.layoutScroll){if(o){Ug(t,e);var s=this.root.scroll;s&&(Wy(t.x,-s.x),Wy(t.y,-s.y))}Wy(t.x,i.x),Wy(t.y,i.y)}}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n=Dy();Ug(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qy(n,{x:-i.scroll.x,y:-i.scroll.y}),jy(i.latestValues)&&Qy(n,i.latestValues)}return jy(this.latestValues)&&Qy(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n=Dy();Ug(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&jy(i.latestValues)){Fy(i.latestValues)&&i.updateSnapshot();var a=Dy();Ug(a,i.measure()),Gg(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return jy(this.latestValues)&&Gg(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=wf(wf(wf({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=Dy(),this.relativeTargetOrigin=Dy(),Ty(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Ug(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target=Dy(),this.targetWithTransforms=Dy()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,Sy(t.x,n.x,r.x),Sy(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):Ug(this.target,this.layout.actual),qy(this.target,this.targetDelta)):Ug(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=Dy(),this.relativeTargetOrigin=Dy(),Ty(this.relativeTargetOrigin,this.target,this.relativeParent.target),Ug(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!jy(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();Ug(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,a;void 0===r&&(r=!1);var o=n.length;if(o){var s,u;t.x=t.y=1;for(var c=0;c<o;c++)u=(s=n[c]).projectionDelta,"contents"!==(null===(a=null===(i=s.instance)||void 0===i?void 0:i.style)||void 0===a?void 0:a.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qy(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,qy(e,u)),r&&jy(s.latestValues)&&Qy(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta=Ny(),this.projectionDeltaWithTransform=Ny());var o=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;xy(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=Jg(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=wf({},this.latestValues),s=Ny();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u=Dy(),c=null===i||void 0===i?void 0:i.isShared,l=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,f=Boolean(c&&!l&&!0===this.options.crossfade&&!this.path.some(vb));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i=t/1e3;db(s.x,e.x,i),db(s.y,e.y,i),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(Ty(u,r.layout.actual,r.relativeParent.layout.actual),function(e,t,n,r){pb(e.x,t.x,n.x,r),pb(e.y,t.y,n.y,r)}(r.relativeTarget,r.relativeTargetOrigin,u,i)),c&&(r.animationValues=o,function(e,t,n,r,i,a){var o,s,u,c;i?(e.opacity=yp(0,null!==(o=n.opacity)&&void 0!==o?o:1,Fg(r)),e.opacityExit=yp(null!==(s=t.opacity)&&void 0!==s?s:1,0,jg(r))):a&&(e.opacity=yp(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(c=n.opacity)&&void 0!==c?c:1,r));for(var l=0;l<Dg;l++){var f="border".concat(Ng[l],"Radius"),h=Mg(t,f),d=Mg(n,f);void 0===h&&void 0===d||(h||(h=0),d||(d=0),0===h||0===d||Lg(h)===Lg(d)?(e[f]=Math.max(yp(Og(h),Og(d),r),0),(Ih.test(d)||Ih.test(h))&&(e[f]+="%")):e[f]=d)}(t.rotate||n.rotate)&&(e.rotate=yp(t.rotate||0,n.rotate||0,r))}(o,a,r.latestValues,i,f,l)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=i},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Pm.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fm.update((function(){Xf.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=vh(e)?e:qm(e);return gm("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,tb,wf(wf({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,tb),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(Ug(t,n),Qy(t,i),xy(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new $g),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<sh.length;r++){var i="rotate"+sh[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,a,o;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var u=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=ld(e.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;var c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){var l={};return this.options.layoutId&&(l.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,l.pointerEvents=ld(e.pointerEvents)||""),this.hasProjected&&!jy(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1),l}var f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),s.transform=Jg(this.projectionDeltaWithTransform,this.treeScale,f),u&&(s.transform=u(f,s.transform));var h=this.projectionDelta,d=h.x,p=h.y;for(var v in s.transformOrigin="".concat(100*d.origin,"% ").concat(100*p.origin,"% 0"),c.animationValues?s.opacity=c===this?null!==(i=null!==(r=f.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=c===this?null!==(a=f.opacity)&&void 0!==a?a:"":null!==(o=f.opacityExit)&&void 0!==o?o:0,oh)if(void 0!==f[v]){var m=oh[v],y=m.correct,g=m.applyTo,b=y(f[v],c);if(g)for(var k=g.length,w=0;w<k;w++)s[g[w]]=b;else s[v]=b}return this.options.layoutId&&(s.pointerEvents=c===this?ld(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ob),this.root.sharedNodes.clear()},e}()}function rb(e){e.updateLayout()}function ib(e){var t,n,r,i,a=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var o=e.layout,s=o.actual,u=o.measured;"size"===e.options.animationType?Oy((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=ky(t);t.min=s[e].min,t.max=t.min+n})):"position"===e.options.animationType&&Oy((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=ky(s[e]);t.max=t.min+n}));var c=Ny();xy(c,s,a.layout);var l=Ny();a.isShared?xy(l,e.applyTransform(u,!0),a.measured):xy(l,s,a.layout);var f=!Qg(c),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,p=d.snapshot,v=d.layout;if(p&&v){var m=Dy();Ty(m,a.layout,p.layout);var y=Dy();Ty(y,s,v.actual),Yg(m,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:l,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function ab(e){e.clearSnapshot()}function ob(e){e.clearMeasurements()}function sb(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function ub(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function cb(e){e.resolveTargetDelta()}function lb(e){e.calcProjection()}function fb(e){e.resetRotation()}function hb(e){e.removeLeadSnapshot()}function db(e,t,n){e.translate=yp(t.translate,0,n),e.scale=yp(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pb(e,t,n,r){e.min=yp(t.min,n.min,r),e.max=yp(t.max,n.max,r)}function vb(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var mb={duration:.45,ease:[.4,0,.1,1]};function yb(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function gb(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function bb(e){gb(e.x),gb(e.y)}var kb=nb({attachResizeListener:function(e,t){return yd(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),wb={current:void 0},_b=nb({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!wb.current){var e=new kb(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),wb.current=e}return wb.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),xb=wf(wf(wf(wf({},uy),ep),Zy),Pg),Sb=rh((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a,s=ah(e)?vd:md;return wf(wf({},s),{preloadedFeatures:n,useRender:Jh(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,xb,Sg,_b)}));var Eb=new Set([].concat(it(Qn),["textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),Tb=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Ib(e){return Tb.has(e)||!Eb.has(e)}var Cb=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ab=ye((function(e){return Cb.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Rb=function(e){return"theme"!==e},Pb=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Ab:Rb},Nb=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Db=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Me(t,n,r);Ae((function(){return Fe(t,n,r)}));return null},Ob=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var s=Nb(t,n,a),c=s||Pb(o),l=!c("as");return function(){var f=arguments,h=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=Ne((function(e,t,n){var r=l&&e.as||o,a="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,u.useContext)(De)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,f,e.className):null!=e.className&&(a=e.className+" ");var v=Ie(h.concat(f),t.registered,d);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=l&&void 0===s?Pb(r):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(Db,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,u.createElement)(r,y))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=o,v.__emotion_styles=h,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+i}}),v.withComponent=function(t,r){return e(t,de({},n,r,{shouldForwardProp:Nb(v,r,!0)})).apply(void 0,h)},v}},Lb=Ob.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Lb[e]=Lb(e)}));var Mb,Fb=Lb,jb=["theme","css","__css","sx"],Vb=["baseStyle"],Bb=null!=(Mb=Fb.default)?Mb:Fb,Ub=function(e){var t=e.baseStyle;return function(e){e.theme;var n=e.css,r=e.__css,i=e.sx,a=ar(s(e,jb),(function(e,t){return $n(t)})),u=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=o({},e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,s=r;a<s.length;a++){var u=s[a];if(null!=u)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(c in t&&delete t[c],t[c]=u[c])}return t}({},r,sr(t,e),or(a),i),c=er(u)(e.theme);return n?[c,n]:c}};function zb(e,t){var n=null!=t?t:{},r=n.baseStyle,i=s(n,Vb);i.shouldForwardProp||(i.shouldForwardProp=Ib);var a=Ub({baseStyle:r}),c=Bb(e,i)(a);return u.forwardRef((function(e,t){var n=tt(),r=n.colorMode,i=n.forced;return u.createElement(c,o({ref:t,"data-theme":i?r:void 0},e))}))}var qb=function(){var e=new Map;return new Proxy(zb,{apply:function(e,t,n){return zb.apply(void 0,it(n))},get:function(t,n){return e.has(n)||e.set(n,zb(n)),e.get(n)}})}(),Wb={initial:function(e){var t=e.position,n=["top","bottom"].includes(t)?"y":"x",r=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(r=1),i({opacity:0},n,24*r)},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},Hb=(0,u.memo)((function(e){var t=e.id,n=e.message,r=e.onCloseComplete,i=e.onRequestRemove,a=e.requestClose,s=void 0!==a&&a,c=e.position,l=void 0===c?"bottom":c,f=e.duration,h=void 0===f?5e3:f,d=e.containerStyle,p=e.motionVariants,v=void 0===p?Wb:p,m=e.toastSpacing,y=void 0===m?"0.5rem":m,g=Qe((0,u.useState)(h),2),b=g[0],k=g[1],w=gf();ff((function(){w||null==r||r()}),[w]),ff((function(){k(h)}),[h]);var _=function(){w&&i()};(0,u.useEffect)((function(){w&&s&&i()}),[w,s,i]),lf(_,b);var x=(0,u.useMemo)((function(){return o({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:y},d)}),[d,y]),S=(0,u.useMemo)((function(){return function(e){var t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(l)}),[l]);return(0,Be.jsx)(Sb.li,{layout:!0,className:"chakra-toast",variants:v,initial:"initial",animate:"animate",exit:"exit",onHoverStart:function(){return k(null)},onHoverEnd:function(){return k(h)},custom:{position:l},style:S,children:(0,Be.jsx)(qb.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:x,children:ft(n,{id:t,onClose:_})})})}));function Gb(e){return(0,u.forwardRef)(e)}function Kb(){var e=tt(),t=function(){var e=(0,u.useContext)(De);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}();return o(o({},e),{},{theme:t})}Hb.displayName="ToastComponent";var Qb=n(77),Yb=["styleConfig"];function $b(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.styleConfig,i=s(n,Yb),a=Kb(),o=a.theme,c=a.colorMode,l=e?ir(o,"components.".concat(e)):void 0,f=r||l,h=dt({theme:o,colorMode:c},null!=(t=null==f?void 0:f.defaultProps)?t:{},or(function(e,t){var n={};return Object.keys(e).forEach((function(r){t.includes(r)||(n[r]=e[r])})),n}(i,["children"]))),d=(0,u.useRef)({});if(f){var p=function(e){return function(t){var n,r=t.variant,i=t.size,a=nr(t.theme);return dt({},ft(null!=(n=e.baseStyle)?n:{},t),a(e,"sizes",i,t),a(e,"variants",r,t))}}(f),v=p(h);Qb(d.current,v)||(d.current=v)}return d.current}function Xb(e){return $b(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var Jb=["as","viewBox","color","focusable","children","className","__css"],Zb={path:(0,Be.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Be.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Be.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Be.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},ek=Gb((function(e,t){var n=e.as,r=e.viewBox,i=e.color,a=void 0===i?"currentColor":i,u=e.focusable,c=void 0!==u&&u,l=e.children,f=e.className,h=e.__css,d=s(e,Jb),p=ct("chakra-icon",f),v=Xb("Icon",e),m={ref:t,focusable:c,className:p,__css:o(o({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:a},h),v)},y=null!=r?r:Zb.viewBox;if(n&&"string"!==typeof n)return(0,Be.jsx)(qb.svg,o(o({as:n},m),d));var g=null!=l?l:Zb.path;return(0,Be.jsx)(qb.svg,o(o(o({verticalAlign:"middle",viewBox:y},m),d),{},{children:g}))}));ek.displayName="Icon";function tk(e){return(0,Be.jsx)(ek,o(o({viewBox:"0 0 24 24"},e),{},{children:(0,Be.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}))}var nk=["label","thickness","speed","emptyColor","className"],rk=function(){var e=Ve.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),ik=Gb((function(e,t){var n=Xb("Spinner",e),r=rr(e),i=r.label,a=void 0===i?"Loading...":i,u=r.thickness,c=void 0===u?"2px":u,l=r.speed,f=void 0===l?"0.45s":l,h=r.emptyColor,d=void 0===h?"transparent":h,p=r.className,v=s(r,nk),m=ct("chakra-spinner",p),y=o({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:c,borderBottomColor:d,borderLeftColor:d,animation:"".concat(rk," ").concat(f," linear infinite")},n);return(0,Be.jsx)(qb.div,o(o({ref:t,__css:y,className:m},v),{},{children:a&&(0,Be.jsx)(qb.span,{srOnly:!0,children:a})}))}));ik.displayName="Spinner";var ak=Qe(Ye({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),2),ok=ak[0],sk=ak[1],uk=Qe(Ye({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),2),ck=uk[0],lk=uk[1],fk={info:{icon:function(e){return(0,Be.jsx)(ek,o(o({viewBox:"0 0 24 24"},e),{},{children:(0,Be.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})}))},colorScheme:"blue"},warning:{icon:tk,colorScheme:"orange"},success:{icon:function(e){return(0,Be.jsx)(ek,o(o({viewBox:"0 0 24 24"},e),{},{children:(0,Be.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}))},colorScheme:"green"},error:{icon:tk,colorScheme:"red"},loading:{icon:ik,colorScheme:"blue"}};var hk=["status","addRole"],dk=Gb((function(e,t){var n,r=rr(e),i=r.status,a=void 0===i?"info":i,u=r.addRole,c=void 0===u||u,l=s(r,hk),f=null!=(n=e.colorScheme)?n:function(e){return fk[e].colorScheme}(a),h=function(e){return $b(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}("Alert",o(o({},e),{},{colorScheme:f})),d=o({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},h.container);return(0,Be.jsx)(ok,{value:{status:a},children:(0,Be.jsx)(ck,{value:h,children:(0,Be.jsx)(qb.div,o(o({role:c?"alert":void 0,ref:t},l),{},{className:ct("chakra-alert",e.className),__css:d}))})})}));function pk(e){var t=sk().status,n=function(e){return fk[e].icon}(t),r=lk(),i="loading"===t?r.spinner:r.icon;return(0,Be.jsx)(qb.span,o(o({display:"inherit"},e),{},{className:ct("chakra-alert__icon",e.className),__css:i,children:e.children||(0,Be.jsx)(n,{h:"100%",w:"100%"})}))}dk.displayName="Alert",pk.displayName="AlertIcon";var vk=Gb((function(e,t){var n=lk();return(0,Be.jsx)(qb.div,o(o({ref:t},e),{},{className:ct("chakra-alert__title",e.className),__css:n.title}))}));vk.displayName="AlertTitle";var mk=Gb((function(e,t){var n=o({display:"inline"},lk().description);return(0,Be.jsx)(qb.div,o(o({ref:t},e),{},{className:ct("chakra-alert__desc",e.className),__css:n}))}));mk.displayName="AlertDescription";var yk=["children","isDisabled","__css"];function gk(e){return(0,Be.jsx)(ek,o(o({focusable:"false","aria-hidden":!0},e),{},{children:(0,Be.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})}))}var bk=Gb((function(e,t){var n=Xb("CloseButton",e),r=rr(e),i=r.children,a=r.isDisabled,u=r.__css,c=s(r,yk);return(0,Be.jsx)(qb.button,o(o({type:"button","aria-label":"Close",ref:t,disabled:a,__css:o(o(o({},{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),n),u)},c),{},{children:i||(0,Be.jsx)(gk,{width:"1em",height:"1em"})}))}));bk.displayName="CloseButton";var kk=function(e){var t=e,n=new Set,r=function(e){t=e(t),n.forEach((function(e){return e()}))};return{getState:function(){return t},subscribe:function(t){return n.add(t),function(){r((function(){return e})),n.delete(t)}},removeToast:function(e,t){r((function(n){return o(o({},n),{},i({},t,n[t].filter((function(t){return t.id!=e}))))}))},notify:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wk+=1;var i=null!=(t=r.id)?t:wk,a=null!=(n=r.position)?n:"bottom";return{id:i,message:e,position:a,duration:r.duration,onCloseComplete:r.onCloseComplete,onRequestRemove:function(){return kk.removeToast(String(i),a)},status:r.status,requestClose:!1,containerStyle:r.containerStyle}}(e,t),a=n.position,s=n.id;return r((function(e){var t,r,s=a.includes("top")?[n].concat(it(null!=(t=e[a])?t:[])):[].concat(it(null!=(r=e[a])?r:[]),[n]);return o(o({},e),{},i({},a,s))})),s},update:function(e,t){e&&r((function(n){var r=o({},n),i=sf(r,e),a=i.position,s=i.index;return a&&-1!==s&&(r[a][s]=o(o(o({},r[a][s]),t),{},{message:xk(t)})),r}))},closeAll:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).positions;r((function(t){return(null!=e?e:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((function(e,n){return e[n]=t[n].map((function(e){return o(o({},e),{},{requestClose:!0})})),e}),o({},t))}))},close:function(e){r((function(t){var n=uf(t,e);return n?o(o({},t),{},i({},n,t[n].map((function(t){return t.id==e?o(o({},t),{},{requestClose:!0}):t})))):t}))},isActive:function(e){return Boolean(sf(kk.getState(),e).position)}}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var wk=0;var _k=function(e){var t=e.status,n=e.variant,r=void 0===n?"solid":n,i=e.id,a=e.title,o=e.isClosable,s=e.onClose,u=e.description,c=e.icon,l=i?{root:"toast-".concat(i),title:"toast-".concat(i,"-title"),description:"toast-".concat(i,"-description")}:void 0;return(0,Be.jsxs)(dk,{addRole:!1,status:t,variant:r,id:null==l?void 0:l.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",children:[(0,Be.jsx)(pk,{children:c}),(0,Be.jsxs)(qb.div,{flex:"1",maxWidth:"100%",children:[a&&(0,Be.jsx)(vk,{id:null==l?void 0:l.title,children:a}),u&&(0,Be.jsx)(mk,{id:null==l?void 0:l.description,display:"block",children:u})]}),o&&(0,Be.jsx)(bk,{size:"sm",onClick:s,position:"absolute",insetEnd:1,top:1})]})};function xk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.render,n=e.toastComponent,r=void 0===n?_k:n;return function(n){return"function"===typeof t?t(o(o({},n),e)):(0,Be.jsx)(r,o(o({},n),e))}}function Sk(){var e=(0,u.useRef)(!1);return Ff((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var Ek=function(e){var t=e.children,n=e.initial,r=e.isPresent,i=e.onExitComplete,a=e.custom,o=e.presenceAffectsLayout,s=df(Tk),c=mf(),l=(0,u.useMemo)((function(){return{id:c,initial:n,isPresent:r,custom:a,onExitComplete:function(e){var t,n;s.set(e,!0);try{for(var r=xf(s.values()),a=r.next();!a.done;a=r.next()){if(!a.value)return}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null===i||void 0===i||i()},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}}),o?void 0:[r]);return(0,u.useMemo)((function(){s.forEach((function(e,t){return s.set(t,!1)}))}),[r]),u.useEffect((function(){!r&&!s.size&&(null===i||void 0===i||i())}),[r]),u.createElement(hf.Provider,{value:l},t)};function Tk(){return new Map}var Ik=function(e){return e.key||""};var Ck=function(e){var t=e.children,n=e.custom,r=e.initial,i=void 0===r||r,a=e.onExitComplete,o=e.exitBeforeEnter,s=e.presenceAffectsLayout,c=void 0===s||s,l=Sf(function(){var e=Sk(),t=Sf((0,u.useState)(0),2),n=t[0],r=t[1],i=(0,u.useCallback)((function(){e.current&&r(n+1)}),[n]);return[(0,u.useCallback)((function(){return Fm.postRender(i)}),[i]),n]}(),1),f=l[0],h=(0,u.useContext)(Zf).forceRender;h&&(f=h);var d=Sk(),p=function(e){var t=[];return u.Children.forEach(e,(function(e){(0,u.isValidElement)(e)&&t.push(e)})),t}(t),v=p,m=new Set,y=(0,u.useRef)(v),g=(0,u.useRef)(new Map).current,b=(0,u.useRef)(!0);if(Ff((function(){b.current=!1,function(e,t){e.forEach((function(e){var n=Ik(e);t.set(n,e)}))}(p,g),y.current=v})),Ud((function(){b.current=!0,g.clear(),m.clear()})),b.current)return u.createElement(u.Fragment,null,v.map((function(e){return u.createElement(Ek,{key:Ik(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:c},e)})));v=Ef([],Sf(v),!1);for(var k=y.current.map(Ik),w=p.map(Ik),_=k.length,x=0;x<_;x++){var S=k[x];-1===w.indexOf(S)&&m.add(S)}return o&&m.size&&(v=[]),m.forEach((function(e){if(-1===w.indexOf(e)){var t=g.get(e);if(t){var r=k.indexOf(e);v.splice(r,0,u.createElement(Ek,{key:Ik(t),isPresent:!1,onExitComplete:function(){g.delete(e),m.delete(e);var t=y.current.findIndex((function(t){return t.key===e}));if(y.current.splice(t,1),!m.size){if(y.current=p,!1===d.current)return;f(),a&&a()}},custom:n,presenceAffectsLayout:c},t))}}})),v=v.map((function(e){var t=e.key;return m.has(t)?e:u.createElement(Ek,{key:Ik(e),isPresent:!0,presenceAffectsLayout:c},e)})),"production"!==Tf&&o&&v.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),u.createElement(u.Fragment,null,m.size?v:v.map((function(e){return(0,u.cloneElement)(e)})))},Ak=n(164),Rk=["containerRef"],Pk=Qe(Ye({strict:!1,name:"PortalContext"}),2),Nk=Pk[0],Dk=Pk[1],Ok="chakra-portal",Lk=function(e){return(0,Be.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0},children:e.children})},Mk=function(e){var t=e.appendToParentPortal,n=e.children,r=Qe((0,u.useState)(null),2),i=r[0],a=r[1],o=(0,u.useRef)(null),s=Qe((0,u.useState)({}),2)[1];(0,u.useEffect)((function(){return s({})}),[]);var c=Dk(),l=Je();br((function(){if(i){var e=i.ownerDocument,n=t&&null!=c?c:e.body;if(n){o.current=e.createElement("div"),o.current.className=Ok,n.appendChild(o.current),s({});var r=o.current;return function(){n.contains(r)&&n.removeChild(r)}}}}),[i]);var f=(null==l?void 0:l.zIndex)?(0,Be.jsx)(Lk,{zIndex:null==l?void 0:l.zIndex,children:n}):n;return o.current?(0,Ak.createPortal)((0,Be.jsx)(Nk,{value:o.current,children:f}),o.current):(0,Be.jsx)("span",{ref:function(e){e&&a(e)}})},Fk=function(e){var t=e.children,n=e.containerRef,r=e.appendToParentPortal,i=n.current,a=null!=i?i:"undefined"!==typeof window?document.body:void 0,o=(0,u.useMemo)((function(){var e=null==i?void 0:i.ownerDocument.createElement("div");return e&&(e.className=Ok),e}),[i]),s=Qe((0,u.useState)({}),2)[1];return br((function(){return s({})}),[]),br((function(){if(o&&a)return a.appendChild(o),function(){a.removeChild(o)}}),[o,a]),a&&o?(0,Ak.createPortal)((0,Be.jsx)(Nk,{value:r?o:null,children:t}),o):null};function jk(e){var t=o({appendToParentPortal:!0},e),n=t.containerRef,r=s(t,Rk);return n?(0,Be.jsx)(Fk,o({containerRef:n},r)):(0,Be.jsx)(Mk,o({},r))}jk.className=Ok,jk.selector=".chakra-portal",jk.displayName="Portal";var Vk,Bk=Qe(Ye({name:"ToastOptionsContext",strict:!1}),2),Uk=Bk[0],zk=(Bk[1],function(e){var t=(0,u.useSyncExternalStore)(kk.subscribe,kk.getState,kk.getState),n=e.motionVariants,r=e.component,i=void 0===r?Hb:r,a=e.portalProps,s=Object.keys(t).map((function(e){var r=t[e];return(0,Be.jsx)("ul",{role:"region","aria-live":"polite",id:"chakra-toast-manager-".concat(e),style:cf(e),children:(0,Be.jsx)(Ck,{initial:!1,children:r.map((function(e){return(0,Be.jsx)(i,o({motionVariants:n},e),e.id)}))})},e)}));return(0,Be.jsx)(jk,o(o({},a),{},{children:s}))}),qk=["children","theme","toastOptions"],Wk=function(e){return function(t){var n=t.children,r=t.theme,i=void 0===r?e:r,a=t.toastOptions,u=s(t,qk);return(0,Be.jsxs)(Er,o(o({theme:i},u),{},{children:[(0,Be.jsx)(Uk,{value:null==a?void 0:a.defaultOptions,children:n}),(0,Be.jsx)(zk,o({},a))]}))}},Hk=Wk(rf),Gk=(Wk(af),n(250));function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kk.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Vk||(Vk={}));var Qk,Yk="popstate";function $k(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Xk(e,t){return{usr:e.state,key:e.key,idx:t}}function Jk(e,t,n,r){return void 0===n&&(n=null),Kk({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ew(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Zk(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function ew(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tw(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=Vk.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=Vk.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:Zk(e);return $k(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(Kk({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Yk,p),f=e,function(){o.removeEventListener(Yk,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=Vk.Push;var r=Jk(m.location,e,t);n&&n(r,e);var i=Xk(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=Vk.Replace;var r=Jk(m.location,e,t);n&&n(r,e);var i=Xk(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}function nw(e,t,n){void 0===n&&(n="/");var r=mw(("string"===typeof t?ew(t):t).pathname||"/",n);if(null==r)return null;var i=rw(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=dw(i[o],vw(r));return a}function rw(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&($k(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=gw([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&($k(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),rw(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:hw(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=nt(iw(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function iw(e){var t=e.split("/");if(0===t.length)return[];var n=at(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=iw(i.join("/")),u=[];return u.push.apply(u,it(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,it(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Qk||(Qk={}));var aw=/^:\w+$/,ow=3,sw=2,uw=1,cw=10,lw=-2,fw=function(e){return"*"===e};function hw(e,t){var n=e.split("/"),r=n.length;return n.some(fw)&&(r+=lw),t&&(r+=sw),n.filter((function(e){return!fw(e)})).reduce((function(e,t){return e+(aw.test(t)?ow:""===t?uw:cw)}),r)}function dw(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=pw({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:gw([i,l.pathname]),pathnameBase:bw(gw([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=gw([i,l.pathnameBase]))}return a}function pw(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);yw("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=Qe(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return yw(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function vw(e){try{return decodeURI(e)}catch(t){return yw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function mw(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function yw(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}var gw=function(e){return e.join("/").replace(/\/\/+/g,"/")},bw=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},kw=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n)}(ra(Error));function ww(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var _w=["post","put","patch","delete"],xw=(new Set(_w),["get"].concat(_w));new Set(xw),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sw.apply(this,arguments)}var Ew="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Tw=u.useState,Iw=u.useEffect,Cw=u.useLayoutEffect,Aw=u.useDebugValue;function Rw(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Ew(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,c.useSyncExternalStore;var Pw=u.createContext(null);var Nw=u.createContext(null);var Dw=u.createContext(null);var Ow=u.createContext(null);var Lw=u.createContext(null);var Mw=u.createContext({outlet:null,matches:[]});var Fw=u.createContext(null);function jw(){return null!=u.useContext(Lw)}function Vw(){return jw()||$k(!1),u.useContext(Lw).location}function Bw(){var e=function(){var e,t=u.useContext(Fw),n=Gw(zw.UseRouteError),r=Kw(zw.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=ww(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),n?u.createElement("pre",{style:i},n):null,null)}var Uw,zw,qw=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return $i(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?u.createElement(Mw.Provider,{value:this.props.routeContext},u.createElement(Fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(u.Component);function Ww(e){var t=e.routeContext,n=e.match,r=e.children,i=u.useContext(Pw);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),u.createElement(Mw.Provider,{value:t},r)}function Hw(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));a>=0||$k(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,o){var s=a.route.id?null==i?void 0:i[a.route.id]:null,c=n?a.route.errorElement||u.createElement(Bw,null):null,l=t.concat(r.slice(0,o+1)),f=function(){return u.createElement(Ww,{match:a,routeContext:{outlet:e,matches:l}},s?c:void 0!==a.route.element?a.route.element:e)};return n&&(a.route.errorElement||0===o)?u.createElement(qw,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Gw(e){var t=u.useContext(Nw);return t||$k(!1),t}function Kw(e){var t=function(e){var t=u.useContext(Mw);return t||$k(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||$k(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Uw||(Uw={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(zw||(zw={}));var Qw;function Yw(e){$k(!1)}function $w(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,s=void 0===o?Vk.Pop:o,c=e.navigator,l=e.static,f=void 0!==l&&l;jw()&&$k(!1);var h=n.replace(/^\/*/,"/"),d=u.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof a&&(a=ew(a));var p=a,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,_=void 0===w?null:w,x=p.key,S=void 0===x?"default":x,E=u.useMemo((function(){var e=mw(m,h);return null==e?null:{pathname:e,search:g,hash:k,state:_,key:S}}),[h,m,g,k,_,S]);return null==E?null:u.createElement(Ow.Provider,{value:d},u.createElement(Lw.Provider,{children:i,value:{location:E,navigationType:s}}))}function Xw(e){var t=e.children,n=e.location,r=u.useContext(Pw);return function(e,t){jw()||$k(!1);var n,r=u.useContext(Ow).navigator,i=u.useContext(Nw),a=u.useContext(Mw).matches,o=a[a.length-1],s=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,Vw());if(t){var f,h="string"===typeof t?ew(t):t;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||$k(!1),n=h}else n=l;var d=n.pathname||"/",p=nw(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Hw(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:gw([c,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:gw([c,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),a,i||void 0);return t&&v?u.createElement(Lw.Provider,{value:{location:Sw({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:Vk.Pop}},v):v}(r&&!t?r.router.routes:Zw(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Qw||(Qw={}));var Jw=new Promise((function(){}));u.Component;function Zw(e,t){void 0===t&&(t=[]);var n=[];return u.Children.forEach(e,(function(e,r){if(u.isValidElement(e))if(e.type!==u.Fragment){e.type!==Yw&&$k(!1),e.props.index&&e.props.children&&$k(!1);var i=[].concat(it(t),[r]),a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=Zw(e.props.children,i)),n.push(a)}else n.push.apply(n,Zw(e.props.children,t))})),n}function e_(e){var t,n=e.basename,r=e.children,i=e.window,a=u.useRef();null==a.current&&(a.current=(void 0===(t={window:i,v5Compat:!0})&&(t={}),tw((function(e,t){var n=e.location;return Jk("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Zk(t)}),null,t)));var o=a.current,s=Qe(u.useState({action:o.action,location:o.location}),2),c=s[0],l=s[1];return u.useLayoutEffect((function(){return o.listen(l)}),[o]),u.createElement($w,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var t_,n_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(t_||(t_={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(n_||(n_={}));function r_(){r_=function(){return e};var e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(A){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new T(r||[]);return i(o,"_invoke",{value:_(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};c(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(I([])));g&&g!==n&&r.call(g,o)&&(m=g);var b=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,n){function a(i,o,s,u){var c=f(e[i],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==t(h)&&r.call(h,"__await")?n.resolve(h.__await).then((function(e){a("next",e,s,u)}),(function(e){a("throw",e,s,u)})):n.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return a("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){a(e,t,n,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,i(b,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function i_(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function a_(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){i_(a,r,i,o,s,"next",e)}function s(e){i_(a,r,i,o,s,"throw",e)}o(void 0)}))}}function o_(e,t){return function(){return e.apply(t,arguments)}}var s_,u_=Object.prototype.toString,c_=Object.getPrototypeOf,l_=(s_=Object.create(null),function(e){var t=u_.call(e);return s_[t]||(s_[t]=t.slice(8,-1).toLowerCase())}),f_=function(e){return e=e.toLowerCase(),function(t){return l_(t)===e}},h_=function(e){return function(t){return typeof t===e}},d_=Array.isArray,p_=h_("undefined");var v_=f_("ArrayBuffer");var m_=h_("string"),y_=h_("function"),g_=h_("number"),b_=function(e){return null!==e&&"object"===typeof e},k_=function(e){if("object"!==l_(e))return!1;var t=c_(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},w_=f_("Date"),__=f_("File"),x_=f_("Blob"),S_=f_("FileList"),E_=f_("URLSearchParams");function T_(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),d_(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function I_(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var C_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,A_=function(e){return!p_(e)&&e!==C_};var R_,P_=(R_="undefined"!==typeof Uint8Array&&c_(Uint8Array),function(e){return R_&&e instanceof R_}),N_=f_("HTMLFormElement"),D_=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),O_=f_("RegExp"),L_=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};T_(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},M_="abcdefghijklmnopqrstuvwxyz",F_="0123456789",j_={DIGIT:F_,ALPHA:M_,ALPHA_DIGIT:M_+M_.toUpperCase()+F_};var V_={isArray:d_,isArrayBuffer:v_,isBuffer:function(e){return null!==e&&!p_(e)&&null!==e.constructor&&!p_(e.constructor)&&y_(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||u_.call(e)===t||y_(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&v_(e.buffer)},isString:m_,isNumber:g_,isBoolean:function(e){return!0===e||!1===e},isObject:b_,isPlainObject:k_,isUndefined:p_,isDate:w_,isFile:__,isBlob:x_,isRegExp:O_,isFunction:y_,isStream:function(e){return b_(e)&&y_(e.pipe)},isURLSearchParams:E_,isTypedArray:P_,isFileList:S_,forEach:T_,merge:function e(){for(var t=(A_(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&I_(n,i)||i;k_(n[a])&&k_(r)?n[a]=e(n[a],r):k_(r)?n[a]=e({},r):d_(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&T_(arguments[i],r);return n},extend:function(e,t,n){return T_(t,(function(t,r){n&&y_(t)?e[r]=o_(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&c_(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:l_,kindOfTest:f_,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(d_(e))return e;var t=e.length;if(!g_(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:N_,hasOwnProperty:D_,hasOwnProp:D_,reduceDescriptors:L_,freezeMethods:function(e){L_(e,(function(t,n){if(y_(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];y_(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return d_(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:I_,global:C_,isContextDefined:A_,ALPHABET:j_,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j_.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&y_(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(b_(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=d_(n)?[]:{};return T_(n,(function(t,n){var a=e(t,r+1);!p_(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function B_(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}V_.inherits(B_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var U_=B_.prototype,z_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){z_[e]={value:e}})),Object.defineProperties(B_,z_),Object.defineProperty(U_,"isAxiosError",{value:!0}),B_.from=function(e,t,n,r,i,a){var o=Object.create(U_);return V_.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),B_.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var q_=B_,W_=null;function H_(e){return V_.isPlainObject(e)||V_.isArray(e)}function G_(e){return V_.endsWith(e,"[]")?e.slice(0,-2):e}function K_(e,t,n){return e?e.concat(t).map((function(e,t){return e=G_(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Q_=V_.toFlatObject(V_,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Y_=function(e,t,n){if(!V_.isObject(e))throw new TypeError("target must be an object");t=t||new(W_||FormData);var r=(n=V_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!V_.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&V_.isSpecCompliantForm(t);if(!V_.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(V_.isDate(e))return e.toISOString();if(!s&&V_.isBlob(e))throw new q_("Blob is not supported. Use a Buffer instead.");return V_.isArrayBuffer(e)||V_.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(V_.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(V_.isArray(e)&&function(e){return V_.isArray(e)&&!e.some(H_)}(e)||(V_.isFileList(e)||V_.endsWith(n,"[]"))&&(s=V_.toArray(e)))return n=G_(n),s.forEach((function(e,r){!V_.isUndefined(e)&&null!==e&&t.append(!0===o?K_([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!H_(e)||(t.append(K_(i,n,a),u(e)),!1)}var l=[],f=Object.assign(Q_,{defaultVisitor:c,convertValue:u,isVisitable:H_});if(!V_.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!V_.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),V_.forEach(n,(function(n,a){!0===(!(V_.isUndefined(n)||null===n)&&i.call(t,n,V_.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function $_(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function X_(e,t){this._pairs=[],e&&Y_(e,this,t)}var J_=X_.prototype;J_.append=function(e,t){this._pairs.push([e,t])},J_.toString=function(e){var t=e?function(t){return e.call(this,t,$_)}:$_;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Z_=X_;function ex(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tx(e,t,n){if(!t)return e;var r,i=n&&n.encode||ex,a=n&&n.serialize;if(r=a?a(t,n):V_.isURLSearchParams(t)?t.toString():new Z_(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var nx=function(){function e(){Xi(this,e),this.handlers=[]}return $i(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){V_.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),rx=nx,ix={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ax="undefined"!==typeof URLSearchParams?URLSearchParams:Z_,ox=FormData,sx=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),ux="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,cx={isBrowser:!0,classes:{URLSearchParams:ax,FormData:ox,Blob:Blob},isStandardBrowserEnv:sx,isStandardBrowserWebWorkerEnv:ux,protocols:["http","https","file","blob","url","data"]};var lx=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&V_.isArray(r)?r.length:a,s?(V_.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&V_.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&V_.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(V_.isFormData(e)&&V_.isFunction(e.entries)){var n={};return V_.forEachEntry(e,(function(e,r){t(function(e){return V_.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},fx={"Content-Type":void 0};var hx={transitional:ix,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=V_.isObject(e);if(a&&V_.isHTMLForm(e)&&(e=new FormData(e)),V_.isFormData(e))return i&&i?JSON.stringify(lx(e)):e;if(V_.isArrayBuffer(e)||V_.isBuffer(e)||V_.isStream(e)||V_.isFile(e)||V_.isBlob(e))return e;if(V_.isArrayBufferView(e))return e.buffer;if(V_.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Y_(e,new cx.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return cx.isNode&&V_.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=V_.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Y_(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(V_.isString(e))try{return(t||JSON.parse)(e),V_.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||hx.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&V_.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw q_.from(a,q_.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cx.classes.FormData,Blob:cx.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};V_.forEach(["delete","get","head"],(function(e){hx.headers[e]={}})),V_.forEach(["post","put","patch"],(function(e){hx.headers[e]=V_.merge(fx)}));var dx=hx,px=V_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vx=Symbol("internals");function mx(e){return e&&String(e).trim().toLowerCase()}function yx(e){return!1===e||null==e?e:V_.isArray(e)?e.map(yx):String(e)}function gx(e,t,n,r){return V_.isFunction(r)?r.call(this,t,n):V_.isString(t)?V_.isString(r)?-1!==t.indexOf(r):V_.isRegExp(r)?r.test(t):void 0:void 0}var bx=function(e,t){function n(e){Xi(this,n),e&&this.set(e)}return $i(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=mx(t);if(!i)throw new Error("header name must be a non-empty string");var a=V_.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=yx(e))}var a=function(e,t){return V_.forEach(e,(function(e,n){return i(e,n,t)}))};return V_.isPlainObject(e)||e instanceof this.constructor?a(e,t):V_.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&px[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=mx(e)){var n=V_.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(V_.isFunction(t))return t.call(this,r,n);if(V_.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=mx(e)){var n=V_.findKey(this,e);return!(!n||void 0===this[n]||t&&!gx(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=mx(e)){var i=V_.findKey(n,e);!i||t&&!gx(0,n[i],i,t)||(delete n[i],r=!0)}}return V_.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!gx(0,this[i],i,e)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return V_.forEach(this,(function(r,i){var a=V_.findKey(n,i);if(a)return t[a]=yx(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=yx(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return V_.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&V_.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=Qe(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[vx]=this[vx]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=mx(e);t[r]||(!function(e,t){var n=V_.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return V_.isArray(e)?e.forEach(r):r(e),this}}]),n}();bx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V_.freezeMethods(bx.prototype),V_.freezeMethods(bx);var kx=bx;function wx(e,t){var n=this||dx,r=t||n,i=kx.from(r.headers),a=r.data;return V_.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function _x(e){return!(!e||!e.__CANCEL__)}function xx(e,t,n){q_.call(this,null==e?"canceled":e,q_.ERR_CANCELED,t,n),this.name="CanceledError"}V_.inherits(xx,q_,{__CANCEL__:!0});var Sx=xx;var Ex=cx.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),V_.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),V_.isString(r)&&o.push("path="+r),V_.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Tx(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ix=cx.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=V_.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Cx=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function Ax(e,t){var n=0,r=Cx(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Rx="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=kx.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}V_.isFormData(i)&&(cx.isStandardBrowserEnv||cx.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=Tx(e.baseURL,e.url);function h(){if(u){var r=kx.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new q_("Request failed with status code "+n.status,[q_.ERR_BAD_REQUEST,q_.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),tx(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new q_("Request aborted",q_.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new q_("Network Error",q_.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||ix;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new q_(t,r.clarifyTimeoutError?q_.ETIMEDOUT:q_.ECONNABORTED,e,u)),u=null},cx.isStandardBrowserEnv){var d=(e.withCredentials||Ix(f))&&e.xsrfCookieName&&Ex.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&V_.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),V_.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Ax(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Ax(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new Sx(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===cx.protocols.indexOf(p)?n(new q_("Unsupported protocol "+p+":",q_.ERR_BAD_REQUEST,e)):u.send(i||null)}))},Px={http:W_,xhr:Rx};V_.forEach(Px,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Nx={getAdapter:function(e){for(var t,n,r=(e=V_.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=V_.isString(t)?Px[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new q_("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(V_.hasOwnProp(Px,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!V_.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Px};function Dx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sx(null,e)}function Ox(e){return Dx(e),e.headers=kx.from(e.headers),e.data=wx.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nx.getAdapter(e.adapter||dx.adapter)(e).then((function(t){return Dx(e),t.data=wx.call(e,e.transformResponse,t),t.headers=kx.from(t.headers),t}),(function(t){return _x(t)||(Dx(e),t&&t.response&&(t.response.data=wx.call(e,e.transformResponse,t.response),t.response.headers=kx.from(t.response.headers))),Promise.reject(t)}))}var Lx=function(e){return e instanceof kx?e.toJSON():e};function Mx(e,t){t=t||{};var n={};function r(e,t,n){return V_.isPlainObject(e)&&V_.isPlainObject(t)?V_.merge.call({caseless:n},e,t):V_.isPlainObject(t)?V_.merge({},t):V_.isArray(t)?t.slice():t}function i(e,t,n){return V_.isUndefined(t)?V_.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!V_.isUndefined(t))return r(void 0,t)}function o(e,t){return V_.isUndefined(t)?V_.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(Lx(e),Lx(t),!0)}};return V_.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);V_.isUndefined(o)&&a!==s||(n[r]=o)})),n}var Fx="1.3.2",jx={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){jx[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Vx={};jx.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Fx+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new q_(r(i," has been removed"+(t?" in "+t:"")),q_.ERR_DEPRECATED);return t&&!Vx[i]&&(Vx[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Bx={assertOptions:function(e,t,n){if("object"!==typeof e)throw new q_("options must be an object",q_.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new q_("option "+a+" must be "+u,q_.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new q_("Unknown option "+a,q_.ERR_BAD_OPTION)}},validators:jx},Ux=Bx.validators,zx=function(){function e(t){Xi(this,e),this.defaults=t,this.interceptors={request:new rx,response:new rx}}return $i(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Mx(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&Bx.assertOptions(i,{silentJSONParsing:Ux.transitional(Ux.boolean),forcedJSONParsing:Ux.transitional(Ux.boolean),clarifyTimeoutError:Ux.transitional(Ux.boolean)},!1),void 0!==a&&Bx.assertOptions(a,{encode:Ux.function,serialize:Ux.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&V_.merge(o.common,o[t.method]))&&V_.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=kx.concat(n,o);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[Ox.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=Ox.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return tx(Tx((e=Mx(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();V_.forEach(["delete","get","head","options"],(function(e){zx.prototype[e]=function(t,n){return this.request(Mx(n||{},{method:e,url:t,data:(n||{}).data}))}})),V_.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Mx(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}zx.prototype[e]=t(),zx.prototype[e+"Form"]=t(!0)}));var qx=zx,Wx=function(){function e(t){if(Xi(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Sx(e,t,i),n(r.reason))}))}return $i(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Hx=Wx;var Gx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gx).forEach((function(e){var t=Qe(e,2),n=t[0],r=t[1];Gx[r]=n}));var Kx=Gx;var Qx=function e(t){var n=new qx(t),r=o_(qx.prototype.request,n);return V_.extend(r,qx.prototype,n,{allOwnKeys:!0}),V_.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Mx(t,n))},r}(dx);Qx.Axios=qx,Qx.CanceledError=Sx,Qx.CancelToken=Hx,Qx.isCancel=_x,Qx.VERSION=Fx,Qx.toFormData=Y_,Qx.AxiosError=q_,Qx.Cancel=Qx.CanceledError,Qx.all=function(e){return Promise.all(e)},Qx.spread=function(e){return function(t){return e.apply(null,t)}},Qx.isAxiosError=function(e){return V_.isObject(e)&&!0===e.isAxiosError},Qx.mergeConfig=Mx,Qx.AxiosHeaders=kx,Qx.formToJSON=function(e){return lx(V_.isHTMLForm(e)?new FormData(e):e)},Qx.HttpStatusCode=Kx,Qx.default=Qx;var Yx=Qx;var $x=function(e){var t=e.title,n=e.fetchUrl,r=e.isLargeRow,i=Qe((0,u.useState)([]),2),a=i[0],o=i[1];return(0,u.useEffect)((function(){var e=function(){var e=a_(r_().mark((function e(){var t,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yx.get(n);case 2:t=e.sent,r=t.data,o(r.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,Be.jsxs)("div",{className:"row",children:[(0,Be.jsx)("h2",{children:t}),(0,Be.jsx)("div",{children:a.map((function(e){return(0,Be.jsx)("img",{className:"poster ".concat(r&&"poster_large"),src:"".concat("https://image.tmdb.org/t/p/original/").concat(r?e.poster_path:e.backdrop_path),alt:e.name},e.id)}))})]})},Xx="66c62d6fde00f828481ce0eadcb24f4d",Jx={fetchNetflixOriginals:"https://api.themoviedb.org/3/discover/tv?api_key=".concat(Xx,"&with_networks=213"),fetchTrending:"https://api.themoviedb.org/3/trending/all/week?api_key=".concat(Xx,"&language=en-US"),fetchTopRated:"https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(Xx,"&language=en-US"),fetchActionMovies:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(Xx,"&with_genres=28"),fetchComedyMovies:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(Xx,"&with_genres=35"),fetchHorrorMovies:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(Xx,"&with_genres=27"),fetchRomanceMovies:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(Xx,"&with_genres=10749"),fetchDocumantaries:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(Xx,"&with_genres=99")};var Zx=function(e){var t,n,r=e.fetchUrl,i=Qe((0,u.useState)([]),2),a=i[0],o=i[1];return(0,u.useEffect)((function(){var e=function(){var e=a_(r_().mark((function e(){var t,n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yx.get(r);case 2:t=e.sent,n=t.data,o(n.results[Math.floor(Math.random()*n.results.length-1)]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,Be.jsxs)("header",{className:"banner",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(null===a||void 0===a?void 0:a.backdrop_path,")")},children:[(0,Be.jsxs)("div",{className:"banner_content",children:[(0,Be.jsx)("h1",{className:"title",children:(null===a||void 0===a?void 0:a.title)||(null===a||void 0===a?void 0:a.original_name)||(null===a||void 0===a?void 0:a.name)}),(0,Be.jsxs)("div",{className:"banner_buttons",children:[(0,Be.jsx)("button",{className:"btn",children:"\u25b6 Play"}),(0,Be.jsx)("button",{className:"btn black",children:"My List +"})]}),(0,Be.jsx)("h1",{className:"banner_describtion",children:(t=null===a||void 0===a?void 0:a.overview,n=150,(null===t||void 0===t?void 0:t.length)>n?t.substr(0,n-1)+"...":t)})]}),(0,Be.jsx)("div",{className:"banner_fade--buttom"})]})},eS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},tS=function(e,t){if(!e)throw nS(t)},nS=function(e){return new Error("Firebase Database ("+eS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},rS=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},iS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},aS=function(e){var t=rS(e);return iS.encodeByteArray(t,!0)},oS=function(e){return aS(e).replace(/\./g,"")},sS=function(e){try{return iS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function uS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&cS(n)&&(e[n]=uS(e[n],t[n]));return e}function cS(e){return"__proto__"!==e}var lS=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},fS=function(){try{return lS()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/netflix_clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&sS(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},hS=function(){var e;return null===(e=fS())||void 0===e?void 0:e.config},dS=function(){function e(){var t=this;Xi(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return $i(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[oS(JSON.stringify({alg:"none",type:"JWT"})),oS(JSON.stringify(a)),""].join(".")}function vS(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mS(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vS())}function yS(){var e,t=null===(e=fS())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function gS(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function bS(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function kS(){var e=vS();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wS(){return!0===eS.NODE_CLIENT||!0===eS.NODE_ADMIN}function _S(){try{return"object"===typeof indexedDB}catch(e){return!1}}var xS="FirebaseError",SS=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=xS,Object.setPrototypeOf(ea(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ea(a),ES.prototype.create),a}return $i(n)}(ra(Error)),ES=function(){function e(t,n,r){Xi(this,e),this.service=t,this.serviceName=n,this.errors=r}return $i(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(TS,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new SS(n,a,t)}}]),e}();var TS=/\{\$([^}]+)}/g;function IS(e){return JSON.parse(e)}function CS(e){return JSON.stringify(e)}var AS=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=IS(sS(a[0])||""),n=IS(sS(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function RS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function PS(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function NS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function DS(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function OS(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(LS(s)&&LS(u)){if(!OS(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function LS(e){return null!==e&&"object"===typeof e}function MS(e){for(var t=[],n=function(){var e=Qe(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function FS(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Qe(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function jS(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var VS=function(){function e(){Xi(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return $i(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function BS(e,t){var n=new US(e,t);return n.subscribe.bind(n)}var US=function(){function e(t,n){var r=this;Xi(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return $i(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=nt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=zS),void 0===r.error&&(r.error=zS),void 0===r.complete&&(r.complete=zS);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function zS(){}var qS=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function WS(e,t){return"".concat(e," failed: ").concat(t," argument ")}function HS(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(WS(e,t)+"must be a valid function.")}function GS(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(WS(e,t)+"must be a valid context object.")}var KS=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function QS(e){return e&&e._delegate?e._delegate:e}var YS=function(){function e(t,n,r){Xi(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $i(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),$S="[DEFAULT]",XS=function(){function e(t,n){Xi(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $i(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new dS;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$S})}catch(u){}var t,n=nt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Qe(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$S;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(it(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),it(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$S;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$S;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=nt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Qe(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=nt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ho){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JS(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(ho){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$S;return this.component?this.component.multipleInstances?e:$S:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function JS(e){return e===$S?void 0:e}var ZS,eE,tE=function(){function e(t){Xi(this,e),this.name=t,this.providers=new Map}return $i(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new XS(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),nE=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(eE||(eE={}));var rE={debug:eE.DEBUG,verbose:eE.VERBOSE,info:eE.INFO,warn:eE.WARN,error:eE.ERROR,silent:eE.SILENT},iE=eE.INFO,aE=(i(ZS={},eE.DEBUG,"log"),i(ZS,eE.VERBOSE,"log"),i(ZS,eE.INFO,"info"),i(ZS,eE.WARN,"warn"),i(ZS,eE.ERROR,"error"),ZS),oE=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=aE[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},sE=function(){function e(t){Xi(this,e),this.name=t,this._logLevel=iE,this._logHandler=oE,this._userLogHandler=null,nE.push(this)}return $i(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in eE))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?rE[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,eE.DEBUG].concat(t)),this._logHandler.apply(this,[this,eE.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,eE.VERBOSE].concat(t)),this._logHandler.apply(this,[this,eE.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,eE.INFO].concat(t)),this._logHandler.apply(this,[this,eE.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,eE.WARN].concat(t)),this._logHandler.apply(this,[this,eE.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,eE.ERROR].concat(t)),this._logHandler.apply(this,[this,eE.ERROR].concat(t))}}]),e}();var uE,cE,lE=function(e,t){return t.some((function(t){return e instanceof t}))};var fE=new WeakMap,hE=new WeakMap,dE=new WeakMap,pE=new WeakMap,vE=new WeakMap;var mE={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return hE.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dE.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bE(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function yE(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kE(this),n),bE(fE.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bE(e.apply(kE(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[kE(this),t].concat(r));return dE.set(a,t.sort?t.sort():[t]),bE(a)}}function gE(e){return"function"===typeof e?yE(e):(e instanceof IDBTransaction&&function(e){if(!hE.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));hE.set(e,t)}}(e),lE(e,uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,mE):e)}function bE(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(bE(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&fE.set(t,e)})).catch((function(){})),vE.set(t,e),t}(e);if(pE.has(e))return pE.get(e);var t=gE(e);return t!==e&&(pE.set(e,t),vE.set(t,e)),t}var kE=function(e){return vE.get(e)};var wE,_E,xE=["get","getKey","getAll","getAllKeys","count"],SE=["put","add","delete","clear"],EE=new Map;function TE(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(EE.get(t))return EE.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=SE.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||xE.includes(n))){var a=function(){var e=a_(r_().mark((function e(t){var a,o,s,u,c,l,f=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return EE.set(t,a),a}}}mE=function(e){return o(o({},e),{},{get:function(t,n,r){return TE(t,n)||e.get(t,n,r)},has:function(t,n){return!!TE(t,n)||e.has(t,n)}})}(mE);var IE=function(){function e(t){Xi(this,e),this.container=t}return $i(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var CE="@firebase/app",AE="0.9.3",RE=new sE("@firebase/app"),PE="[DEFAULT]",NE=(i(wE={},CE,"fire-core"),i(wE,"@firebase/app-compat","fire-core-compat"),i(wE,"@firebase/analytics","fire-analytics"),i(wE,"@firebase/analytics-compat","fire-analytics-compat"),i(wE,"@firebase/app-check","fire-app-check"),i(wE,"@firebase/app-check-compat","fire-app-check-compat"),i(wE,"@firebase/auth","fire-auth"),i(wE,"@firebase/auth-compat","fire-auth-compat"),i(wE,"@firebase/database","fire-rtdb"),i(wE,"@firebase/database-compat","fire-rtdb-compat"),i(wE,"@firebase/functions","fire-fn"),i(wE,"@firebase/functions-compat","fire-fn-compat"),i(wE,"@firebase/installations","fire-iid"),i(wE,"@firebase/installations-compat","fire-iid-compat"),i(wE,"@firebase/messaging","fire-fcm"),i(wE,"@firebase/messaging-compat","fire-fcm-compat"),i(wE,"@firebase/performance","fire-perf"),i(wE,"@firebase/performance-compat","fire-perf-compat"),i(wE,"@firebase/remote-config","fire-rc"),i(wE,"@firebase/remote-config-compat","fire-rc-compat"),i(wE,"@firebase/storage","fire-gcs"),i(wE,"@firebase/storage-compat","fire-gcs-compat"),i(wE,"@firebase/firestore","fire-fst"),i(wE,"@firebase/firestore-compat","fire-fst-compat"),i(wE,"fire-js","fire-js"),i(wE,"firebase","fire-js-all"),wE),DE=new Map,OE=new Map;function LE(e,t){try{e.container.addComponent(t)}catch(n){RE.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ME(e,t){e.container.addOrOverwriteComponent(t)}function FE(e){var t=e.name;if(OE.has(t))return RE.debug("There were multiple attempts to register component ".concat(t,".")),!1;OE.set(t,e);var n,r=nt(DE.values());try{for(r.s();!(n=r.n()).done;){LE(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jE(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function VE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PE;jE(e,t).clearInstance(n)}function BE(){OE.clear()}var UE=(i(_E={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(_E,"bad-app-name","Illegal App name: '{$appName}"),i(_E,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),i(_E,"app-deleted","Firebase App named '{$appName}' already deleted"),i(_E,"no-options","Need to provide options, when not being deployed to hosting via source."),i(_E,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),i(_E,"invalid-log-argument","First argument to `onLog` must be null or a function."),i(_E,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),i(_E,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),i(_E,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),i(_E,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),_E),zE=new ES("app","Firebase",UE),qE=function(){function e(t,n,r){var i=this;Xi(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new YS("app",(function(){return i}),"PUBLIC"))}return $i(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw zE.create("app-deleted",{appName:this._name})}}]),e}(),WE="9.17.1";function HE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:PE,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zE.create("bad-app-name",{appName:String(i)});if(n||(n=hS()),!n)throw zE.create("no-options");var a=DE.get(i);if(a){if(OS(n,a.options)&&OS(r,a.config))return a;throw zE.create("duplicate-app",{appName:i})}var o,s=new tE(i),u=nt(OE.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new qE(n,r,s);return DE.set(i,l),l}function GE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PE,t=DE.get(e);if(!t&&e===PE)return HE();if(!t)throw zE.create("no-app",{appName:e});return t}function KE(){return Array.from(DE.values())}function QE(e){return YE.apply(this,arguments)}function YE(){return(YE=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!DE.has(n)){e.next=6;break}return DE.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $E(e,t,n){var r,i=null!==(r=NE[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void RE.warn(s.join(" "))}FE(new YS("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function XE(e,t){if(null!==e&&"function"!==typeof e)throw zE.create("invalid-log-argument");!function(e,t){var n,r=nt(nE);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=rE[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:eE[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function JE(e){var t;t=e,nE.forEach((function(e){e.setLogLevel(t)}))}var ZE="firebase-heartbeat-database",eT=1,tT="firebase-heartbeat-store",nT=null;function rT(){return nT||(nT=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=bE(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(bE(s.result),e.oldVersion,e.newVersion,bE(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(ZE,eT,{upgrade:function(e,t){if(0===t)e.createObjectStore(tT)}}).catch((function(e){throw zE.create("idb-open",{originalErrorMessage:e.message})}))),nT}function iT(e){return aT.apply(this,arguments)}function aT(){return aT=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rT();case 3:return n=e.sent,e.abrupt("return",n.transaction(tT).objectStore(tT).get(uT(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof SS?RE.warn(e.t0.message):(r=zE.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),RE.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),aT.apply(this,arguments)}function oT(e,t){return sT.apply(this,arguments)}function sT(){return sT=a_(r_().mark((function e(t,n){var r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rT();case 3:return r=e.sent,i=r.transaction(tT,"readwrite"),a=i.objectStore(tT),e.next=8,a.put(n,uT(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof SS?RE.warn(e.t0.message):(o=zE.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),RE.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),sT.apply(this,arguments)}function uT(e){return"".concat(e.name,"!").concat(e.options.appId)}var cT=1024,lT=function(){function e(t){var n=this;Xi(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vT(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return $i(e,[{key:"triggerHeartbeat",value:function(){var e=a_(r_().mark((function e(){var t,n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fT(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=a_(r_().mark((function e(){var t,n,r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fT(),n=hT(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=oS(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fT(){return(new Date).toISOString().substring(0,10)}function hT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cT,r=[],i=e.slice(),a=nt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mT(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mT(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var dT,pT,vT=function(){function e(t){Xi(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return $i(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_S()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,iT(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oT(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oT(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(it(r.heartbeats),it(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mT(e){return oS(JSON.stringify({version:2,heartbeats:e})).length}dT="",FE(new YS("platform-logger",(function(e){return new IE(e)}),"PRIVATE")),FE(new YS("heartbeat",(function(e){return new lT(e)}),"PRIVATE")),$E(CE,AE,dT),$E(CE,AE,"esm2017"),$E("fire-js","");var yT=function(){function e(t,n){var r=this;Xi(this,e),this._delegate=t,this.firebase=n,LE(t,new YS("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return $i(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),QE(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PE;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PE;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){LE(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ME(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),gT=(i(pT={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(pT,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),pT),bT=new ES("app-compat","Firebase",gT);var kT=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=HE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(RS(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:$E,setLogLevel:JE,onLog:XE,apps:null,SDK_VERSION:WE,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(FE(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw bT.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&uS(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!RS(n,e=e||PE))throw bT.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(yT);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){uS(n,e)},createSubscribe:BS,ErrorFactory:ES,deepExtend:uS}),n}(),wT=new sE("@firebase/app-compat"),_T="@firebase/app-compat",xT="0.2.3";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wT.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ST=self.firebase.SDK_VERSION;ST&&ST.indexOf("LITE")>=0&&wT.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ET=kT;!function(e){$E(_T,xT,e)}();var TT;function IT(){return IT="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ji(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},IT.apply(this,arguments)}ET.registerVersion("firebase","9.17.1","app-compat");var CT={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},AT={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function RT(){return i({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var PT=function(){var e;return i(e={},"admin-restricted-operation","This operation is restricted to administrators only."),i(e,"argument-error",""),i(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),i(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),i(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),i(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),i(e,"cordova-not-ready","Cordova framework is not ready."),i(e,"cors-unsupported","This browser is not supported."),i(e,"credential-already-in-use","This credential is already associated with a different user account."),i(e,"custom-token-mismatch","The custom token corresponds to a different audience."),i(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),i(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),i(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),i(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),i(e,"email-already-in-use","The email address is already in use by another account."),i(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),i(e,"expired-action-code","The action code has expired."),i(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),i(e,"internal-error","An internal AuthError has occurred."),i(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),i(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),i(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),i(e,"invalid-auth-event","An internal AuthError has occurred."),i(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),i(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),i(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),i(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),i(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),i(e,"invalid-email","The email address is badly formatted."),i(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),i(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),i(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),i(e,"invalid-credential","The supplied auth credential is malformed or has expired."),i(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),i(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),i(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),i(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),i(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),i(e,"wrong-password","The password is invalid or the user does not have a password."),i(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),i(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),i(e,"invalid-provider-id","The specified provider ID is invalid."),i(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),i(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),i(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),i(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),i(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),i(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),i(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),i(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),i(e,"missing-continue-uri","A continue URL must be provided in the request."),i(e,"missing-iframe-start","An internal AuthError has occurred."),i(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),i(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),i(e,"missing-multi-factor-info","No second factor identifier is provided."),i(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),i(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),i(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),i(e,"app-deleted","This instance of FirebaseApp has been deleted."),i(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),i(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),i(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),i(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),i(e,"no-auth-event","An internal AuthError has occurred."),i(e,"no-such-provider","User was not linked to an account with the given provider."),i(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),i(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),i(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),i(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),i(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),i(e,"provider-already-linked","User can only be linked to one identity for the given provider."),i(e,"quota-exceeded","The project's quota for this operation has been exceeded."),i(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),i(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),i(e,"rejected-credential","The request contains malformed or mismatching credentials."),i(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),i(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),i(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),i(e,"timeout","The operation has timed out."),i(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),i(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),i(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),i(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),i(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),i(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),i(e,"unverified-email","The operation requires a verified email."),i(e,"user-cancelled","The user did not grant your application the permissions it requested."),i(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),i(e,"user-disabled","The user account has been disabled by an administrator."),i(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),i(e,"user-signed-out",""),i(e,"weak-password","The password must be 6 characters long or more."),i(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),i(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},NT=RT,DT=new ES("auth","Firebase",RT()),OT=new sE("@firebase/auth");function LT(e){if(OT.logLevel<=eE.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];OT.error.apply(OT,["Auth (".concat(WE,"): ").concat(e)].concat(n))}}function MT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw BT.apply(void 0,[e].concat(n))}function FT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return BT.apply(void 0,[e].concat(n))}function jT(e,t,n){var r=Object.assign(Object.assign({},NT()),i({},t,n));return new ES("auth","Firebase",r).create(t,{appName:e.name})}function VT(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&MT(e,"argument-error"),jT(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function BT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=it(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(it(o)))}return DT.create.apply(DT,[e].concat(n))}function UT(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw BT.apply(void 0,[t].concat(r))}}function zT(e){var t="INTERNAL ASSERTION FAILED: "+e;throw LT(t),new Error(t)}function qT(e,t){e||zT(t)}var WT=new Map;function HT(e){qT(e instanceof Function,"Expected a class definition");var t=WT.get(e);return t?(qT(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,WT.set(e,t),t)}function GT(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function KT(){return"http:"===QT()||"https:"===QT()}function QT(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var YT=function(){function e(t,n){Xi(this,e),this.shortDelay=t,this.longDelay=n,qT(n>t,"Short delay should be less than long delay!"),this.isMobile=mS()||bS()}return $i(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(KT()||gS()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function $T(e,t){qT(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var XT=function(){function e(){Xi(this,e)}return $i(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void zT("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void zT("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void zT("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),JT=(i(TT={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),i(TT,"MISSING_CUSTOM_TOKEN","internal-error"),i(TT,"INVALID_IDENTIFIER","invalid-email"),i(TT,"MISSING_CONTINUE_URI","internal-error"),i(TT,"INVALID_PASSWORD","wrong-password"),i(TT,"MISSING_PASSWORD","internal-error"),i(TT,"EMAIL_EXISTS","email-already-in-use"),i(TT,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),i(TT,"INVALID_IDP_RESPONSE","invalid-credential"),i(TT,"INVALID_PENDING_TOKEN","invalid-credential"),i(TT,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),i(TT,"MISSING_REQ_TYPE","internal-error"),i(TT,"EMAIL_NOT_FOUND","user-not-found"),i(TT,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),i(TT,"EXPIRED_OOB_CODE","expired-action-code"),i(TT,"INVALID_OOB_CODE","invalid-action-code"),i(TT,"MISSING_OOB_CODE","internal-error"),i(TT,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),i(TT,"INVALID_ID_TOKEN","invalid-user-token"),i(TT,"TOKEN_EXPIRED","user-token-expired"),i(TT,"USER_NOT_FOUND","user-token-expired"),i(TT,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),i(TT,"INVALID_CODE","invalid-verification-code"),i(TT,"INVALID_SESSION_INFO","invalid-verification-id"),i(TT,"INVALID_TEMPORARY_PROOF","invalid-credential"),i(TT,"MISSING_SESSION_INFO","missing-verification-id"),i(TT,"SESSION_EXPIRED","code-expired"),i(TT,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),i(TT,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),i(TT,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),i(TT,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),i(TT,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),i(TT,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),i(TT,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),i(TT,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),i(TT,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),i(TT,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),i(TT,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),TT),ZT=new YT(3e4,6e4);function eI(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function tI(e,t,n,r){return nI.apply(this,arguments)}function nI(){return nI=a_(r_().mark((function e(t,n,r,i){var a,o=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",rI(t,a,a_(r_().mark((function e(){var a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=MS(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",XT.fetch()(sI(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),nI.apply(this,arguments)}function rI(e,t,n){return iI.apply(this,arguments)}function iI(){return iI=a_(r_().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},JT),n),e.prev=2,a=new uI(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw cI(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=Qe(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw cI(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw cI(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw cI(t,"user-disabled",s);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw jT(t,d,h);case 34:MT(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof SS)){e.next=41;break}throw e.t0;case 41:MT(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),iI.apply(this,arguments)}function aI(e,t,n,r){return oI.apply(this,arguments)}function oI(){return oI=a_(r_().mark((function e(t,n,r,i){var a,o,s=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,tI(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&MT(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function sI(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$T(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var uI=function(){function e(t){var n=this;Xi(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(FT(n.auth,"network-request-failed"))}),ZT.get())}))}return $i(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function cI(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=FT(e,t,r);return i.customData._tokenResponse=n,i}function lI(e,t){return fI.apply(this,arguments)}function fI(){return fI=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return dI=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function yI(){return yI=a_(r_().mark((function e(t){var n,r,i,a,o,s,u=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=QS(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,UT((a=bI(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:mI(gI(a.auth_time)),issuedAtTime:mI(gI(a.iat)),expirationTime:mI(gI(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e){return 1e3*Number(e)}function bI(e){var t=Qe(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return LT("JWT malformed, contained fewer than 3 sections"),null;try{var a=sS(r);return a?JSON.parse(a):(LT("Failed to decode base64 JWT payload"),null)}catch(o){return LT("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function kI(e,t){return wI.apply(this,arguments)}function wI(){return wI=a_(r_().mark((function e(t,n){var r=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof SS&&_I(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),wI.apply(this,arguments)}function _I(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var xI=function(){function e(t){Xi(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return $i(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(a_(r_().mark((function t(){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),SI=function(){function e(t,n){Xi(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return $i(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=mI(this.lastLoginAt),this.creationTime=mI(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function EI(e){return TI.apply(this,arguments)}function TI(){return TI=a_(r_().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,kI(t,pI(r,{idToken:i}));case 6:UT(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=_f(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=CI(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new SI(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function II(){return(II=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=QS(t),e.next=3,EI(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CI(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(it(n),it(t))}function AI(e,t){return RI.apply(this,arguments)}function RI(){return RI=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rI(t,{},a_(r_().mark((function e(){var r,i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=MS({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=sI(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",XT.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}var PI=function(){function e(){Xi(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return $i(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){UT(e.idToken,"internal-error"),UT("undefined"!==typeof e.idToken,"internal-error"),UT("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=bI(e);return UT(t,"internal-error"),UT("undefined"!==typeof t.exp,"internal-error"),UT("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=a_(r_().mark((function e(t){var n,r=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],UT(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=a_(r_().mark((function e(t,n){var r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AI(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return zT("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(UT("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(UT("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(UT("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function NI(e,t){UT("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var DI=function(){function e(t){Xi(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=_f(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?it(a.providerData):[],this.metadata=new SI(a.createdAt||void 0,a.lastLoginAt||void 0)}return $i(e,[{key:"getIdToken",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kI(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(UT(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return yI.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return II.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(UT(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){UT(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=a_(r_().mark((function e(t){var n,r,i=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,EI(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,kI(this,lI(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;UT(b&&x,t,"internal-error");var S=PI.fromJSON(this.name,x);UT("string"===typeof b,t,"internal-error"),NI(f,t.name),NI(h,t.name),UT("boolean"===typeof k,t,"internal-error"),UT("boolean"===typeof w,t,"internal-error"),NI(d,t.name),NI(p,t.name),NI(v,t.name),NI(m,t.name),NI(y,t.name),NI(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=a_(r_().mark((function t(n,r){var i,a,o,s=arguments;return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new PI).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,EI(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),OI=function(){function e(){Xi(this,e),this.type="NONE",this.storage={}}return $i(e,[{key:"_isAvailable",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();OI.type="NONE";var LI=OI;function MI(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var FI=function(){function e(t,n,r){Xi(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=MI(this.userKey,a.apiKey,o),this.fullPersistenceKey=MI("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return $i(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?DI._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=a_(r_().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(HT(LI),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||HT(LI),s=MI(i,n.config.apiKey,n.name),u=null,c=nt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=DI._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function jI(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WI(t))return"Blackberry";if(HI(t))return"Webos";if(BI(t))return"Safari";if((t.includes("chrome/")||UI(t))&&!t.includes("edge/"))return"Chrome";if(qI(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function VI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/firefox\//i.test(e)}function BI(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/crios\//i.test(e)}function zI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/iemobile/i.test(e)}function qI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/android/i.test(e)}function WI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/blackberry/i.test(e)}function HI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/webos/i.test(e)}function GI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function KI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return GI(e)||qI(e)||HI(e)||WI(e)||/windows phone/i.test(e)||zI(e)}function QI(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jI(vS());break;case"Worker":t="".concat(jI(vS()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(WE,"/").concat(r)}var YI=function(){function e(t){Xi(this,e),this.auth=t,this.queue=[]}return $i(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=a_(r_().mark((function e(t){var n,r,i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=nt(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=nt(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$I=function(){function e(t,n,r){Xi(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JI(this),this.idTokenSubscription=new JI(this),this.beforeStateQueue=new YI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return $i(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=HT(t)),this._initializationPromise=this.queue(a_(r_().mark((function r(){var i,a;return r_().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,FI.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=a_(r_().mark((function e(t){var n,r,i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return UT(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,EI(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?QS(t):null)&&UT(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=a_(r_().mark((function e(t){var n,r=this,i=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&UT(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(a_(r_().mark((function n(){return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(HT(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ES("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return UT(n=t&&HT(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,FI.create(this,[HT(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=a_(r_().mark((function e(t){var n=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return UT(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return UT(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QI(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=a_(r_().mark((function e(){var t,n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function XI(e){return QS(e)}var JI=function(){function e(t){var n=this;Xi(this,e),this.auth=t,this.observer=null,this.addObserver=BS((function(e){return n.observer=e}))}return $i(e,[{key:"next",get:function(){return UT(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ZI(e,t,n){var r=XI(e);UT(r._canInitEmulator,r,"emulator-config-failed"),UT(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=eC(t),o=function(e){var t=eC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:tC(r.substr(a.length+1))}}var o=Qe(r.split(":"),2);return{host:o[0],port:tC(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eC(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tC(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var nC=function(){function e(t,n){Xi(this,e),this.providerId=t,this.signInMethod=n}return $i(e,[{key:"toJSON",value:function(){return zT("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return zT("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return zT("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return zT("not implemented")}}]),e}();function rC(e,t){return iC.apply(this,arguments)}function iC(){return iC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:resetPassword",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function sC(e,t){return uC.apply(this,arguments)}function uC(){return uC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:update",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aI(t,"POST","/v1/accounts:signInWithPassword",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e,t){return hC.apply(this,arguments)}function hC(){return hC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:sendOobCode",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fC(t,n));case 1:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e,t){return mC.apply(this,arguments)}function mC(){return mC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fC(t,n));case 1:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e,t){return gC.apply(this,arguments)}function gC(){return gC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fC(t,n));case 1:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function bC(e,t){return kC.apply(this,arguments)}function kC(){return kC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fC(t,n));case 1:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function wC(e,t){return _C.apply(this,arguments)}function _C(){return _C=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aI(t,"POST","/v1/accounts:signInWithEmailLink",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function xC(e,t){return SC.apply(this,arguments)}function SC(){return SC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aI(t,"POST","/v1/accounts:signInWithEmailLink",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}var EC=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Xi(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return $i(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cC(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wC(t,{email:this._email,oobCode:this._password}));case 5:MT(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",aC(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xC(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:MT(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(nC);function TC(e,t){return IC.apply(this,arguments)}function IC(){return IC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aI(t,"POST","/v1/accounts:signInWithIdp",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}var CC=function(e){st(n,e);var t=ta(n);function n(){var e;return Xi(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return $i(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return TC(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,TC(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,TC(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=MS(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):MT("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=_f(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(nC);function AC(e,t){return RC.apply(this,arguments)}function RC(){return RC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:sendVerificationCode",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),RC.apply(this,arguments)}function PC(){return PC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aI(t,"POST","/v1/accounts:signInWithPhoneNumber",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function NC(){return NC=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aI(t,"POST","/v1/accounts:signInWithPhoneNumber",eI(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw cI(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}var DC=i({},"USER_NOT_FOUND","user-not-found");function OC(){return OC=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",aI(t,"POST","/v1/accounts:signInWithPhoneNumber",eI(t,r),DC));case 2:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}var LC=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this,"phone","phone")).params=e,r}return $i(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return PC.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return NC.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return OC.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(nC);var MC=function(){function e(t){var n,r,i,a,o,s;Xi(this,e);var u=FS(jS(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);UT(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return $i(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=FS(jS(e)).link,n=t?FS(jS(t)).deep_link_id:null,r=FS(jS(e)).deep_link_id;return(r?FS(jS(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ho){return null}}}]),e}();var FC=function(){function e(){Xi(this,e),this.providerId=e.PROVIDER_ID}return $i(e,null,[{key:"credential",value:function(e,t){return EC._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=MC.parseLink(t);return UT(n,"argument-error"),EC._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();FC.PROVIDER_ID="password",FC.EMAIL_PASSWORD_SIGN_IN_METHOD="password",FC.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var jC=function(){function e(t){Xi(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return $i(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),VC=function(e){st(n,e);var t=ta(n);function n(){var e;return Xi(this,n),(e=t.apply(this,arguments)).scopes=[],e}return $i(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return it(this.scopes)}}]),n}(jC),BC=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return UT(e.idToken||e.accessToken,"argument-error"),CC._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return UT("providerId"in t&&"signInMethod"in t,"argument-error"),CC._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(VC),UC=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.call(this,"facebook.com")}return $i(n,null,[{key:"credential",value:function(e){return CC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ho){return null}}}]),n}(VC);UC.FACEBOOK_SIGN_IN_METHOD="facebook.com",UC.PROVIDER_ID="facebook.com";var zC=function(e){st(n,e);var t=ta(n);function n(){var e;return Xi(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return $i(n,null,[{key:"credential",value:function(e,t){return CC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ho){return null}}}]),n}(VC);zC.GOOGLE_SIGN_IN_METHOD="google.com",zC.PROVIDER_ID="google.com";var qC=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.call(this,"github.com")}return $i(n,null,[{key:"credential",value:function(e){return CC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ho){return null}}}]),n}(VC);qC.GITHUB_SIGN_IN_METHOD="github.com",qC.PROVIDER_ID="github.com";var WC=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return $i(n,[{key:"_getIdTokenResponse",value:function(e){return TC(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,TC(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,TC(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nC),HC="saml.",GC=function(e){st(n,e);var t=ta(n);function n(e){return Xi(this,n),UT(e.startsWith(HC),"argument-error"),t.call(this,e)}return $i(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=WC.fromJSON(e);return UT(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return WC._create(r,n)}catch(i){return null}}}]),n}(jC),KC=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.call(this,"twitter.com")}return $i(n,null,[{key:"credential",value:function(e,t){return CC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ho){return null}}}]),n}(VC);function QC(e,t){return YC.apply(this,arguments)}function YC(){return YC=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aI(t,"POST","/v1/accounts:signUp",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),YC.apply(this,arguments)}KC.TWITTER_SIGN_IN_METHOD="twitter.com",KC.PROVIDER_ID="twitter.com";var $C=function(){function e(t){Xi(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return $i(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=a_(r_().mark((function t(n,r,i){var a,o,s,u,c=arguments;return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,DI._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=XC(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=a_(r_().mark((function t(n,r,i){var a;return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=XC(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function XC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function JC(){return JC=a_(r_().mark((function e(t){var n,r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XI(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new $C({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,QC(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,$C._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}var ZC=function(e){st(n,e);var t=ta(n);function n(e,r,i,a){var o,s;return Xi(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ea(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return $i(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(SS);function eA(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ZC._fromErrorAndOperation(e,n,t,r);throw n}))}function tA(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function nA(e,t){return rA.apply(this,arguments)}function rA(){return rA=a_(r_().mark((function e(t,n){var r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QS(t),e.next=3,oA(!0,r,n);case 3:return e.t0=hI,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=tA(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(e,t){return aA.apply(this,arguments)}function aA(){return aA=a_(r_().mark((function e(t,n){var r,i,a=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=kI,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",$C._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function oA(e,t,n){return sA.apply(this,arguments)}function sA(){return(sA=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EI(n);case 2:i=tA(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",UT(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uA(e,t){return cA.apply(this,arguments)}function cA(){return cA=a_(r_().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,kI(t,eA(i,a,n,t),r);case 6:return UT((o=e.sent).idToken,i,"internal-error"),UT(s=bI(o.idToken),i,"internal-error"),u=s.sub,UT(t.uid===u,i,"user-mismatch"),e.abrupt("return",$C._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&MT(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),cA.apply(this,arguments)}function lA(e,t){return fA.apply(this,arguments)}function fA(){return fA=a_(r_().mark((function e(t,n){var r,i,a,o,s=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,eA(t,i,n);case 4:return a=e.sent,e.next=7,$C._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t){return dA.apply(this,arguments)}function dA(){return dA=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lA(XI(t),n));case 1:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return(vA=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QS(t),e.next=3,oA(!1,r,n.providerId);case 3:return e.abrupt("return",iA(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return(yA=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uA(QS(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gA(e,t){return bA.apply(this,arguments)}function bA(){return bA=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aI(t,"POST","/v1/accounts:signInWithCustomToken",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function kA(){return kA=a_(r_().mark((function e(t,n){var r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XI(t),e.next=3,gA(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,$C._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}var wA=function(){function e(t,n){Xi(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return $i(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?_A._fromServerResponse(e,t):MT(e,"internal-error")}}]),e}(),_A=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return $i(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(wA);function xA(e,t,n){var r;UT((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),UT("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(UT(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(UT(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function SA(){return SA=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QS(t),a={requestType:"PASSWORD_RESET",email:n},r&&xA(i,a,r),e.next=5,vC(i,a);case 5:case"end":return e.stop()}}),e)}))),SA.apply(this,arguments)}function EA(){return EA=a_(r_().mark((function e(t,n,r){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rC(QS(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),EA.apply(this,arguments)}function TA(){return TA=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sC(QS(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),TA.apply(this,arguments)}function IA(e,t){return CA.apply(this,arguments)}function CA(){return CA=a_(r_().mark((function e(t,n){var r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QS(t),e.next=3,rC(r,{oobCode:n});case 3:i=e.sent,UT(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return UT(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:UT(i.mfaInfo,r,"internal-error");case 13:UT(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=wA._fromServerResponse(XI(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function AA(){return AA=a_(r_().mark((function e(t,n){var r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IA(QS(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function RA(e,t,n){return PA.apply(this,arguments)}function PA(){return PA=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XI(t),e.next=3,QC(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,$C._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function NA(){return NA=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QS(t),a={requestType:"EMAIL_SIGNIN",email:n},UT(r.handleCodeInApp,i,"argument-error"),r&&xA(i,a,r),e.next=6,yC(i,a);case 6:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function DA(){return DA=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QS(t),UT((a=FC.credentialWithLink(n,r||GT()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hA(i,a));case 4:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function OA(e,t){return LA.apply(this,arguments)}function LA(){return LA=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:createAuthUri",eI(t,n)));case 1:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(){return MA=a_(r_().mark((function e(t,n){var r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=KT()?GT():"http://localhost",i={identifier:n,continueUri:r},e.next=4,OA(QS(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}function FA(){return(FA=a_(r_().mark((function e(t,n){var r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QS(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xA(r.auth,a,n),e.next=8,dC(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jA(){return(jA=a_(r_().mark((function e(t,n,r){var i,a,o,s;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QS(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xA(i.auth,o,r),e.next=8,bC(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VA(e,t){return BA.apply(this,arguments)}function BA(){return BA=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function UA(){return(UA=a_(r_().mark((function e(t,n){var r,i,a,o,s,u,c;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=QS(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,kI(a,VA(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zA(e,t,n){return qA.apply(this,arguments)}function qA(){return qA=a_(r_().mark((function e(t,n,r){var i,a,o,s;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,kI(t,aC(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),qA.apply(this,arguments)}var WA=$i((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xi(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),HA=function(e){st(n,e);var t=ta(n);function n(e,r,i,a){var o;return Xi(this,n),(o=t.call(this,e,r,i)).username=a,o}return $i(n)}(WA),GA=function(e){st(n,e);var t=ta(n);function n(e,r){return Xi(this,n),t.call(this,e,"facebook.com",r)}return $i(n)}(WA),KA=function(e){st(n,e);var t=ta(n);function n(e,r){return Xi(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return $i(n)}(HA),QA=function(e){st(n,e);var t=ta(n);function n(e,r){return Xi(this,n),t.call(this,e,"google.com",r)}return $i(n)}(WA),YA=function(e){st(n,e);var t=ta(n);function n(e,r,i){return Xi(this,n),t.call(this,e,"twitter.com",r,i)}return $i(n)}(HA);function $A(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=bI(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new WA(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new GA(a,i);case"github.com":return new KA(a,i);case"google.com":return new QA(a,i);case"twitter.com":return new YA(a,i,e.screenName||null);case"custom":case"anonymous":return new WA(a,null);default:return new WA(a,r,i)}}(n)}var XA=function(){function e(t,n,r){Xi(this,e),this.type=t,this.credential=n,this.auth=r}return $i(e,[{key:"toJSON",value:function(){return{multiFactorSession:i({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),JA=function(){function e(t,n,r){Xi(this,e),this.session=t,this.hints=n,this.signInResolver=r}return $i(e,[{key:"resolveSignIn",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=XI(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return wA._fromServerResponse(r,e)}));UT(i.mfaPendingCredential,r,"internal-error");var o=XA._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=a_(r_().mark((function e(t){var a,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,$C._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return UT(n.user,r,"internal-error"),e.abrupt("return",$C._forOperation(n.user,n.operationType,s));case 17:MT(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ZA(e,t){return tI(e,"POST","/v2/accounts/mfaEnrollment:start",eI(e,t))}function eR(e,t){return tI(e,"POST","/v2/accounts/mfaEnrollment:withdraw",eI(e,t))}var tR=function(){function e(t){var n=this;Xi(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return wA._fromServerResponse(t.auth,e)})))}))}return $i(e,[{key:"getSession",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=XA,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=a_(r_().mark((function e(t,n){var r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,kI(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=a_(r_().mark((function e(t){var n,r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,kI(this.user,eR(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),nR=new WeakMap;var rR="__sak",iR=function(){function e(t,n){Xi(this,e),this.storageRetriever=t,this.type=n}return $i(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rR,"1"),this.storage.removeItem(rR),Promise.resolve(!0)):Promise.resolve(!1)}catch(ho){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var aR=10,oR=function(e){st(n,e);var t=ta(n);function n(){var e;return Xi(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=vS();return BI(e)||GI(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=KI(),e._shouldAllowMigration=!0,e}return $i(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);kS()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,aR):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=a_(r_().mark((function e(t,r){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IT(Ji(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=a_(r_().mark((function e(t){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IT(Ji(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IT(Ji(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(iR);oR.type="LOCAL";var sR=oR,uR=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return $i(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(iR);uR.type="SESSION";var cR=uR;function lR(e){return Promise.all(e.map(function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var fR=function(){function e(t){Xi(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return $i(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=a_(r_().mark((function e(t){var n,r,i,a,o,s,u,c;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,lR(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function hR(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fR.receivers=[];var dR=function(){function e(t){Xi(this,e),this.target=t,this.handlers=new Set}return $i(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=a_(r_().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=hR("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function pR(){return window}function vR(){return"undefined"!==typeof pR().WorkerGlobalScope&&"function"===typeof pR().importScripts}function mR(){return yR.apply(this,arguments)}function yR(){return(yR=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gR(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var bR="firebaseLocalStorageDb",kR=1,wR="firebaseLocalStorage",_R="fbase_key",xR=function(){function e(t){Xi(this,e),this.request=t}return $i(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function SR(e,t){return e.transaction([wR],t?"readwrite":"readonly").objectStore(wR)}function ER(){var e=indexedDB.deleteDatabase(bR);return new xR(e).toPromise()}function TR(){var e=indexedDB.open(bR,kR);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(wR,{keyPath:_R})}catch(r){n(r)}})),e.addEventListener("success",a_(r_().mark((function n(){var r;return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(wR)){n.next=12;break}return r.close(),n.next=5,ER();case 5:return n.t0=t,n.next=8,TR();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function IR(e,t,n){return CR.apply(this,arguments)}function CR(){return CR=a_(r_().mark((function e(t,n,r){var a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=SR(t,!0).put((i(a={},_R,n),i(a,"value",r),a)),e.abrupt("return",new xR(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),CR.apply(this,arguments)}function AR(e,t){return RR.apply(this,arguments)}function RR(){return RR=a_(r_().mark((function e(t,n){var r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=SR(t,!1).get(n),e.next=3,new xR(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),RR.apply(this,arguments)}function PR(e,t){var n=SR(e,!0).delete(t);return new xR(n).toPromise()}var NR=function(){function e(){Xi(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return $i(e,[{key:"_openDb",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,TR();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vR()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=a_(r_().mark((function e(){var t=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=fR._getInstance(vR()?self:null),this.receiver._subscribe("keyChanged",function(){var e=a_(r_().mark((function e(n,r){var i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=a_(r_().mark((function e(){var t,n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mR();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new dR(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gR()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,TR();case 5:return t=e.sent,e.next=8,IR(t,rR,"1");case 8:return e.next=10,PR(t,rR);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=a_(r_().mark((function e(t,n){var r=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return IR(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return AR(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=a_(r_().mark((function e(t){var n=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return PR(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=a_(r_().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=SR(e,!1).getAll();return new xR(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=nt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(a_(r_().mark((function t(){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();NR.type="LOCAL";var DR=NR;function OR(e,t){return tI(e,"POST","/v2/accounts/mfaSignIn:start",eI(e,t))}function LR(e){return MR.apply(this,arguments)}function MR(){return MR=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tI(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),MR.apply(this,arguments)}function FR(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=FT("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function jR(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var VR=1e12,BR=function(){function e(t){Xi(this,e),this.auth=t,this.counter=VR,this._widgets=new Map}return $i(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new UR(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||VR;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||VR;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||VR,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),UR=function(){function e(t,n,r){var i=this;Xi(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;UT(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return $i(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var zR=jR("rcb"),qR=new YT(3e4,6e4),WR="https://www.google.com/recaptcha/api.js?",HR=function(){function e(){var t;Xi(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=pR().grecaptcha)||void 0===t?void 0:t.render)}return $i(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return UT(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(pR().grecaptcha):new Promise((function(r,i){var a=pR().setTimeout((function(){i(FT(e,"network-request-failed"))}),qR.get());pR()[zR]=function(){pR().clearTimeout(a),delete pR()[zR];var o=pR().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(FT(e,"internal-error"))},FR("".concat(WR,"?").concat(MS({onload:zR,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(FT(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=pR().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var GR=function(){function e(){Xi(this,e)}return $i(e,[{key:"load",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new BR(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),KR="recaptcha",QR={theme:"light",type:"image"},YR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},QR),r=arguments.length>2?arguments[2]:void 0;Xi(this,e),this.parameters=n,this.type=KR,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=XI(r),this.isInvisible="invisible"===this.parameters.size,UT("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;UT(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new GR:new HR,this.validateStartingState()}return $i(e,[{key:"verify",value:function(){var e=a_(r_().mark((function e(){var t,n,r,i=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){UT(!this.parameters.sitekey,this.auth,"argument-error"),UT(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),UT("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=pR()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){UT(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=a_(r_().mark((function e(){var t,n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return UT(KT()&&!vR(),this.auth,"internal-error"),e.next=3,$R();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,LR(this.auth);case 8:UT(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return UT(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function $R(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var XR=function(){function e(t,n){Xi(this,e),this.verificationId=t,this.onConfirmation=n}return $i(e,[{key:"confirm",value:function(e){var t=LC._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function JR(){return JR=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XI(t),e.next=3,nP(i,n,QS(r));case 3:return a=e.sent,e.abrupt("return",new XR(a,(function(e){return hA(i,e)})));case 5:case"end":return e.stop()}}),e)}))),JR.apply(this,arguments)}function ZR(e,t,n){return eP.apply(this,arguments)}function eP(){return(eP=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QS(t),e.next=3,oA(!1,i,"phone");case 3:return e.next=5,nP(i.auth,n,QS(r));case 5:return a=e.sent,e.abrupt("return",new XR(a,(function(e){return pA(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tP(){return(tP=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QS(t),e.next=3,nP(i.auth,n,QS(r));case 3:return a=e.sent,e.abrupt("return",new XR(a,(function(e){return mA(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nP(e,t,n){return rP.apply(this,arguments)}function rP(){return rP=a_(r_().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,UT("string"===typeof a,t,"argument-error"),UT(r.type===KR,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return UT("enroll"===s.type,t,"internal-error"),e.next=13,ZA(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return UT("signin"===s.type,t,"internal-error"),UT(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,OR(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,AC(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),rP.apply(this,arguments)}function iP(){return(iP=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iA(QS(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aP=function(){function e(t){Xi(this,e),this.providerId=e.PROVIDER_ID,this.auth=XI(t)}return $i(e,[{key:"verifyPhoneNumber",value:function(e,t){return nP(this.auth,e,QS(t))}}],[{key:"credential",value:function(e,t){return LC._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?LC._fromTokenResponse(n,r):null}}]),e}();function oP(e,t){return t?HT(t):(UT(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}aP.PROVIDER_ID="phone",aP.PHONE_SIGN_IN_METHOD="phone";var sP=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this,"custom","custom")).params=e,r}return $i(n,[{key:"_getIdTokenResponse",value:function(e){return TC(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return TC(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return TC(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(nC);function uP(e){return lA(e.auth,new sP(e),e.bypassAuthState)}function cP(e){var t=e.auth,n=e.user;return UT(n,t,"internal-error"),uA(n,new sP(e),e.bypassAuthState)}function lP(e){return fP.apply(this,arguments)}function fP(){return fP=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,UT(r=t.user,n,"internal-error"),e.abrupt("return",iA(r,new sP(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),fP.apply(this,arguments)}var hP=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Xi(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return $i(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=a_(r_().mark((function t(n,r){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=a_(r_().mark((function e(t){var n,r,i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uP;case"linkViaPopup":case"linkViaRedirect":return lP;case"reauthViaPopup":case"reauthViaRedirect":return cP;default:MT(this.auth,"internal-error")}}},{key:"resolve",value:function(e){qT(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){qT(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),dP=new YT(2e3,1e4);function pP(e,t,n){return vP.apply(this,arguments)}function vP(){return vP=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XI(t),VT(t,n,jC),a=oP(i,r),o=new bP(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),vP.apply(this,arguments)}function mP(){return(mP=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VT((i=QS(t)).auth,n,jC),a=oP(i.auth,r),o=new bP(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yP(e,t,n){return gP.apply(this,arguments)}function gP(){return(gP=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VT((i=QS(t)).auth,n,jC),a=oP(i.auth,r),o=new bP(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bP=function(e){st(n,e);var t=ta(n);function n(e,r,i,a,o){var s;return Xi(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ea(s),s}return $i(n,[{key:"executeNotNull",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return UT(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=a_(r_().mark((function e(){var t,n=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qT(1===this.filter.length,"Popup operations only handle one event"),t=hR(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(FT(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(FT(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(FT(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,dP.get())}()}}]),n}(hP);bP.currentPopupAction=null;var kP="pendingRedirect",wP=new Map,_P=function(e){st(n,e);var t=ta(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Xi(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return $i(n,[{key:"execute",value:function(){var e=a_(r_().mark((function e(){var t,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=wP.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,xP(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,IT(Ji(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:wP.set(this.auth._key(),t);case 21:return this.bypassAuthState||wP.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=a_(r_().mark((function e(t){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",IT(Ji(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",IT(Ji(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(hP);function xP(e,t){return SP.apply(this,arguments)}function SP(){return SP=a_(r_().mark((function e(t,n){var r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AP(n),i=CP(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),SP.apply(this,arguments)}function EP(e,t){return TP.apply(this,arguments)}function TP(){return TP=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CP(t)._set(AP(n),"true"));case 1:case"end":return e.stop()}}),e)}))),TP.apply(this,arguments)}function IP(e,t){wP.set(e._key(),t)}function CP(e){return HT(e._redirectPersistence)}function AP(e){return MI(kP,e.config.apiKey,e.name)}function RP(e,t,n){return function(e,t,n){return PP.apply(this,arguments)}(e,t,n)}function PP(){return PP=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XI(t),VT(t,n,jC),e.next=4,i._initializationPromise;case 4:return a=oP(i,r),e.next=7,EP(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),PP.apply(this,arguments)}function NP(e,t,n){return function(e,t,n){return DP.apply(this,arguments)}(e,t,n)}function DP(){return(DP=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VT((i=QS(t)).auth,n,jC),e.next=4,i.auth._initializationPromise;case 4:return a=oP(i.auth,r),e.next=7,EP(a,i.auth);case 7:return e.next=9,BP(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OP(e,t,n){return function(e,t,n){return LP.apply(this,arguments)}(e,t,n)}function LP(){return(LP=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VT((i=QS(t)).auth,n,jC),e.next=4,i.auth._initializationPromise;case 4:return a=oP(i.auth,r),e.next=7,oA(!1,i,n.providerId);case 7:return e.next=9,EP(a,i.auth);case 9:return e.next=11,BP(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MP(e,t){return FP.apply(this,arguments)}function FP(){return FP=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XI(t)._initializationPromise;case 2:return e.abrupt("return",jP(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),FP.apply(this,arguments)}function jP(e,t){return VP.apply(this,arguments)}function VP(){return VP=a_(r_().mark((function e(t,n){var r,i,a,o,s,u=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=XI(t),a=oP(i,n),o=new _P(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),VP.apply(this,arguments)}function BP(e){return UP.apply(this,arguments)}function UP(){return(UP=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hR("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zP=function(){function e(t){Xi(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return $i(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WP(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!WP(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(FT(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qP(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(qP(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function qP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function WP(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function HP(e){return GP.apply(this,arguments)}function GP(){return GP=a_(r_().mark((function e(t){var n,r=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",tI(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),GP.apply(this,arguments)}var KP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QP=/^https?/;function YP(){return YP=a_(r_().mark((function e(t){var n,r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,HP(t);case 4:n=e.sent,r=n.authorizedDomains,i=nt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!$P(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:MT(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),YP.apply(this,arguments)}function $P(e){var t=GT(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!QP.test(r))return!1;if(KP.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var XP=new YT(3e4,6e4);function JP(){var e=pR().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=it(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ZP=null;function eN(e){return ZP=ZP||function(e){return new Promise((function(t,n){var r,i,a;function o(){JP(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){JP(),n(FT(e,"network-request-failed"))},timeout:XP.get()})}if(null===(i=null===(r=pR().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=pR().gapi)||void 0===a?void 0:a.load)){var s=jR("iframefcb");return pR()[s]=function(){gapi.load?o():n(FT(e,"network-request-failed"))},FR("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ZP=null,e}))}(e),ZP}var tN=new YT(5e3,15e3),nN="__/auth/iframe",rN="emulator/auth/iframe",iN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oN(e){var t=e.config;UT(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?$T(t,rN):"https://".concat(e.config.authDomain,"/").concat(nN),r={apiKey:t.apiKey,appName:e.name,v:WE},i=aN.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(MS(r).slice(1))}function sN(e){return uN.apply(this,arguments)}function uN(){return uN=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eN(t);case 2:return n=e.sent,UT(r=pR().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:oN(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iN,dontclear:!0},(function(e){return new Promise(function(){var n=a_(r_().mark((function n(r,i){var a,o,s;return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){pR().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=FT(t,"network-request-failed"),o=pR().setTimeout((function(){i(a)}),tN.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),uN.apply(this,arguments)}var cN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lN=500,fN=600,hN="_blank",dN="http://localhost",pN=function(){function e(t){Xi(this,e),this.window=t,this.associatedEvent=null}return $i(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:lN,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fN,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},cN),{width:r.toString(),height:i.toString(),top:a,left:o}),c=vS().toLowerCase();n&&(s=UI(c)?hN:n),VI(c)&&(t=t||dN,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=Qe(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return GI(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new pN(null);var f=window.open(t||"",s,l);UT(f,e,"popup-blocked");try{f.focus()}catch(h){}return new pN(f)}var mN="__/auth/handler",yN="emulator/auth/handler";function gN(e,t,n,r,i,a){UT(e.config.authDomain,e,"auth-domain-config-required"),UT(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:WE,eventId:i};if(t instanceof jC){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",NS(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=Qe(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof VC){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(mN);return $T(t,yN)}(e),"?").concat(MS(d).slice(1))}var bN="webStorageSupport",kN=function(){function e(){Xi(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cR,this._completeRedirectFn=jP,this._overrideRedirectResult=IP}return $i(e,[{key:"_openPopup",value:function(){var e=a_(r_().mark((function e(t,n,r,i){var a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qT(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=gN(t,n,r,GT(),i),e.abrupt("return",vN(t,o,hR()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=a_(r_().mark((function e(t,n,r,i){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=gN(t,n,r,GT(),i),pR().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(qT(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sN(t);case 2:return n=e.sent,r=new zP(t),n.register("authEvent",(function(e){return UT(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bN,{type:bN},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bN];void 0!==i&&t(!!i),MT(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return YP.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return KI()||BI()||GI()}}]),e}(),wN=kN,_N=function(){function e(t){Xi(this,e),this.factorId=t}return $i(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return zT("unexpected MultiFactorSessionType")}}}]),e}(),xN=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this,"phone")).credential=e,r}return $i(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return tI(e,"POST","/v2/accounts/mfaEnrollment:finalize",eI(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return tI(e,"POST","/v2/accounts/mfaSignIn:finalize",eI(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(_N),SN=function(){function e(){Xi(this,e)}return $i(e,null,[{key:"assertion",value:function(e){return xN._fromCredential(e)}}]),e}();SN.FACTOR_ID="phone";var EN="@firebase/auth",TN="0.21.3",IN=function(){function e(t){Xi(this,e),this.auth=t,this.internalListeners=new Map}return $i(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){UT(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var CN;!function(e){var t;null===(t=fS())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function AN(){return window}CN="Browser",FE(new YS("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){UT(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),UT(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:CN,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QI(CN)},i=new $I(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(HT);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),FE(new YS("auth-internal",(function(e){return function(e){return new IN(e)}(XI(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$E(EN,TN,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(CN)),$E(EN,TN,"esm2017");var RN=2e3;function PN(e,t,n){return NN.apply(this,arguments)}function NN(){return NN=a_(r_().mark((function e(t,n,r){var i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=AN(),o=a.BuildInfo,qT(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,jN(n.sessionId);case 4:return s=e.sent,u={},GI()?u.ibi=o.packageName:qI()?u.apn=o.packageName:MT(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",gN(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function DN(){return DN=a_(r_().mark((function e(t){var n,r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=AN(),r=n.BuildInfo,i={},GI()?i.iosBundleId=r.packageName:qI()?i.androidPackageName=r.packageName:MT(t,"operation-not-supported-in-this-environment"),e.next=5,HP(t,i);case 5:case"end":return e.stop()}}),e)}))),DN.apply(this,arguments)}function ON(e){var t=AN().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function LN(e,t,n){return MN.apply(this,arguments)}function MN(){return MN=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=AN(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(FT(t,"redirect-cancelled-by-user"))}),RN))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),qI()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),MN.apply(this,arguments)}function FN(e){var t,n,r,i,a,o,s,u,c,l,f=AN();UT("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),UT("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),UT("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),UT("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),UT("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function jN(e){return VN.apply(this,arguments)}function VN(){return(VN=a_(r_().mark((function e(t){var n,r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=BN(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BN(e){if(qT(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var UN=20,zN=function(e){st(n,e);var t=ta(n);function n(){var e;return Xi(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return $i(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),IT(Ji(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zP);function qN(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:QN(),postBody:null,tenantId:e.tenantId,error:FT(e,"no-auth-event")}}function WN(e,t){return YN()._set($N(e),t)}function HN(e){return GN.apply(this,arguments)}function GN(){return GN=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YN()._get($N(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,YN()._remove($N(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),GN.apply(this,arguments)}function KN(e,t){var n,r,i=function(e){var t=XN(e),n=t.link?decodeURIComponent(t.link):void 0,r=XN(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return XN(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=XN(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?FT(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function QN(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<UN;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function YN(){return HT(sR)}function $N(e){return MI("authEvent",e.config.apiKey,e.name)}function XN(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=at(e.split("?"));t[0];return FS(t.slice(1).join("?"))}var JN=function(){function e(){Xi(this,e),this._redirectPersistence=cR,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jP,this._overrideRedirectResult=IP}return $i(e,[{key:"_initialize",value:function(){var e=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new zN(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){MT(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=a_(r_().mark((function e(t,n,r,i){var a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FN(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),wP.clear(),e.next=10,this._originValidation(t);case 10:return o=qN(t,r,i),e.next=13,WN(t,o);case 13:return e.next=15,PN(t,o,n);case 15:return s=e.sent,e.next=18,ON(s);case 18:return u=e.sent,e.abrupt("return",LN(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return DN.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=AN(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(a_(r_().mark((function n(){return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,HN(e);case 2:t.onEvent(eD());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=a_(r_().mark((function n(r){var i,a;return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,HN(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=KN(i,r.url)),t.onEvent(a||eD());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");AN().handleOpenURL=function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ZN=JN;function eD(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:FT("no-auth-event")}}var tD="@firebase/auth-compat",nD="0.3.3",rD=1e3;function iD(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function aD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return!("file:"!==iD()&&"ionic:"!==iD()&&"capacitor:"!==iD()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function oD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return kS()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS();return/Edge\/\d+/.test(e)}(e)}function sD(){try{var e=self.localStorage,t=hR();if(e)return e.setItem(t,"1"),e.removeItem(t),!oD()||_S()}catch(n){return uD()&&_S()}return!1}function uD(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function cD(){return("http:"===iD()||"https:"===iD()||gS()||aD())&&!(bS()||yS())&&sD()&&!uD()}function lD(){return aD()&&"undefined"!==typeof document}function fD(){return hD.apply(this,arguments)}function hD(){return(hD=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lD()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),rD);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dD={LOCAL:"local",NONE:"none",SESSION:"session"},pD=UT,vD="persistence";function mD(e,t){pD(Object.values(dD).includes(t),e,"invalid-persistence-type"),bS()?pD(t!==dD.SESSION,e,"unsupported-persistence-type"):yS()?pD(t===dD.NONE,e,"unsupported-persistence-type"):uD()?pD(t===dD.NONE||t===dD.LOCAL&&_S(),e,"unsupported-persistence-type"):pD(t===dD.NONE||sD(),e,"unsupported-persistence-type")}function yD(e){return gD.apply(this,arguments)}function gD(){return gD=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=bD(),r=MI(vD,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function bD(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var kD=UT,wD=function(){function e(){Xi(this,e),this.browserResolver=HT(wN),this.cordovaResolver=HT(ZN),this.underlyingResolver=null,this._redirectPersistence=cR,this._completeRedirectFn=jP,this._overrideRedirectResult=IP}return $i(e,[{key:"_initialize",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=a_(r_().mark((function e(t,n,r,i){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=a_(r_().mark((function e(t,n,r,i){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return lD()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return kD(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fD();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _D(e){return e.unwrap()}function xD(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new CD(e,function(e,t){var n,r=QS(e),i=t;return UT(t.customData.operationType,r,"argument-error"),UT(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),JA._fromError(r,i)}(e,t));else if(r){var i=SD(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function SD(e){var t=(e instanceof SS?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof SS)&&"temporaryProof"in t&&"phoneNumber"in t)return aP.credentialFromResult(e);var n,r=t.providerId;if(!r||r===CT.PASSWORD)return null;switch(r){case CT.GOOGLE:n=zC;break;case CT.FACEBOOK:n=UC;break;case CT.GITHUB:n=qC;break;case CT.TWITTER:n=KC;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?WC._create(r,s):CC._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new BC(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof SS?n.credentialFromError(e):n.credentialFromResult(e)}function ED(e,t){return t.catch((function(t){throw t instanceof SS&&xD(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,SD(t)),additionalUserInfo:$A(e),user:AD.getOrCreate(r)}}))}function TD(e,t){return ID.apply(this,arguments)}function ID(){return ID=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ED(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ID.apply(this,arguments)}var CD=function(){function e(t,n){Xi(this,e),this.resolver=n,this.auth=t.wrapped()}return $i(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ED(_D(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),AD=function(){function e(t){Xi(this,e),this._delegate=t,this.multiFactor=function(e){var t=QS(e);return nR.has(t)||nR.set(t,tR._fromUser(t)),nR.get(t)}(t)}return $i(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ED(this.auth,pA(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TD(this.auth,ZR(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ED(this.auth,yP(this._delegate,t,wD)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yD(XI(this.auth));case 2:return e.abrupt("return",OP(this._delegate,t,wD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ED(this.auth,mA(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return TD(this.auth,function(e,t,n){return tP.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ED(this.auth,function(e,t,n){return mP.apply(this,arguments)}(this._delegate,e,wD))}},{key:"reauthenticateWithRedirect",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yD(XI(this.auth));case 2:return e.abrupt("return",NP(this._delegate,t,wD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return FA.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nA(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return zA(QS(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return zA(QS(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return iP.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return UA.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return jA.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();AD.USER_MAP=new WeakMap;var RD=UT,PD=function(){function e(t,n){if(Xi(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;RD(r,"invalid-api-key",{appName:t.name}),RD(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?wD:void 0;this._delegate=n.initialize({options:{persistence:DD(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(PT),this.linkUnderlyingAuth()}return $i(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?AD.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ZI(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return TA.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return IA(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return EA.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ED(this._delegate,RA(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return MA.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=MC.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RD(cD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,MP(this._delegate,wD);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ED(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){XI(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ND(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ND(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return NA.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return SA.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mD(this._delegate,t),e.t0=t,e.next=e.t0===dD.SESSION?4:e.t0===dD.LOCAL?6:e.t0===dD.NONE?11:13;break;case 4:return n=cR,e.abrupt("break",14);case 6:return e.next=8,HT(DR)._isAvailable();case 8:return r=e.sent,n=r?DR:sR,e.abrupt("break",14);case 11:return n=LI,e.abrupt("break",14);case 13:return e.abrupt("return",MT("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ED(this._delegate,function(e){return JC.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ED(this._delegate,hA(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ED(this._delegate,function(e,t){return kA.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ED(this._delegate,function(e,t,n){return hA(QS(e),FC.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ED(this._delegate,function(e,t,n){return DA.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return TD(this._delegate,function(e,t,n){return JR.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RD(cD(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ED(this._delegate,pP(this._delegate,t,wD)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RD(cD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yD(this._delegate);case 3:return e.abrupt("return",RP(this._delegate,t,wD));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return AA.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ND(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&AD.getOrCreate(e))},error:t,complete:n}}function DD(e,t){var n=function(e,t){var n=bD();if(!n)return[];var r=MI(vD,e,t);switch(n.getItem(r)){case dD.NONE:return[LI];case dD.LOCAL:return[DR,cR];case dD.SESSION:return[cR];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(DR)||n.push(DR),"undefined"!==typeof window)for(var r=0,i=[sR,cR];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(LI)||n.push(LI),n}PD.Persistence=dD;var OD=function(){function e(){Xi(this,e),this.providerId="phone",this._delegate=new aP(_D(ET.auth()))}return $i(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return aP.credential(e,t)}}]),e}();OD.PHONE_SIGN_IN_METHOD=aP.PHONE_SIGN_IN_METHOD,OD.PROVIDER_ID=aP.PROVIDER_ID;var LD,MD=UT,FD=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ET.app();Xi(this,e),MD(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new YR(t,n,i.auth()),this.type=this._delegate.type}return $i(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),jD="auth-compat";(LD=ET).INTERNAL.registerComponent(new YS(jD,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new PD(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:AT.EMAIL_SIGNIN,PASSWORD_RESET:AT.PASSWORD_RESET,RECOVER_EMAIL:AT.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:AT.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:AT.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:AT.VERIFY_EMAIL}},EmailAuthProvider:FC,FacebookAuthProvider:UC,GithubAuthProvider:qC,GoogleAuthProvider:zC,OAuthProvider:BC,SAMLAuthProvider:GC,PhoneAuthProvider:OD,PhoneMultiFactorGenerator:SN,RecaptchaVerifier:FD,TwitterAuthProvider:KC,Auth:PD,AuthCredential:nC,Error:SS}).setInstantiationMode("LAZY").setMultipleInstances(!1)),LD.registerVersion(tD,nD);var VD="@firebase/database",BD="0.14.3",UD="";function zD(e){UD=e}var qD=function(){function e(t){Xi(this,e),this.domStorage_=t,this.prefix_="firebase:"}return $i(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),CS(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:IS(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),WD=function(){function e(){Xi(this,e),this.cache_={},this.isInMemoryStorage=!0}return $i(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return RS(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),HD=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new qD(t)}}catch(n){}return new WD},GD=HD("localStorage"),KD=HD("sessionStorage"),QD=new sE("@firebase/database"),YD=function(){var e=1;return function(){return e++}}(),$D=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,tS(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new VS;n.update(t);var r=n.digest();return iS.encodeByteArray(r)},XD=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?CS(r):r,t+=" "}return t},JD=null,ZD=!0,eO=function(e,t){tS(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(QD.logLevel=eE.VERBOSE,JD=QD.log.bind(QD),t&&KD.set("logging_enabled",!0)):"function"===typeof e?JD=e:(JD=null,KD.remove("logging_enabled"))},tO=function(){if(!0===ZD&&(ZD=!1,null===JD&&!0===KD.get("logging_enabled")&&eO(!0)),JD){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=XD.apply(null,t);JD(r)}},nO=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];tO.apply(void 0,[e].concat(n))}},rO=function(){var e="FIREBASE INTERNAL ERROR: "+XD.apply(void 0,arguments);QD.error(e)},iO=function(){var e="FIREBASE FATAL ERROR: ".concat(XD.apply(void 0,arguments));throw QD.error(e),new Error(e)},aO=function(){var e="FIREBASE WARNING: "+XD.apply(void 0,arguments);QD.warn(e)},oO=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},sO="[MIN_NAME]",uO="[MAX_NAME]",cO=function(e,t){if(e===t)return 0;if(e===sO||t===uO)return-1;if(t===sO||e===uO)return 1;var n=yO(e),r=yO(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},lO=function(e,t){return e===t?0:e<t?-1:1},fO=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+CS(t))},hO=function e(t){if("object"!==typeof t||null===t)return CS(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=CS(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},dO=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function pO(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var vO=function(e){tS(!oO(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var mO=new RegExp("^-?(0*)\\d{1,10}$"),yO=function(e){if(mO.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},gO=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw aO("Exception was thrown by user callback.",e),t}),Math.floor(0))}},bO=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kO=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},wO=function(){function e(t,n){var r=this;Xi(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return $i(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){aO('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),_O=function(){function e(t,n,r){var i=this;Xi(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return $i(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(tO("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',aO(e)}}]),e}(),xO=function(){function e(t){Xi(this,e),this.accessToken=t}return $i(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();xO.OWNER="owner";var SO="5",EO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TO="ac",IO="websocket",CO="long_polling",AO=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Xi(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=GD.get("host:"+t)||this._host}return $i(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&GD.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function RO(e,t,n){var r;if(tS("string"===typeof t,"typeof type must == string"),tS("object"===typeof n,"typeof params must == object"),t===IO)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==CO)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return pO(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var PO=function(){function e(){Xi(this,e),this.counters_={}}return $i(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;RS(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return uS(void 0,this.counters_)}}]),e}(),NO={},DO={};function OO(e){var t=e.toString();return NO[t]||(NO[t]=new PO),NO[t]}var LO=function(){function e(t){Xi(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return $i(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&gO((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),MO="start",FO="close",jO="pLPCommand",VO="pRTLPCB",BO=function(){function e(t,n,r,i,a,o,s){var u=this;Xi(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nO(t),this.stats_=OO(n),this.urlFn=function(e){return u.appCheckToken&&(e[TO]=u.appCheckToken),RO(n,CO,e)}}return $i(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new LO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(wS()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new UO((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===MO)n.id=a,n.password=o;else{if(i!==FO)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[MO]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=SO,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[TO]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&EO.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=CS(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=aS(t),r=dO(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!wS()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=CS(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!wS()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),UO=function(){function e(t,n,r,i){if(Xi(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,wS())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=YD(),window[jO+this.uniqueCallbackIdentifier]=t,window[VO+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){tO("frame writing exception"),s.stack&&tO(s.stack),tO(s)}}}return $i(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;wS()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){tO("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||tO("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),zO=null;"undefined"!==typeof MozWebSocket?zO=MozWebSocket:"undefined"!==typeof WebSocket&&(zO=WebSocket);var qO=function(){function e(t,n,r,i,a,o,s){Xi(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nO(this.connId),this.stats_=OO(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return $i(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,GD.set("previous_websocket_failure",!0);try{var r;if(wS()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(SO,"/").concat(UD,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/netflix_clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new zO(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){GD.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=IS(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(tS(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=CS(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=dO(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=SO,!wS()&&"undefined"!==typeof location&&location.hostname&&EO.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[TO]=r),i&&(a.p=i),RO(e,IO,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==zO&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return GD.isInMemoryStorage||!0===GD.get("previous_websocket_failure")}}]),e}();qO.responsesRequiredToBeHealthy=2,qO.healthyTimeout=3e4;var WO=function(){function e(t){Xi(this,e),this.initTransports_(t)}return $i(e,[{key:"initTransports_",value:function(t){var n=qO&&qO.isAvailable(),r=n&&!qO.previouslyFailed();if(t.webSocketOnly&&(n||aO("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[qO];else{var i,a=this.transports_=[],o=nt(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[BO,qO]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();WO.globalTransportInitialized_=!1;var HO=function(){function e(t,n,r,i,a,o,s,u,c,l){Xi(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nO("c:"+this.id+":"),this.transportManager_=new WO(n),this.log_("Connection created"),this.start_()}return $i(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=kO((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=fO("t",e),n=fO("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=fO("t",e),n=fO("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=fO("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?rO("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rO("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),SO!==n&&aO("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),kO((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kO((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(GD.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),GO=function(){function e(){Xi(this,e)}return $i(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),KO=function(){function e(t){Xi(this,e),this.allowedEvents_=t,this.listeners_={},tS(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return $i(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=it(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){tS(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),QO=function(e){st(n,e);var t=ta(n);function n(){var e;return Xi(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||mS()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return $i(n,[{key:"getInitialEvent",value:function(e){return tS("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(KO),YO=32,$O=768,XO=function(){function e(t,n){if(Xi(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return $i(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function JO(){return new XO("")}function ZO(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function eL(e){return e.pieces_.length-e.pieceNum_}function tL(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new XO(e.pieces_,t)}function nL(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function rL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function iL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new XO(t,0)}function aL(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof XO)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new XO(n,0)}function oL(e){return e.pieceNum_>=e.pieces_.length}function sL(e,t){var n=ZO(e),r=ZO(t);if(null===n)return t;if(n===r)return sL(tL(e),tL(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function uL(e,t){for(var n=rL(e,0),r=rL(t,0),i=0;i<n.length&&i<r.length;i++){var a=cO(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function cL(e,t){if(eL(e)!==eL(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function lL(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(eL(e)>eL(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var fL=$i((function e(t,n){Xi(this,e),this.errorPrefix_=n,this.parts_=rL(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=KS(this.parts_[r]);hL(this)}));function hL(e){if(e.byteLength_>$O)throw new Error(e.errorPrefix_+"has a key path longer than "+$O+" bytes ("+e.byteLength_+").");if(e.parts_.length>YO)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+YO+") or object contains a cycle "+dL(e))}function dL(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var pL=function(e){st(n,e);var t=ta(n);function n(){var e,r,i;return Xi(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return $i(n,[{key:"getInitialEvent",value:function(e){return tS("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(KO),vL=1e3,mL=3e5,yL=function(e){st(n,e);var t=ta(n);function n(e,r,i,a,o,s,u,c){var l;if(Xi(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=nO("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=vL,l.maxReconnectDelay_=mL,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!wS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return pL.getInstance().on("visible",l.onVisible_,ea(l)),-1===e.host.indexOf("fblocal")&&QO.getInstance().on("online",l.onOnline_,ea(l)),l}return $i(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(CS(i)),tS(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new dS,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),tS(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),tS(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=AS(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=AS(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),tS(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+CS(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):rO("Unrecognized action received from server: "+CS(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;tS(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vL,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vL,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vL),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=a_(r_().mark((function e(){var t,r,i,a,o,s,u,c,l,f,h,d,p,v,m=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){tS(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=Qe(h,2),p=d[0],v=d[1],s?tO("getToken() completed but was canceled"):(tO("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new HO(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){aO(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&aO(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){tO("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){tO("Resuming connection for reason: "+e),delete this.interruptReasons_[e],NS(this.interruptReasons_)&&(this.reconnectDelay_=vL,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return hO(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new XO(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){tO("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){tO("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=nt(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=nt(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";wS()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+UD.replace(/\./g,"-")]=1,mS()?e["framework.cordova"]=1:bS()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=QO.getInstance().currentlyOnline();return NS(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&RS(e,"w")){var n=PS(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();aO("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(GO);yL.nextPersistentConnectionId_=0,yL.nextConnectionId_=0;var gL,bL=function(){function e(t,n){Xi(this,e),this.name=t,this.node=n}return $i(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),kL=function(){function e(){Xi(this,e)}return $i(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new bL(sO,e),r=new bL(sO,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return bL.MIN}}]),e}(),wL=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"compare",value:function(e,t){return cO(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw nS("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return bL.MIN}},{key:"maxPost",value:function(){return new bL(uO,gL)}},{key:"makePost",value:function(e,t){return tS("string"===typeof e,"KeyIndex indexValue must always be a string."),new bL(e,gL)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return gL},set:function(e){gL=e}}]),n}(kL),_L=new wL,xL=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Xi(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return $i(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),SL=function(){function e(t,n,r,i,a){Xi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:IL.EMPTY_NODE,this.right=null!=a?a:IL.EMPTY_NODE}return $i(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return IL.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return IL.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();SL.RED=!0,SL.BLACK=!1;var EL,TL=function(){function e(){Xi(this,e)}return $i(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new SL(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),IL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Xi(this,e),this.comparator_=t,this.root_=n}return $i(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,SL.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,SL.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new xL(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new xL(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new xL(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new xL(this.root_,null,this.comparator_,!0,e)}}]),e}();function CL(e,t){return cO(e.name,t.name)}function AL(e,t){return cO(e,t)}IL.EMPTY_NODE=new TL;var RL,PL,NL,DL=function(e){return"number"===typeof e?"number:"+vO(e):"string:"+e},OL=function(e){if(e.isLeafNode()){var t=e.val();tS("string"===typeof t||"number"===typeof t||"object"===typeof t&&RS(t,".sv"),"Priority must be a string or number.")}else tS(e===EL||e.isEmpty(),"priority of unexpected type.");tS(e===EL||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},LL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Xi(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,tS(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),OL(this.priorityNode_)}return $i(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return oL(t)?this:".priority"===ZO(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=ZO(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(tS(".priority"!==r||1===eL(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(tL(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+DL(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?vO(this.value_):this.value_,this.lazyHash_=$D(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(tS(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return tS(i>=0,"Unknown leaf type: "+n),tS(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return RL},set:function(e){RL=e}}]),e}();LL.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ML,FL,jL=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?cO(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return bL.MIN}},{key:"maxPost",value:function(){return new bL(uO,new LL("[PRIORITY-POST]",NL))}},{key:"makePost",value:function(e,t){var n=PL(e);return new bL(t,new LL("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(kL),VL=new jL,BL=Math.log(2),UL=function(){function e(t){Xi(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/BL,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return $i(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),zL=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new SL(o,a.node,SL.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new SL(o,a.node,SL.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new SL(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,SL.BLACK):(s(f,SL.BLACK),s(f,SL.RED))}return a}(new UL(e.length));return new IL(r||t,a)},qL={},WL=function(){function e(t,n){Xi(this,e),this.indexes_=t,this.indexSet_=n}return $i(e,[{key:"get",value:function(e){var t=PS(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof IL?t:null}},{key:"hasIndex",value:function(e){return RS(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){tS(t!==_L,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(bL.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?zL(i,t.getCompare()):qL;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=DS(this.indexes_,(function(e,i){var a=PS(r.indexSet_,i);if(tS(a,"Missing index implementation for "+i),e===qL){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(bL.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),zL(o,a.getCompare())}return qL}var c=n.get(t.name),l=e;return c&&(l=l.remove(new bL(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(DS(this.indexes_,(function(e){if(e===qL)return e;var r=n.get(t.name);return r?e.remove(new bL(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return tS(qL&&VL,"ChildrenNode.ts has not been loaded"),ML=ML||new e({".priority":qL},{".priority":VL})}}]),e}(),HL=function(){function e(t,n,r){Xi(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OL(this.priorityNode_),this.children_.isEmpty()&&tS(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return $i(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||FL}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?FL:t}},{key:"getChild",value:function(e){var t=ZO(e);return null===t?this:this.getImmediateChild(t).getChild(tL(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(tS(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new bL(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?FL:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=ZO(e);if(null===n)return t;tS(".priority"!==ZO(e)||1===eL(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(tL(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(VL,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+DL(this.getPriority().val())+":"),this.forEachChild(VL,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":$D(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new bL(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new bL(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new bL(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,bL.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,bL.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===GL?-1:0}},{key:"withIndex",value:function(t){if(t===_L||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===_L||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(VL),r=t.getIterator(VL),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===_L?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return FL||(FL=new e(new IL(AL),null,WL.Default))}}]),e}();HL.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var GL=new(function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.call(this,new IL(AL),HL.EMPTY_NODE,WL.Default)}return $i(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return HL.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(HL));Object.defineProperties(bL,{MIN:{value:new bL(sO,HL.EMPTY_NODE)},MAX:{value:new bL(uO,GL)}}),wL.__EMPTY_NODE=HL.EMPTY_NODE,LL.__childrenNodeConstructor=HL,EL=GL,function(e){NL=e}(GL);var KL=!0;function QL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return HL.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),tS(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new LL(e,QL(t));if(e instanceof Array||!KL){var n=HL.EMPTY_NODE;return pO(e,(function(t,r){if(RS(e,t)&&"."!==t.substring(0,1)){var i=QL(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(QL(t))}var r=[],i=!1;if(pO(e,(function(e,t){if("."!==e.substring(0,1)){var n=QL(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new bL(e,n)))}})),0===r.length)return HL.EMPTY_NODE;var a=zL(r,CL,(function(e){return e.name}),AL);if(i){var o=zL(r,VL.getCompare());return new HL(a,QL(t),new WL({".priority":o},{".priority":VL}))}return new HL(a,QL(t),WL.Default)}!function(e){PL=e}(QL);var YL=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).indexPath_=e,tS(!oL(e)&&".priority"!==ZO(e),"Can't create PathIndex with empty path or .priority key"),r}return $i(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?cO(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=QL(e),r=HL.EMPTY_NODE.updateChild(this.indexPath_,n);return new bL(t,r)}},{key:"maxPost",value:function(){var e=HL.EMPTY_NODE.updateChild(this.indexPath_,GL);return new bL(uO,e)}},{key:"toString",value:function(){return rL(this.indexPath_,0).join("/")}}]),n}(kL),$L=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?cO(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return bL.MIN}},{key:"maxPost",value:function(){return bL.MAX}},{key:"makePost",value:function(e,t){var n=QL(e);return new bL(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(kL),XL=new $L;function JL(e){return{type:"value",snapshotNode:e}}function ZL(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function eM(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tM(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var nM=function(){function e(t){Xi(this,e),this.index_=t}return $i(e,[{key:"updateChild",value:function(e,t,n,r,i,a){tS(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(eM(t,o)):tS(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(ZL(t,n)):a.trackChildChange(tM(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(VL,(function(e,r){t.hasChild(e)||n.trackChildChange(eM(e,r))})),t.isLeafNode()||t.forEachChild(VL,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(tM(t,r,i))}else n.trackChildChange(ZL(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?HL.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),rM=function(){function e(t){Xi(this,e),this.indexedFilter_=new nM(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return $i(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new bL(t,n))||(n=HL.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=HL.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(HL.EMPTY_NODE);var i=this;return t.forEachChild(VL,(function(e,t){i.matches(new bL(e,t))||(r=r.updateImmediateChild(e,HL.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),iM=function(){function e(t){var n=this;Xi(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new rM(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return $i(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new bL(t,n))||(n=HL.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=HL.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=HL.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(HL.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,HL.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;tS(s.numChildren()===this.limit_,"");var u=new bL(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(tM(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(eM(t,f));var p=s.updateImmediateChild(t,HL.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(ZL(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(eM(c.name,c.node)),i.trackChildChange(ZL(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,HL.EMPTY_NODE)):e}}]),e}(),aM=function(){function e(){Xi(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=VL}return $i(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return tS(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return tS(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sO}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return tS(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return tS(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:uO}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return tS(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===VL}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function oM(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function sM(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function uM(e,t){var n=e.copy();return n.index_=t,n}function cM(e){var t,n={};if(e.isDefault())return n;if(e.index_===VL?t="$priority":e.index_===XL?t="$value":e.index_===_L?t="$key":(tS(e.index_ instanceof YL,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=CS(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=CS(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+CS(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=CS(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+CS(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function lM(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==VL&&(t.i=e.index_.toString()),t}var fM=function(e){st(n,e);var t=ta(n);function n(e,r,i,a){var o;return Xi(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=nO("p:rest:"),o.listens_={},o}return $i(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=cM(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),PS(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=cM(e._queryParams),r=e._path.toString(),i=new dS;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=Qe(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+MS(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=IS(c.responseText)}catch(n){aO("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&aO("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(tS(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(GO),hM=function(){function e(){Xi(this,e),this.rootNode_=HL.EMPTY_NODE}return $i(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function dM(){return{value:null,children:new Map}}function pM(e,t,n){if(oL(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ZO(t);e.children.has(r)||e.children.set(r,dM()),pM(e.children.get(r),t=tL(t),n)}}function vM(e,t){if(oL(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(VL,(function(t,n){pM(e,new XO(t),n)})),vM(e,t)}if(e.children.size>0){var r=ZO(t);if(t=tL(t),e.children.has(r))vM(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function mM(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){mM(r,new XO(t.toString()+"/"+e),n)}))}var yM,gM=function(){function e(t){Xi(this,e),this.collection_=t,this.last_=null}return $i(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&pO(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),bM=1e4,kM=3e4,wM=function(){function e(t,n){Xi(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new gM(t);var r=bM+(kM-bM)*Math.random();kO(this.reportStats_.bind(this),Math.floor(r))}return $i(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;pO(t,(function(t,i){i>0&&RS(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),kO(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function _M(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(yM||(yM={}));var xM,SM=function(){function e(t,n,r){Xi(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=yM.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return $i(e,[{key:"operationForChild",value:function(t){if(oL(this.path)){if(null!=this.affectedTree.value)return tS(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new XO(t));return new e(JO(),n,this.revert)}return tS(ZO(this.path)===t,"operationForChild called for unrelated child."),new e(tL(this.path),this.affectedTree,this.revert)}}]),e}(),EM=function(){function e(t,n){Xi(this,e),this.source=t,this.path=n,this.type=yM.LISTEN_COMPLETE}return $i(e,[{key:"operationForChild",value:function(t){return oL(this.path)?new e(this.source,JO()):new e(this.source,tL(this.path))}}]),e}(),TM=function(){function e(t,n,r){Xi(this,e),this.source=t,this.path=n,this.snap=r,this.type=yM.OVERWRITE}return $i(e,[{key:"operationForChild",value:function(t){return oL(this.path)?new e(this.source,JO(),this.snap.getImmediateChild(t)):new e(this.source,tL(this.path),this.snap)}}]),e}(),IM=function(){function e(t,n,r){Xi(this,e),this.source=t,this.path=n,this.children=r,this.type=yM.MERGE}return $i(e,[{key:"operationForChild",value:function(t){if(oL(this.path)){var n=this.children.subtree(new XO(t));return n.isEmpty()?null:n.value?new TM(this.source,JO(),n.value):new e(this.source,JO(),n)}return tS(ZO(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,tL(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),CM=function(){function e(t,n,r){Xi(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return $i(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(oL(e))return this.isFullyInitialized()&&!this.filtered_;var t=ZO(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),AM=$i((function e(t){Xi(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function RM(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw nS("Should only compare child_ events.");var r=new bL(t.childName,t.snapshotNode),i=new bL(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function PM(e,t){return{eventCache:e,serverCache:t}}function NM(e,t,n,r){return PM(new CM(t,n,r),e.serverCache)}function DM(e,t,n,r){return PM(e.eventCache,new CM(t,n,r))}function OM(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function LM(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var MM=function(){return xM||(xM=new IL(lO)),xM},FM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:MM();Xi(this,e),this.value=t,this.children=n}return $i(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:JO(),value:this.value};if(oL(e))return null;var n=ZO(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(tL(e),t);return null!=i?{path:aL(new XO(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(oL(t))return this;var n=ZO(t),r=this.children.get(n);return null!==r?r.subtree(tL(t)):new e(null)}},{key:"set",value:function(t,n){if(oL(t))return new e(n,this.children);var r=ZO(t),i=(this.children.get(r)||new e(null)).set(tL(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(oL(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ZO(t),r=this.children.get(n);if(r){var i,a=r.remove(tL(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(oL(e))return this.value;var t=ZO(e),n=this.children.get(t);return n?n.get(tL(e)):null}},{key:"setTree",value:function(t,n){if(oL(t))return n;var r,i=ZO(t),a=(this.children.get(i)||new e(null)).setTree(tL(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(JO(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(aL(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,JO(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(oL(e))return null;var i=ZO(e),a=this.children.get(i);return a?a.findOnPath_(tL(e),aL(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,JO(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(oL(t))return this;this.value&&r(n,this.value);var i=ZO(t),a=this.children.get(i);return a?a.foreachOnPath_(tL(t),aL(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(JO(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(aL(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return pO(t,(function(e,t){n=n.set(new XO(e),t)})),n}}]),e}(),jM=function(){function e(t){Xi(this,e),this.writeTree_=t}return $i(e,null,[{key:"empty",value:function(){return new e(new FM(null))}}]),e}();function VM(e,t,n){if(oL(t))return new jM(new FM(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=sL(i,t);return a=a.updateChild(o,n),new jM(e.writeTree_.set(i,a))}var s=new FM(n),u=e.writeTree_.setTree(t,s);return new jM(u)}function BM(e,t,n){var r=e;return pO(n,(function(e,n){r=VM(r,aL(t,e),n)})),r}function UM(e,t){if(oL(t))return jM.empty();var n=e.writeTree_.setTree(t,new FM(null));return new jM(n)}function zM(e,t){return null!=qM(e,t)}function qM(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(sL(n.path,t)):null}function WM(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(VL,(function(e,n){t.push(new bL(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new bL(e,n.value))})),t}function HM(e,t){if(oL(t))return e;var n=qM(e,t);return new jM(null!=n?new FM(n):e.writeTree_.subtree(t))}function GM(e){return e.writeTree_.isEmpty()}function KM(e,t){return QM(JO(),e.writeTree_,t)}function QM(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(tS(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=QM(aL(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(aL(e,".priority"),r)),n}function YM(e,t){return uF(t,e)}function $M(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));tS(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&XM(s,r.path)?i=!1:lL(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=ZM(e.allWrites,JM,JO()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=UM(e.visibleWrites,r.path):pO(r.children,(function(t){e.visibleWrites=UM(e.visibleWrites,aL(r.path,t))}));return!0}return!1}function XM(e,t){if(e.snap)return lL(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&lL(aL(e.path,n),t))return!0;return!1}function JM(e){return e.visible}function ZM(e,t,n){for(var r=jM.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)lL(n,o)?r=VM(r,s=sL(n,o),a.snap):lL(o,n)&&(s=sL(o,n),r=VM(r,JO(),a.snap.getChild(s)));else{if(!a.children)throw nS("WriteRecord should have .snap or .children");if(lL(n,o))r=BM(r,s=sL(n,o),a.children);else if(lL(o,n))if(oL(s=sL(o,n)))r=BM(r,JO(),a.children);else{var u=PS(a.children,ZO(s));if(u){var c=u.getChild(tL(s));r=VM(r,JO(),c)}}}}}return r}function eF(e,t,n,r,i){if(r||i){var a=HM(e.visibleWrites,t);if(!i&&GM(a))return n;if(i||null!=n||zM(a,JO())){return KM(ZM(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(lL(e.path,t)||lL(t,e.path))}),t),n||HL.EMPTY_NODE)}return null}var o=qM(e.visibleWrites,t);if(null!=o)return o;var s=HM(e.visibleWrites,t);return GM(s)?n:null!=n||zM(s,JO())?KM(s,n||HL.EMPTY_NODE):null}function tF(e,t,n,r){return eF(e.writeTree,e.treePath,t,n,r)}function nF(e,t){return function(e,t,n){var r=HL.EMPTY_NODE,i=qM(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(VL,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=HM(e.visibleWrites,t);return n.forEachChild(VL,(function(e,t){var n=KM(HM(a,new XO(e)),t);r=r.updateImmediateChild(e,n)})),WM(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return WM(HM(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function rF(e,t,n,r){return function(e,t,n,r,i){tS(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=aL(t,n);if(zM(e.visibleWrites,a))return null;var o=HM(e.visibleWrites,a);return GM(o)?i.getChild(n):KM(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function iF(e,t){return function(e,t){return qM(e.visibleWrites,t)}(e.writeTree,aL(e.treePath,t))}function aF(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=HM(e.visibleWrites,t),c=qM(u,JO());if(null!=c)s=c;else{if(null==n)return[];s=KM(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function oF(e,t,n){return function(e,t,n,r){var i=aL(t,n),a=qM(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?KM(HM(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function sF(e,t){return uF(aL(e.treePath,t),e.writeTree)}function uF(e,t){return{treePath:e,writeTree:t}}var cF=function(){function e(){Xi(this,e),this.changeMap=new Map}return $i(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;tS("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),tS(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,tM(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,eM(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ZL(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw nS("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,tM(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),lF=new(function(){function e(){Xi(this,e)}return $i(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),fF=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Xi(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return $i(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new CM(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oF(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:LM(this.viewCache_),i=aF(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function hF(e,t,n,r,i){var a,o,s=new cF;if(n.type===yM.OVERWRITE){var u=n;u.source.fromUser?a=vF(e,t,u.path,u.snap,r,i,s):(tS(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!oL(u.path),a=pF(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===yM.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=aL(n,r);mF(t,ZO(c))&&(s=vF(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=aL(n,r);mF(t,ZO(c))||(s=vF(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(tS(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=gF(e,t,c.path,c.children,r,i,o,s))}else if(n.type===yM.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=iF(r,n))return t;var s,u=new fF(r,t,i),c=t.eventCache.getNode();if(oL(n)||".priority"===ZO(n)){var l;if(t.serverCache.isFullyInitialized())l=tF(r,LM(t));else{var f=t.serverCache.getNode();tS(f instanceof HL,"serverChildren would be complete if leaf node"),l=nF(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=ZO(n),d=oF(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,tL(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,HL.EMPTY_NODE,tL(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=tF(r,LM(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=iF(r,JO()),NM(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=iF(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(oL(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return pF(e,t,n,u.getNode().getChild(n),i,a,s,o);if(oL(n)){var c=new FM(null);return u.getNode().forEachChild(_L,(function(e,t){c=c.set(new XO(e),t)})),gF(e,t,n,c,i,a,s,o)}return t}var l=new FM(null);return r.foreach((function(e,t){var r=aL(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),gF(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==yM.LISTEN_COMPLETE)throw nS("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=DM(t,a.getNode(),a.isFullyInitialized()||oL(n),a.isFiltered());return dF(e,o,n,r,lF,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=OM(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(JL(OM(t)))}}(t,a,f),{viewCache:a,changes:f}}function dF(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=iF(r,n))return t;if(oL(n))if(tS(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=LM(t),l=nF(r,c instanceof HL?c:HL.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=tF(r,LM(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=ZO(n);if(".priority"===h){tS(1===eL(n),"Can't have a priority with additional path components");var d=u.getNode(),p=rF(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=tL(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=rF(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=oF(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return NM(t,o,u.isFullyInitialized()||oL(n),e.filter.filtersNodes())}function pF(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(oL(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=ZO(n);if(!c.isCompleteForPath(n)&&eL(n)>1)return t;var d=tL(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,lF,null)}var v=DM(t,u,c.isFullyInitialized()||oL(n),l.filtersNodes());return dF(e,v,n,i,new fF(i,v,a),s)}function vF(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new fF(i,t,a);if(oL(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=NM(t,u,!0,e.filter.filtersNodes());else{var f=ZO(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=NM(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=tL(n),p=c.getNode().getImmediateChild(f);if(oL(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===nL(d)&&v.getChild(iL(d)).isEmpty()?v:v.updateChild(d,r):HL.EMPTY_NODE}if(p.equals(h))s=t;else s=NM(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function mF(e,t){return e.eventCache.isCompleteForChild(t)}function yF(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function gF(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=oL(n)?r:new FM(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=yF(0,t.serverCache.getNode().getImmediateChild(n),r);c=pF(e,c,new XO(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=yF(0,t.serverCache.getNode().getImmediateChild(n),r);c=pF(e,c,new XO(n),f,i,a,o,s)}})),c}var bF,kF=function(){function e(t,n){Xi(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new nM(i.getIndex()),o=(r=i).loadsAllData()?new nM(r.getIndex()):r.hasLimit()?new iM(r):new rM(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(HL.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(HL.EMPTY_NODE,u.getNode(),null),f=new CM(c,s.isFullyInitialized(),a.filtersNodes()),h=new CM(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=PM(h,f),this.eventGenerator_=new AM(this.query_)}return $i(e,[{key:"query",get:function(){return this.query_}}]),e}();function wF(e,t){var n=LM(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!oL(t)&&!n.getImmediateChild(ZO(t)).isEmpty())?n.getChild(t):null}function _F(e){return 0===e.eventRegistrations_.length}function xF(e,t,n){var r=[];if(n){tS(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function SF(e,t,n,r){t.type===yM.MERGE&&null!==t.source.queryId&&(tS(LM(e.viewCache_),"We should always have a full cache before handling merges"),tS(OM(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=hF(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,tS(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),tS(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),tS(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,EF(e,s.changes,s.viewCache.eventCache.getNode(),null)}function EF(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),RM(e,i,"child_removed",t,r,n),RM(e,i,"child_added",t,r,n),RM(e,i,"child_moved",a,r,n),RM(e,i,"child_changed",t,r,n),RM(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var TF,IF=$i((function e(){Xi(this,e),this.views=new Map}));function CF(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return tS(null!=a,"SyncTree gave us an op for an invalid query."),SF(a,t,n,r)}var o,s=[],u=nt(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(SF(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function AF(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=tF(n,i?r:null),u=!1;s?u=!0:r instanceof HL?(s=nF(n,r),u=!1):(s=HL.EMPTY_NODE,u=!1);var c=PM(new CM(s,u,!1),new CM(r,i,!1));return new kF(t,c)}return o}function RF(e,t,n,r,i,a){var o=AF(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(VL,(function(e,t){r.push(ZL(e,t))})),n.isFullyInitialized()&&r.push(JL(n.getNode())),EF(e,r,n.getNode(),t)}(o,n)}function PF(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=MF(e);if("default"===i){var u,c=nt(e.views.entries());try{for(c.s();!(u=c.n()).done;){var l=Qe(u.value,2),f=l[0],h=l[1];o=o.concat(xF(h,n,r)),_F(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(p){c.e(p)}finally{c.f()}}else{var d=e.views.get(i);d&&(o=o.concat(xF(d,n,r)),_F(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||a.push(d.query)))}return s&&!MF(e)&&a.push(new(tS(bF,"Reference.ts has not been loaded"),bF)(t._repo,t._path)),{removed:a,events:o}}function NF(e){var t,n=[],r=nt(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function DF(e,t){var n,r=null,i=nt(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||wF(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function OF(e,t){if(t._queryParams.loadsAllData())return FF(e);var n=t._queryIdentifier;return e.views.get(n)}function LF(e,t){return null!=OF(e,t)}function MF(e){return null!=FF(e)}function FF(e){var t,n=nt(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var jF=1,VF=$i((function e(t){Xi(this,e),this.listenProvider_=t,this.syncPointTree_=new FM(null),this.pendingWriteTree_={visibleWrites:jM.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function BF(e,t,n,r,i){return function(e,t,n,r,i){tS(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=VM(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?YF(e,new TM({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function UF(e,t,n,r){!function(e,t,n,r){tS(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=BM(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=FM.fromObject(n);return YF(e,new IM({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function zF(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if($M(e.pendingWriteTree_,t)){var i=new FM(null);return null!=r.snap?i=i.set(JO(),!0):pO(r.children,(function(e){i=i.set(new XO(e),!0)})),YF(e,new SM(r.path,i,n))}return[]}function qF(e,t,n){return YF(e,new TM({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function WF(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||LF(o,t))){var u=PF(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return MF(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&MF(t))return[FF(t)];var r=[];return t&&(r=NF(t)),pO(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],m=v.query,y=JF(e,v);e.listenProvider_.startListening(ij(m),ZF(e,m),y.hashFn,y.onComplete)}}if(!f&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(ij(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(ej(t));e.listenProvider_.stopListening(ij(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=ej(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function HF(e,t,n,r){var i=tj(e,r);if(null!=i){var a=nj(i),o=a.path,s=a.queryId,u=sL(o,t);return rj(e,o,new TM(_M(s),u,n))}return[]}function GF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=sL(e,i);a=a||DF(t,n),o=o||MF(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||MF(u),a=a||DF(u,JO())):(u=new IF,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=HL.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=DF(t,JO());n&&(a=a.updateImmediateChild(e,n))})));var c=LF(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=ej(t);tS(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=jF++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=RF(u,t,n,YM(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=OF(u,t);h=h.concat(function(e,t,n){var r=t._path,i=ZF(e,t),a=JF(e,n),o=e.listenProvider_.startListening(ij(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)tS(!MF(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!oL(e)&&t&&MF(t))return[FF(t).query];var r=[];return t&&(r=r.concat(NF(t).map((function(e){return e.query})))),pO(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(ij(l),ZF(e,l))}return o}(e,t,d))}return h}function KF(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=DF(n,sL(e,t));if(r)return r}));return eF(r,t,i,n,!0)}function QF(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=sL(e,n);r=r||DF(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||DF(i,JO()):(i=new IF,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new CM(r,!0,!1):null;return function(e){return OM(e.viewCache_)}(AF(i,t,YM(e.pendingWriteTree_,t._path),a?o.getNode():HL.EMPTY_NODE,a))}function YF(e,t){return $F(t,e.syncPointTree_,null,YM(e.pendingWriteTree_,JO()))}function $F(e,t,n,r){if(oL(e.path))return XF(e,t,n,r);var i=t.get(JO());null==n&&null!=i&&(n=DF(i,JO()));var a=[],o=ZO(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=sF(r,o);a=a.concat($F(s,u,c,l))}return i&&(a=a.concat(CF(i,e,r,n))),a}function XF(e,t,n,r){var i=t.get(JO());null==n&&null!=i&&(n=DF(i,JO()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=sF(r,t),u=e.operationForChild(t);u&&(a=a.concat(XF(u,i,o,s)))})),i&&(a=a.concat(CF(i,e,r,n))),a}function JF(e,t){var n=t.query,r=ZF(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||HL.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=tj(e,n);if(r){var i=nj(r),a=i.path,o=i.queryId,s=sL(a,t);return rj(e,a,new EM(_M(o),s))}return[]}(e,n._path,r):function(e,t){return YF(e,new EM({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return WF(e,n,null,i)}}}function ZF(e,t){var n=ej(t);return e.queryToTagMap.get(n)}function ej(e){return e._path.toString()+"$"+e._queryIdentifier}function tj(e,t){return e.tagToQueryMap.get(t)}function nj(e){var t=e.indexOf("$");return tS(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new XO(e.substr(0,t))}}function rj(e,t,n){var r=e.syncPointTree_.get(t);return tS(r,"Missing sync point for query tag that we're tracking"),CF(r,n,YM(e.pendingWriteTree_,t),null)}function ij(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(tS(TF,"Reference.ts has not been loaded"),TF)(e._repo,e._path):e}var aj=function(){function e(t){Xi(this,e),this.node_=t}return $i(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),oj=function(){function e(t,n){Xi(this,e),this.syncTree_=t,this.path_=n}return $i(e,[{key:"getImmediateChild",value:function(t){var n=aL(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return KF(this.syncTree_,this.path_)}}]),e}(),sj=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},uj=function(e,t,n){return e&&"object"===typeof e?(tS(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?cj(e[".sv"],t,n):"object"===typeof e[".sv"]?lj(e[".sv"],t):void tS(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},cj=function(e,t,n){if("timestamp"===e)return n.timestamp;tS(!1,"Unexpected server value: "+e)},lj=function(e,t,n){e.hasOwnProperty("increment")||tS(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&tS(!1,"Unexpected increment value: "+r);var i=t.node();if(tS(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},fj=function(e,t,n,r){return dj(t,new oj(n,e),r)},hj=function(e,t,n){return dj(e,new aj(t),n)};function dj(e,t,n){var r,i=e.getPriority().val(),a=uj(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=uj(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new LL(s,QL(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new LL(a))),u.forEachChild(VL,(function(e,i){var a=dj(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var pj=$i((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Xi(this,e),this.name=t,this.parent=n,this.node=r}));function vj(e,t){for(var n=t instanceof XO?t:new XO(t),r=e,i=ZO(n);null!==i;){var a=PS(r.node.children,i)||{children:{},childCount:0};r=new pj(i,r,a),i=ZO(n=tL(n))}return r}function mj(e){return e.node.value}function yj(e,t){e.node.value=t,_j(e)}function gj(e){return e.node.childCount>0}function bj(e,t){pO(e.node.children,(function(n,r){t(new pj(n,e,r))}))}function kj(e,t,n,r){n&&!r&&t(e),bj(e,(function(e){kj(e,t,!0,r)})),n&&r&&t(e)}function wj(e){return new XO(null===e.parent?e.name:wj(e.parent)+"/"+e.name)}function _j(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===mj(e)&&!gj(e)}(n),i=RS(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,_j(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,_j(e))}(e.parent,e.name,e)}var xj=/[\[\].#$\/\u0000-\u001F\u007F]/,Sj=/[\[\].#$\u0000-\u001F\u007F]/,Ej=10485760,Tj=function(e){return"string"===typeof e&&0!==e.length&&!xj.test(e)},Ij=function(e){return"string"===typeof e&&0!==e.length&&!Sj.test(e)},Cj=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!oO(e)||e&&"object"===typeof e&&RS(e,".sv")},Aj=function(e,t,n,r){r&&void 0===t||Rj(WS(e,"value"),t,n)},Rj=function e(t,n,r){var i=r instanceof XO?new fL(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+dL(i));if("function"===typeof n)throw new Error(t+"contains a function "+dL(i)+" with contents = "+n.toString());if(oO(n))throw new Error(t+"contains "+n.toString()+" "+dL(i));if("string"===typeof n&&n.length>Ej/3&&KS(n)>Ej)throw new Error(t+"contains a string greater than "+Ej+" utf8 bytes "+dL(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(pO(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Tj(n)))throw new Error(t+" contains an invalid key ("+n+") "+dL(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=KS(u),hL(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=KS(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+dL(i)+" in addition to actual children.")}},Pj=function(e,t,n,r){if(!r||void 0!==t){var i=WS(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];pO(t,(function(e,t){var r=new XO(e);if(Rj(i,t,aL(n,r)),".priority"===nL(r)&&!Cj(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=rL(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Tj(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(uL);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&lL(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Nj=function(e,t,n){if(!n||void 0!==t){if(oO(t))throw new Error(WS(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Cj(t))throw new Error(WS(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dj=function(e,t,n,r){if((!r||void 0!==n)&&!Tj(n))throw new Error(WS(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Oj=function(e,t,n,r){if((!r||void 0!==n)&&!Ij(n))throw new Error(WS(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lj=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Oj(e,t,n,r)},Mj=function(e,t){if(".info"===ZO(t))throw new Error(e+" failed = Can't modify data under /.info/")},Fj=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Tj(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ij(e)}(n))throw new Error(WS(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},jj=$i((function e(){Xi(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Vj(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||cL(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Bj(e,t,n){Vj(e,n),zj(e,(function(e){return cL(e,t)}))}function Uj(e,t,n){Vj(e,n),zj(e,(function(e){return lL(e,t)||lL(t,e)}))}function zj(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(qj(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function qj(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();JD&&tO("event: "+n.toString()),gO(r)}}}var Wj="repo_interrupt",Hj=25,Gj=function(){function e(t,n,r,i){Xi(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dM(),this.transactionQueueTree_=new pj,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return $i(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Kj(e,t,n){if(e.stats_=OO(e.repoInfo_),e.forceRestClient_||bO())e.server_=new fM(e.repoInfo_,(function(t,n,r,i){$j(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Xj(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{CS(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new yL(e.repoInfo_,t,(function(t,n,r,i){$j(e,t,n,r,i)}),(function(t){Xj(e,t)}),(function(t){!function(e,t){pO(t,(function(t,n){Jj(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return DO[n]||(DO[n]=t()),DO[n]}(e.repoInfo_,(function(){return new wM(e.stats_,e.server_)})),e.infoData_=new hM,e.infoSyncTree_=new VF({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=qF(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Jj(e,"connected",!1),e.serverSyncTree_=new VF({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Uj(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Qj(e){var t=e.infoData_.getNode(new XO(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Yj(e){return sj({timestamp:Qj(e)})}function $j(e,t,n,r,i){e.dataUpdateCount++;var a=new XO(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=DS(n,(function(e){return QL(e)}));o=function(e,t,n,r){var i=tj(e,r);if(i){var a=nj(i),o=a.path,s=a.queryId,u=sL(o,t),c=FM.fromObject(n);return rj(e,o,new IM(_M(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=QL(n);o=HF(e.serverSyncTree_,a,u,i)}else if(r){var c=DS(n,(function(e){return QL(e)}));o=function(e,t,n){var r=FM.fromObject(n);return YF(e,new IM({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=QL(n);o=qF(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=cV(e,a)),Uj(e.eventQueue_,f,o)}function Xj(e,t){Jj(e,"connected",t),!1===t&&function(e){aV(e,"onDisconnectEvents");var t=Yj(e),n=dM();mM(e.onDisconnect_,JO(),(function(r,i){var a=fj(r,i,e.serverSyncTree_,t);pM(n,r,a)}));var r=[];mM(n,JO(),(function(t,n){r=r.concat(qF(e.serverSyncTree_,t,n));var i=pV(e,t);cV(e,i)})),e.onDisconnect_=dM(),Uj(e.eventQueue_,JO(),r)}(e)}function Jj(e,t,n){var r=new XO("/.info/"+t),i=QL(n);e.infoData_.updateSnapshot(r,i);var a=qF(e.infoSyncTree_,r,i);Uj(e.eventQueue_,r,a)}function Zj(e){return e.nextWriteId_++}function eV(e,t,n,r,i){aV(e,"set",{path:t.toString(),value:n,priority:r});var a=Yj(e),o=QL(n,r),s=KF(e.serverSyncTree_,t),u=hj(o,s,a),c=Zj(e),l=BF(e.serverSyncTree_,t,u,c,!0);Vj(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||aO("set at "+t+" failed: "+n);var o=zF(e.serverSyncTree_,c,!a);Uj(e.eventQueue_,t,o),oV(e,i,n,r)}));var f=pV(e,t);cV(e,f),Uj(e.eventQueue_,f,[])}function tV(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&vM(e.onDisconnect_,t),oV(e,n,r,i)}))}function nV(e,t,n,r){var i=QL(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&pM(e.onDisconnect_,t,i),oV(e,r,n,a)}))}function rV(e,t,n){var r;r=".info"===ZO(t._path)?WF(e.infoSyncTree_,t,n):WF(e.serverSyncTree_,t,n),Bj(e.eventQueue_,t._path,r)}function iV(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Wj)}function aV(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];tO.apply(void 0,[t].concat(r))}function oV(e,t,n,r){t&&gO((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function sV(e,t,n){return KF(e.serverSyncTree_,t,n)||HL.EMPTY_NODE}function uV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||dV(e,t),mj(t)){var n=fV(e,t);tS(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=sV(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];tS(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=sL(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){aV(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(zF(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);dV(e,vj(e.transactionQueueTree_,t)),uV(e,e.transactionQueueTree_),Uj(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)gO(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{aO("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}cV(e,t)}}),o)}(e,wj(t),n)}else gj(t)&&bj(t,(function(t){uV(e,t)}))}function cV(e,t){var n=lV(e,t),r=wj(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=sL(n,c.path),f=!1;if(tS(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(zF(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Hj)f=!0,s="maxretry",i=i.concat(zF(e.serverSyncTree_,c.currentWriteId,!0));else{var h=sV(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){Rj("transaction failed: Data returned ",d,c.path);var p=QL(d);"object"===typeof d&&null!=d&&RS(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,m=Yj(e),y=hj(p,h,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=Zj(e),o.splice(o.indexOf(v),1),i=(i=i.concat(BF(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(zF(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(zF(e.serverSyncTree_,c.currentWriteId,!0))}Uj(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);dV(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)gO(r[c]);uV(e,e.transactionQueueTree_)}(e,fV(e,n),r),r}function lV(e,t){var n,r=e.transactionQueueTree_;for(n=ZO(t);null!==n&&void 0===mj(r);)r=vj(r,n),n=ZO(t=tL(t));return r}function fV(e,t){var n=[];return hV(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function hV(e,t,n){var r=mj(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);bj(t,(function(t){hV(e,t,n)}))}function dV(e,t){var n=mj(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,yj(t,n.length>0?n:void 0)}bj(t,(function(t){dV(e,t)}))}function pV(e,t){var n=wj(lV(e,t)),r=vj(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){vV(e,t)})),vV(e,r),kj(r,(function(t){vV(e,t)})),n}function vV(e,t){var n=mj(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(tS(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(tS(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zF(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?yj(t,void 0):n.length=a+1,Uj(e.eventQueue_,wj(t),i);for(var s=0;s<r.length;s++)gO(r[s])}}var mV=function(e,t){var n=yV(e),r=n.namespace;"firebase.com"===n.domain&&iO(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||iO("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&aO("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new AO(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new XO(n.pathString)}},yV=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=nt(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):aO("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},gV="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bV=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=gV.charAt(n%64),n=Math.floor(n/64);tS(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=gV.charAt(t[r]);return tS(20===o.length,"nextPushId: Length should be 20."),o}}(),kV=function(){function e(t,n,r,i){Xi(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return $i(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+CS(this.snapshot.exportVal())}}]),e}(),wV=function(){function e(t,n,r){Xi(this,e),this.eventRegistration=t,this.error=n,this.path=r}return $i(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),_V=function(){function e(t,n){Xi(this,e),this.snapshotCallback=t,this.cancelCallback=n}return $i(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return tS(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),xV=function(){function e(t,n){Xi(this,e),this._repo=t,this._path=n}return $i(e,[{key:"cancel",value:function(){var e=new dS;return tV(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){Mj("OnDisconnect.remove",this._path);var e=new dS;return nV(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){Mj("OnDisconnect.set",this._path),Aj("OnDisconnect.set",e,this._path,!1);var t=new dS;return nV(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){Mj("OnDisconnect.setWithPriority",this._path),Aj("OnDisconnect.setWithPriority",e,this._path,!1),Nj("OnDisconnect.setWithPriority",t,!1);var n=new dS;return function(e,t,n,r,i){var a=QL(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&pM(e.onDisconnect_,t,a),oV(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){Mj("OnDisconnect.update",this._path),Pj("OnDisconnect.update",e,this._path,!1);var t=new dS;return function(e,t,n,r){if(NS(n))return tO("onDisconnect().update() called with empty data.  Don't do anything."),void oV(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&pO(n,(function(n,r){var i=QL(r);pM(e.onDisconnect_,aL(t,n),i)})),oV(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),SV=function(){function e(t,n,r,i){Xi(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return $i(e,[{key:"key",get:function(){return oL(this._path)?null:nL(this._path)}},{key:"ref",get:function(){return new CV(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=lM(this._queryParams),t=hO(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return lM(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=QS(t))instanceof e))return!1;var n=this._repo===t._repo,r=cL(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function EV(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function TV(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===_L){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==sO)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==uO)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===VL){if(null!=t&&!Cj(t)||null!=n&&!Cj(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(tS(e.getIndex()instanceof YL||e.getIndex()===XL,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function IV(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var CV=function(e){st(n,e);var t=ta(n);function n(e,r){return Xi(this,n),t.call(this,e,r,new aM,!1)}return $i(n,[{key:"parent",get:function(){var e=iL(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(SV),AV=function(){function e(t,n,r){Xi(this,e),this._node=t,this.ref=n,this._index=r}return $i(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new XO(t),r=NV(this.ref,t);return new e(this._node.getChild(n),r,VL)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,NV(n.ref,r),VL))}))}},{key:"hasChild",value:function(e){var t=new XO(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function RV(e,t){return(e=QS(e))._checkNotDeleted("ref"),void 0!==t?NV(e._root,t):e._root}function PV(e,t){(e=QS(e))._checkNotDeleted("refFromURL");var n=mV(t,e._repo.repoInfo_.nodeAdmin);Fj("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||iO("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),RV(e,n.path.toString())}function NV(e,t){return null===ZO((e=QS(e))._path)?Lj("child","path",t,!1):Oj("child","path",t,!1),new CV(e._repo,aL(e._path,t))}function DV(e,t){e=QS(e),Mj("set",e._path),Aj("set",t,e._path,!1);var n=new dS;return eV(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function OV(e,t){Pj("update",t,e._path,!1);var n=new dS;return function(e,t,n,r){aV(e,"update",{path:t.toString(),value:n});var i=!0,a=Yj(e),o={};if(pO(n,(function(n,r){i=!1,o[n]=fj(aL(t,n),QL(r),e.serverSyncTree_,a)})),i)tO("update() called with empty data.  Don't do anything."),oV(0,r,"ok",void 0);else{var s=Zj(e),u=UF(e.serverSyncTree_,t,o,s);Vj(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||aO("update at "+t+" failed: "+n);var o=zF(e.serverSyncTree_,s,!a),u=o.length>0?cV(e,t):t;Uj(e.eventQueue_,u,o),oV(0,r,n,i)})),pO(n,(function(n){var r=pV(e,aL(t,n));cV(e,r)})),Uj(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function LV(e){e=QS(e);var t=new _V((function(){})),n=new MV(t);return function(e,t,n){var r=QF(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=QL(r).withIndex(t._queryParams.getIndex());if(GF(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=qF(e.serverSyncTree_,t._path,a);else{var o=ZF(e.serverSyncTree_,t);i=HF(e.serverSyncTree_,t._path,a,o)}return Uj(e.eventQueue_,t._path,i),WF(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return aV(e,"get for query "+CS(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new AV(t,new CV(e._repo,e._path),e._queryParams.getIndex())}))}var MV=function(){function e(t){Xi(this,e),this.callbackContext=t}return $i(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new kV("value",this,new AV(e.snapshotNode,new CV(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new wV(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),FV=function(){function e(t,n){Xi(this,e),this.eventType=t,this.callbackContext=n}return $i(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new wV(this,e,t):null}},{key:"createEvent",value:function(e,t){tS(null!=e.childName,"Child events should have a childName.");var n=NV(new CV(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new kV(e.type,this,new AV(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function jV(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){rV(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new _V(n,a||void 0),c="value"===t?new MV(u):new FV(t,u);return function(e,t,n){var r;r=".info"===ZO(t._path)?GF(e.infoSyncTree_,t,n):GF(e.serverSyncTree_,t,n),Bj(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return rV(e._repo,e,c)}}function VV(e,t,n,r){return jV(e,"value",t,n,r)}function BV(e,t,n,r){return jV(e,"child_added",t,n,r)}function UV(e,t,n,r){return jV(e,"child_changed",t,n,r)}function zV(e,t,n,r){return jV(e,"child_moved",t,n,r)}function qV(e,t,n,r){return jV(e,"child_removed",t,n,r)}function WV(e,t,n){var r=null,i=n?new _V(n):null;"value"===t?r=new MV(i):t&&(r=new FV(t,i)),rV(e._repo,e,r)}var HV=$i((function e(){Xi(this,e)})),GV=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this))._value=e,i._key=r,i}return $i(n,[{key:"_apply",value:function(e){Aj("endAt",this._value,e._path,!0);var t=sM(e._queryParams,this._value,this._key);if(IV(t),TV(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new SV(e._repo,e._path,t,e._orderByCalled)}}]),n}(HV);var KV=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this))._value=e,i._key=r,i}return $i(n,[{key:"_apply",value:function(e){Aj("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===_L||n?sM(e,t,n):sM(e,t,sO)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(IV(t),TV(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new SV(e._repo,e._path,t,e._orderByCalled)}}]),n}(HV);var QV=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this))._value=e,i._key=r,i}return $i(n,[{key:"_apply",value:function(e){Aj("startAt",this._value,e._path,!0);var t=oM(e._queryParams,this._value,this._key);if(IV(t),TV(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new SV(e._repo,e._path,t,e._orderByCalled)}}]),n}(HV);var YV=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this))._value=e,i._key=r,i}return $i(n,[{key:"_apply",value:function(e){Aj("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===_L||n?oM(e,t,n):oM(e,t,uO)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(IV(t),TV(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new SV(e._repo,e._path,t,e._orderByCalled)}}]),n}(HV);var $V=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this))._limit=e,r}return $i(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new SV(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(HV);var XV=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this))._limit=e,r}return $i(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new SV(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(HV);var JV=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this))._path=e,r}return $i(n,[{key:"_apply",value:function(e){EV(e,"orderByChild");var t=new XO(this._path);if(oL(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new YL(t),r=uM(e._queryParams,n);return TV(r),new SV(e._repo,e._path,r,!0)}}]),n}(HV);var ZV=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"_apply",value:function(e){EV(e,"orderByKey");var t=uM(e._queryParams,_L);return TV(t),new SV(e._repo,e._path,t,!0)}}]),n}(HV);var eB=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"_apply",value:function(e){EV(e,"orderByPriority");var t=uM(e._queryParams,VL);return TV(t),new SV(e._repo,e._path,t,!0)}}]),n}(HV);var tB=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"_apply",value:function(e){EV(e,"orderByValue");var t=uM(e._queryParams,XL);return TV(t),new SV(e._repo,e._path,t,!0)}}]),n}(HV);var nB=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this))._value=e,i._key=r,i}return $i(n,[{key:"_apply",value:function(e){if(Aj("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GV(this._value,this._key)._apply(new QV(this._value,this._key)._apply(e))}}]),n}(HV);function rB(e){for(var t=QS(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){tS(!bF,"__referenceConstructor has already been defined"),bF=e}(CV),function(e){tS(!TF,"__referenceConstructor has already been defined"),TF=e}(CV);var iB="FIREBASE_DATABASE_EMULATOR_HOST",aB={},oB=!1;function sB(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||iO("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tO("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=mV(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/netflix_clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[iB]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=mV(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new xO(xO.OWNER):new _O(e.name,e.options,t);Fj("Invalid Firebase Database URL",s),oL(s.path)||iO("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=aB[t.name];i||(i={},aB[t.name]=i);var a=i[e.toURLString()];a&&iO("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Gj(e,oB,n,r),i[e.toURLString()]=a,a}(u,e,l,new wO(e.name,n));return new uB(f,e)}var uB=function(){function e(t,n){Xi(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return $i(e,[{key:"_repo",get:function(){return this._instanceStarted||(Kj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new CV(this._repo,JO())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=aB[t];n&&n[e.key]===e||iO("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),iV(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&iO("Cannot call "+e+" on a deleted database.")}}]),e}();function cB(){WO.IS_TRANSPORT_INITIALIZED&&aO("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function lB(){cB(),BO.forceDisallow()}function fB(){cB(),qO.forceDisallow(),BO.forceAllow()}function hB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=QS(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&iO("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&iO('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new xO(xO.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:pS(r.mockUserToken,e.app.options.projectId);a=new xO(o)}!function(e,t,n,r){e.repoInfo_=new AO("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function dB(e){var t;(e=QS(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Wj)}function pB(e,t){eO(e,t)}var vB={".sv":"timestamp"};var mB=function(){function e(t,n){Xi(this,e),this.committed=t,this.snapshot=n}return $i(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function yB(e,t,n){var r;if(e=QS(e),Mj("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new dS,o=VV(e,(function(){}));return function(e,t,n,r,i,a){aV(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:YD(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=sV(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Rj("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=vj(e.transactionQueueTree_,t),f=mj(l)||[];f.push(o),yj(l,f),"object"===typeof u&&null!==u&&RS(u,".priority")?(c=PS(u,".priority"),tS(Cj(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(KF(e.serverSyncTree_,t)||HL.EMPTY_NODE).getPriority().val();var h=Yj(e),d=QL(u,c),p=hj(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=Zj(e);var v=BF(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);Uj(e.eventQueue_,t,v),uV(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new AV(r,new CV(e._repo,e._path),VL),a.resolve(new mB(n,i)))}),o,i),a.promise}yL.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},yL.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){zD(WE),FE(new YS("database",(function(e,t){var n=t.instanceIdentifier;return sB(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),$E(VD,BD,e),$E(VD,BD,"esm2017")}();var gB="@firebase/database-compat",bB="0.3.3",kB=new sE("@firebase/database-compat"),wB=function(e){var t="FIREBASE WARNING: "+e;kB.warn(t)},_B=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(WS(e,t)+"must be a boolean.")},xB=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(WS(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},SB=function(){function e(t){Xi(this,e),this._delegate=t}return $i(e,[{key:"cancel",value:function(e){qS("OnDisconnect.cancel",0,1,arguments.length),HS("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){qS("OnDisconnect.remove",0,1,arguments.length),HS("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){qS("OnDisconnect.set",1,2,arguments.length),HS("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){qS("OnDisconnect.setWithPriority",2,3,arguments.length),HS("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(qS("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,wB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}HS("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),EB=function(){function e(t,n){Xi(this,e),this.committed=t,this.snapshot=n}return $i(e,[{key:"toJSON",value:function(){return qS("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),TB=function(){function e(t,n){Xi(this,e),this._database=t,this._delegate=n}return $i(e,[{key:"val",value:function(){return qS("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return qS("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return qS("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return qS("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return qS("DataSnapshot.child",0,1,arguments.length),t=String(t),Oj("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return qS("DataSnapshot.hasChild",1,1,arguments.length),Oj("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return qS("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return qS("DataSnapshot.forEach",1,1,arguments.length),HS("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return qS("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return qS("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return qS("DataSnapshot.ref",0,0,arguments.length),new CB(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),IB=function(){function e(t,n){Xi(this,e),this.database=t,this._delegate=n}return $i(e,[{key:"on",value:function(t,n,r,i){var a,o=this;qS("Query.on",2,4,arguments.length),HS("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new TB(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return VV(this._delegate,u,c),n;case"child_added":return BV(this._delegate,u,c),n;case"child_removed":return qV(this._delegate,u,c),n;case"child_changed":return UV(this._delegate,u,c),n;case"child_moved":return zV(this._delegate,u,c),n;default:throw new Error(WS("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(qS("Query.off",0,3,arguments.length),xB("Query.off",e,!0),HS("Query.off","callback",t,!0),GS("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,WV(this._delegate,e,r)}else WV(this._delegate,e)}},{key:"get",value:function(){var e=this;return LV(this._delegate).then((function(t){return new TB(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;qS("Query.once",1,4,arguments.length),HS("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new dS,u=function(e,t){var r=new TB(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":VV(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":BV(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":qV(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":UV(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":zV(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(WS("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return qS("Query.limitToFirst",1,1,arguments.length),new e(this.database,rB(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $V(e)}(t)))}},{key:"limitToLast",value:function(t){return qS("Query.limitToLast",1,1,arguments.length),new e(this.database,rB(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new XV(e)}(t)))}},{key:"orderByChild",value:function(t){return qS("Query.orderByChild",1,1,arguments.length),new e(this.database,rB(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Oj("orderByChild","path",e,!1),new JV(e)}(t)))}},{key:"orderByKey",value:function(){return qS("Query.orderByKey",0,0,arguments.length),new e(this.database,rB(this._delegate,new ZV))}},{key:"orderByPriority",value:function(){return qS("Query.orderByPriority",0,0,arguments.length),new e(this.database,rB(this._delegate,new eB))}},{key:"orderByValue",value:function(){return qS("Query.orderByValue",0,0,arguments.length),new e(this.database,rB(this._delegate,new tB))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return qS("Query.startAt",0,2,arguments.length),new e(this.database,rB(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Dj("startAt","key",t,!0),new QV(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return qS("Query.startAfter",0,2,arguments.length),new e(this.database,rB(this._delegate,function(e,t){return Dj("startAfter","key",t,!0),new YV(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return qS("Query.endAt",0,2,arguments.length),new e(this.database,rB(this._delegate,function(e,t){return Dj("endAt","key",t,!0),new GV(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return qS("Query.endBefore",0,2,arguments.length),new e(this.database,rB(this._delegate,function(e,t){return Dj("endBefore","key",t,!0),new KV(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return qS("Query.equalTo",1,2,arguments.length),new e(this.database,rB(this._delegate,function(e,t){return Dj("equalTo","key",t,!0),new nB(e,t)}(t,n)))}},{key:"toString",value:function(){return qS("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return qS("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(qS("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new CB(this.database,new CV(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,HS(e,"cancel",r.cancel,!0),r.context=n,GS(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(WS(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),CB=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,new SV(r._repo,r._path,new aM,!1))).database=e,i._delegate=r,i}return $i(n,[{key:"getKey",value:function(){return qS("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return qS("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,NV(this._delegate,e))}},{key:"getParent",value:function(){qS("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return qS("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){qS("Reference.set",1,2,arguments.length),HS("Reference.set","onComplete",t,!0);var n=DV(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(qS("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,wB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mj("Reference.update",this._delegate._path),HS("Reference.update","onComplete",t,!0);var i=OV(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){qS("Reference.setWithPriority",2,3,arguments.length),HS("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(Mj("setWithPriority",e._path),Aj("setWithPriority",t,e._path,!1),Nj("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new dS;return eV(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){qS("Reference.remove",0,1,arguments.length),HS("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,Mj("remove",t._path),DV(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;qS("Reference.transaction",1,3,arguments.length),HS("Reference.transaction","transactionUpdate",e,!1),HS("Reference.transaction","onComplete",t,!0),_B("Reference.transaction","applyLocally",n,!0);var i=yB(this._delegate,e,{applyLocally:n}).then((function(e){return new EB(e.committed,new TB(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){qS("Reference.setPriority",1,2,arguments.length),HS("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=QS(e),Mj("setPriority",e._path),Nj("setPriority",t,!1);var n=new dS;return eV(e._repo,aL(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;qS("Reference.push",0,2,arguments.length),HS("Reference.push","onComplete",t,!0);var i=function(e,t){e=QS(e),Mj("push",e._path),Aj("push",t,e._path,!0);var n,r=Qj(e._repo),i=bV(r),a=NV(e,i),o=NV(e,i);return n=null!=t?DV(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Mj("Reference.onDisconnect",this._delegate._path),new SB(new xV(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(IB),AB=function(){function e(t,n){var r=this;Xi(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:lB,forceLongPolling:fB}}return $i(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hB(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(qS("database.ref",0,1,arguments.length),e instanceof CB){var t=PV(this._delegate,e.toString());return new CB(this,t)}var n=RV(this._delegate,e);return new CB(this,n)}},{key:"refFromURL",value:function(e){qS("database.refFromURL",1,1,arguments.length);var t=PV(this._delegate,e);return new CB(this,t)}},{key:"goOffline",value:function(){return qS("database.goOffline",0,0,arguments.length),function(e){(e=QS(e))._checkNotDeleted("goOffline"),iV(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return qS("database.goOnline",0,0,arguments.length),dB(this._delegate)}}]),e}();AB.ServerValue={TIMESTAMP:vB,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var RB=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;zD(r);var u=new XS("auth-internal",new tE("database-standalone"));return u.setComponent(new YS("auth-internal",(function(){return i}),"PRIVATE")),{instance:new AB(sB(t,u,void 0,n,s),t),namespace:a}}}),PB=AB.ServerValue;!function(e){e.INTERNAL.registerComponent(new YS("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new AB(i,r)}),"PUBLIC").setServiceProps({Reference:CB,Query:IB,Database:AB,DataSnapshot:TB,enableLogging:pB,INTERNAL:RB,ServerValue:PB}).setMultipleInstances(!0)),e.registerVersion(gB,bB)}(ET);var NB,DB="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},OB={},LB=LB||{},MB=DB||self;function FB(){}function jB(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function VB(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var BB="closure_uid_"+(1e9*Math.random()>>>0),UB=0;function zB(e,t,n){return e.call.apply(e.bind,arguments)}function qB(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function WB(e,t,n){return(WB=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zB:qB).apply(null,arguments)}function HB(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function GB(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function KB(){this.s=this.s,this.o=this.o}KB.prototype.s=!1,KB.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,BB)&&e[BB]||(e[BB]=++UB)}(this)},KB.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var QB=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function YB(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $B(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(jB(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function XB(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}XB.prototype.h=function(){this.defaultPrevented=!0};var JB=function(){if(!MB.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{MB.addEventListener("test",FB,t),MB.removeEventListener("test",FB,t)}catch(jv){}return e}();function ZB(e){return/^[\s\xa0]*$/.test(e)}var eU=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function tU(e,t){return e<t?-1:e>t?1:0}function nU(){var e=MB.navigator;return e&&(e=e.userAgent)?e:""}function rU(e){return-1!=nU().indexOf(e)}function iU(e){return iU[" "](e),e}iU[" "]=FB;var aU,oU=rU("Opera"),sU=rU("Trident")||rU("MSIE"),uU=rU("Edge"),cU=uU||sU,lU=rU("Gecko")&&!(-1!=nU().toLowerCase().indexOf("webkit")&&!rU("Edge"))&&!(rU("Trident")||rU("MSIE"))&&!rU("Edge"),fU=-1!=nU().toLowerCase().indexOf("webkit")&&!rU("Edge");function hU(){var e=MB.document;return e?e.documentMode:void 0}e:{var dU="",pU=function(){var e=nU();return lU?/rv:([^\);]+)(\)|;)/.exec(e):uU?/Edge\/([\d\.]+)/.exec(e):sU?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fU?/WebKit\/(\S+)/.exec(e):oU?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(pU&&(dU=pU?pU[1]:""),sU){var vU=hU();if(null!=vU&&vU>parseFloat(dU)){aU=String(vU);break e}}aU=dU}var mU,yU={};function gU(){return function(e){var t=yU;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=eU(String(aU)).split("."),n=eU("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=tU(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||tU(0==a[2].length,0==o[2].length)||tU(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(MB.document&&sU){var bU=hU();mU=bU||(parseInt(aU,10)||void 0)}else mU=void 0;var kU=mU;function wU(e,t){if(XB.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(lU){e:{try{iU(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_U[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wU.X.h.call(this)}}GB(wU,XB);var _U={2:"touch",3:"pen",4:"mouse"};wU.prototype.h=function(){wU.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xU="closure_listenable_"+(1e6*Math.random()|0),SU=0;function EU(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++SU,this.ba=this.ea=!1}function TU(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function IU(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function CU(e){var t={};for(var n in e)t[n]=e[n];return t}var AU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RU(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<AU.length;a++)n=AU[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function PU(e){this.src=e,this.g={},this.h=0}function NU(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=QB(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(TU(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function DU(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}PU.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=DU(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new EU(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var OU="closure_lm_"+(1e6*Math.random()|0),LU={};function MU(e,t,n,r,i){if(r&&r.once)return jU(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)MU(e,t[a],n,r,i);return null}return n=HU(n),e&&e[xU]?e.N(t,n,VB(r)?!!r.capture:!!r,i):FU(e,t,n,!1,r,i)}function FU(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=VB(i)?!!i.capture:!!i,s=qU(e);if(s||(e[OU]=s=new PU(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=zU;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)JB||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(UU(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jU(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jU(e,t[a],n,r,i);return null}return n=HU(n),e&&e[xU]?e.O(t,n,VB(r)?!!r.capture:!!r,i):FU(e,t,n,!0,r,i)}function VU(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)VU(e,t[a],n,r,i);else r=VB(r)?!!r.capture:!!r,n=HU(n),e&&e[xU]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=DU(a=e.g[t],n,r,i))&&(TU(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=qU(e))&&(t=e.g[t.toString()],e=-1,t&&(e=DU(t,n,r,i)),(n=-1<e?t[e]:null)&&BU(n))}function BU(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[xU])NU(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(UU(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qU(t))?(NU(n,e),0==n.h&&(n.src=null,t[OU]=null)):TU(e)}}}function UU(e){return e in LU?LU[e]:LU[e]="on"+e}function zU(e,t){if(e.ba)e=!0;else{t=new wU(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&BU(e),e=n.call(r,t)}return e}function qU(e){return(e=e[OU])instanceof PU?e:null}var WU="__closure_events_fn_"+(1e9*Math.random()>>>0);function HU(e){return"function"===typeof e?e:(e[WU]||(e[WU]=function(t){return e.handleEvent(t)}),e[WU])}function GU(){KB.call(this),this.i=new PU(this),this.P=this,this.I=null}function KU(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new XB(t,e);else if(t instanceof XB)t.target=t.target||e;else{var i=t;RU(t=new XB(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=QU(o,r,!0,t)&&i}if(i=QU(o=t.g=e,r,!0,t)&&i,i=QU(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=QU(o=t.g=n[a],r,!1,t)&&i}function QU(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&NU(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}GB(GU,KB),GU.prototype[xU]=!0,GU.prototype.removeEventListener=function(e,t,n,r){VU(this,e,t,n,r)},GU.prototype.M=function(){if(GU.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)TU(n[r]);delete t.g[e],t.h--}}this.I=null},GU.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},GU.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var YU=MB.JSON.stringify;function $U(){var e=iz,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var XU,JU=function(){function e(){Xi(this,e),this.h=this.g=null}return $i(e,[{key:"add",value:function(e,t){var n=ZU.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ZU=new(function(){function e(t,n){Xi(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return $i(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ez}),(function(e){return e.reset()})),ez=function(){function e(){Xi(this,e),this.next=this.g=this.h=null}return $i(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function tz(e){MB.setTimeout((function(){throw e}),0)}function nz(e,t){XU||function(){var e=MB.Promise.resolve(void 0);XU=function(){e.then(az)}}(),rz||(XU(),rz=!0),iz.add(e,t)}var rz=!1,iz=new JU;function az(){for(var e;e=$U();){try{e.h.call(e.g)}catch(jv){tz(jv)}var t=ZU;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rz=!1}function oz(e,t){GU.call(this),this.h=e||1,this.g=t||MB,this.j=WB(this.lb,this),this.l=Date.now()}function sz(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function uz(e,t,n){if("function"===typeof e)n&&(e=WB(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=WB(e.handleEvent,e)}return 2147483647<Number(t)?-1:MB.setTimeout(e,t||0)}function cz(e){e.g=uz((function(){e.g=null,e.i&&(e.i=!1,cz(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}GB(oz,GU),(NB=oz.prototype).ca=!1,NB.R=null,NB.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),KU(this,"tick"),this.ca&&(sz(this),this.start()))}},NB.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},NB.M=function(){oz.X.M.call(this),sz(this),delete this.g};var lz=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return $i(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:cz(this)}},{key:"M",value:function(){IT(Ji(n.prototype),"M",this).call(this),this.g&&(MB.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(KB);function fz(e){KB.call(this),this.h=e,this.g={}}GB(fz,KB);var hz=[];function dz(e,t,n,r){Array.isArray(n)||(n&&(hz[0]=n.toString()),n=hz);for(var i=0;i<n.length;i++){var a=MU(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function pz(e){IU(e.g,(function(e,t){this.g.hasOwnProperty(t)&&BU(e)}),e),e.g={}}function vz(){this.g=!0}function mz(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return YU(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}fz.prototype.M=function(){fz.X.M.call(this),pz(this)},fz.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vz.prototype.Aa=function(){this.g=!1},vz.prototype.info=function(){};var yz={},gz=null;function bz(){return gz=gz||new GU}function kz(e){XB.call(this,yz.Pa,e)}function wz(e){var t=bz();KU(t,new kz(t))}function _z(e,t){XB.call(this,yz.STAT_EVENT,e),this.stat=t}function xz(e){var t=bz();KU(t,new _z(t,e))}function Sz(e,t){XB.call(this,yz.Qa,e),this.size=t}function Ez(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return MB.setTimeout((function(){e()}),t)}yz.Pa="serverreachability",GB(kz,XB),yz.STAT_EVENT="statevent",GB(_z,XB),yz.Qa="timingevent",GB(Sz,XB);var Tz={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Iz={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Cz(){}function Az(e){return e.h||(e.h=e.i())}function Rz(){}Cz.prototype.h=null;var Pz,Nz={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Dz(){XB.call(this,"d")}function Oz(){XB.call(this,"c")}function Lz(){}function Mz(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new fz(this),this.O=jz,e=cU?125:void 0,this.T=new oz(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Fz}function Fz(){this.i=null,this.g="",this.h=!1}GB(Dz,XB),GB(Oz,XB),GB(Lz,Cz),Lz.prototype.g=function(){return new XMLHttpRequest},Lz.prototype.i=function(){return{}},Pz=new Lz;var jz=45e3,Vz={},Bz={};function Uz(e,t,n){e.K=1,e.v=oq(tq(t)),e.s=n,e.P=!0,zz(e,null)}function zz(e,t){e.F=Date.now(),Gz(e),e.A=tq(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),bq(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Fz,e.g=bW(e.l,n?t:null,!e.s),0<e.N&&(e.L=new lz(WB(e.La,e,e.g),e.N)),dz(e.S,e.g,"readystatechange",e.ib),t=e.H?CU(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),wz(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function qz(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Wz(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Hz(e,n))==Bz){4==t&&(e.o=4,xz(14),i=!1),mz(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vz){e.o=4,xz(15),mz(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}mz(e.j,e.m,r,null),Xz(e,r)}qz(e)&&r!=Bz&&r!=Vz&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,xz(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),fW(t),t.K=!0,xz(11))):(mz(e.j,e.m,n,"[Invalid Chunked Response]"),$z(e),Yz(e))}function Hz(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bz:(n=Number(t.substring(n,r)),isNaN(n)?Vz:(r+=1)+n>t.length?Bz:(t=t.substr(r,n),e.C=r+n,t))}function Gz(e){e.V=Date.now()+e.O,Kz(e,e.O)}function Kz(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ez(WB(e.gb,e),t)}function Qz(e){e.B&&(MB.clearTimeout(e.B),e.B=null)}function Yz(e){0==e.l.G||e.I||pW(e.l,e)}function $z(e){Qz(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,sz(e.T),pz(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xz(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Tq(n.h,e)))if(!e.J&&Tq(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;dW(n),rW(n)}lW(n),xz(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ez(WB(n.cb,n),6e3));if(1>=Eq(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else mW(n,11)}else if((e.J||n.g==e)&&dW(n),!ZB(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Iq(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,aq(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=gW(r,r.H?r.ka:null,r.V),d.J){Cq(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Qz(p),Gz(p)),r.g=d}else cW(r);0<n.i.length&&aW(n)}else"stop"!=a[0]&&"close"!=a[0]||mW(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?mW(n,7):nW(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}wz()}catch(a){}}function Jz(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jB(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(jB(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(jB(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(NB=Mz.prototype).setTimeout=function(e){this.O=e},NB.ib=function(e){e=e.target;var t=this.L;t&&3==$q(e)?t.l():this.La(e)},NB.La=function(e){try{if(e==this.g)e:{var t=$q(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||cU||this.g&&(this.h.h||this.g.fa()||Xq(this.g)))){this.I||4!=t||7==n||wz(),Qz(this);var r=this.g.aa();this.Y=r;t:if(qz(this)){var i=Xq(this.g);e="";var a=i.length,o=4==$q(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$z(this),Yz(this);var s="";break t}this.h.i=new MB.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ZB(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,xz(12),$z(this),Yz(this);break e}mz(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xz(this,r)}this.P?(Wz(this,t,s),cU&&this.i&&3==t&&(dz(this.S,this.T,"tick",this.hb),this.T.start())):(mz(this.j,this.m,s,null),Xz(this,s)),4==t&&$z(this),this.i&&!this.I&&(4==t?pW(this.l,this):(this.i=!1,Gz(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,xz(12)):(this.o=0,xz(13)),$z(this),Yz(this)}}}catch(t){}},NB.hb=function(){if(this.g){var e=$q(this.g),t=this.g.fa();this.C<t.length&&(Qz(this),Wz(this,e,t),this.i&&4!=e&&Gz(this))}},NB.cancel=function(){this.I=!0,$z(this)},NB.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(wz(),xz(17)),$z(this),this.o=2,Yz(this)):Kz(this,this.V-e)};var Zz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eq(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof eq){this.h=void 0!==t?t:e.h,nq(this,e.j),this.s=e.s,this.g=e.g,rq(this,e.m),this.l=e.l,t=e.i;var n=new vq;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),iq(this,n),this.o=e.o}else e&&(n=String(e).match(Zz))?(this.h=!!t,nq(this,n[1]||"",!0),this.s=sq(n[2]||""),this.g=sq(n[3]||"",!0),rq(this,n[4]),this.l=sq(n[5]||"",!0),iq(this,n[6]||"",!0),this.o=sq(n[7]||"")):(this.h=!!t,this.i=new vq(null,this.h))}function tq(e){return new eq(e)}function nq(e,t,n){e.j=n?sq(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rq(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function iq(e,t,n){t instanceof vq?(e.i=t,function(e,t){t&&!e.j&&(mq(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yq(this,t),bq(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=uq(t,dq)),e.i=new vq(t,e.h))}function aq(e,t,n){e.i.set(t,n)}function oq(e){return aq(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sq(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function uq(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cq),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cq(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}eq.prototype.toString=function(){var e=[],t=this.j;t&&e.push(uq(t,lq,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(uq(t,lq,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(uq(n,"/"==n.charAt(0)?hq:fq,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",uq(n,pq)),e.join("")};var lq=/[#\/\?@]/g,fq=/[#\?:]/g,hq=/[#\?]/g,dq=/[#\?@]/g,pq=/#/g;function vq(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mq(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yq(e,t){mq(e),t=kq(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function gq(e,t){return mq(e),t=kq(e,t),e.g.has(t)}function bq(e,t,n){yq(e,t),0<n.length&&(e.i=null,e.g.set(kq(e,t),YB(n)),e.h+=n.length)}function kq(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(NB=vq.prototype).add=function(e,t){mq(this),this.i=null,e=kq(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},NB.forEach=function(e,t){mq(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},NB.oa=function(){mq(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},NB.W=function(e){mq(this);var t=[];if("string"===typeof e)gq(this,e)&&(t=t.concat(this.g.get(kq(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},NB.set=function(e,t){return mq(this),this.i=null,gq(this,e=kq(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},NB.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},NB.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var wq=$i((function e(t,n){Xi(this,e),this.h=t,this.g=n}));function _q(e){this.l=e||xq,MB.PerformanceNavigationTiming?e=0<(e=MB.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(MB.g&&MB.g.Ga&&MB.g.Ga()&&MB.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xq=10;function Sq(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Eq(e){return e.h?1:e.g?e.g.size:0}function Tq(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Iq(e,t){e.g?e.g.add(t):e.h=t}function Cq(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Aq(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=nt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return YB(e.i)}function Rq(){}function Pq(){this.g=new Rq}function Nq(e,t,n){var r=n||"";try{Jz(e,(function(e,n){var i=e;VB(e)&&(i=YU(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dq(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Oq(e){this.l=e.ac||null,this.j=e.jb||!1}function Lq(e,t){GU.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Mq,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_q.prototype.cancel=function(){if(this.i=Aq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=nt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Rq.prototype.stringify=function(e){return MB.JSON.stringify(e,void 0)},Rq.prototype.parse=function(e){return MB.JSON.parse(e,void 0)},GB(Oq,Cz),Oq.prototype.g=function(){return new Lq(this.l,this.j)},Oq.prototype.i=function(e){return function(){return e}}({}),GB(Lq,GU);var Mq=0;function Fq(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function jq(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vq(e)}function Vq(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(NB=Lq.prototype).open=function(e,t){if(this.readyState!=Mq)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vq(this)},NB.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||MB).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},NB.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jq(this)),this.readyState=Mq},NB.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vq(this)),this.g&&(this.readyState=3,Vq(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof MB.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fq(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},NB.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jq(this):Vq(this),3==this.readyState&&Fq(this)}},NB.Va=function(e){this.g&&(this.response=this.responseText=e,jq(this))},NB.Ua=function(e){this.g&&(this.response=e,jq(this))},NB.ga=function(){this.g&&jq(this)},NB.setRequestHeader=function(e,t){this.v.append(e,t)},NB.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},NB.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lq.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bq=MB.JSON.parse;function Uq(e){GU.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zq,this.K=this.L=!1}GB(Uq,GU);var zq="",qq=/^https?$/i,Wq=["POST","PUT"];function Hq(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gq(e),Qq(e)}function Gq(e){e.D||(e.D=!0,KU(e,"complete"),KU(e,"error"))}function Kq(e){if(e.h&&"undefined"!=typeof LB&&(!e.C[1]||4!=$q(e)||2!=e.aa()))if(e.v&&4==$q(e))uz(e.Ha,0,e);else if(KU(e,"readystatechange"),4==$q(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Zz)[1]||null;if(!a&&MB.self&&MB.self.location){var o=MB.self.location.protocol;a=o.substr(0,o.length-1)}i=!qq.test(a?a.toLowerCase():"")}t=i}if(t)KU(e,"complete"),KU(e,"success");else{e.m=6;try{var s=2<$q(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Gq(e)}}finally{Qq(e)}}}function Qq(e,t){if(e.g){Yq(e);var n=e.g,r=e.C[0]?FB:null;e.g=null,e.C=null,t||KU(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yq(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(MB.clearTimeout(e.A),e.A=null)}function $q(e){return e.g?e.g.readyState:0}function Xq(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zq:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Fv){return null}}function Jq(e){var t="";return IU(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zq(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Jq(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):aq(e,t,n))}function eW(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tW(e){this.Ca=0,this.i=[],this.j=new vz,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=eW("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=eW("baseRetryDelayMs",5e3,e),this.bb=eW("retryDelaySeedMs",1e4,e),this.$a=eW("forwardChannelMaxRetries",2,e),this.ta=eW("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new _q(e&&e.concurrentRequestLimit),this.Fa=new Pq,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function nW(e){if(iW(e),3==e.G){var t=e.U++,n=tq(e.F);aq(n,"SID",e.I),aq(n,"RID",t),aq(n,"TYPE","terminate"),sW(e,n),(t=new Mz(e,e.j,t,void 0)).K=2,t.v=oq(tq(n)),n=!1,MB.navigator&&MB.navigator.sendBeacon&&(n=MB.navigator.sendBeacon(t.v.toString(),"")),!n&&MB.Image&&((new Image).src=t.v,n=!0),n||(t.g=bW(t.l,null),t.g.da(t.v)),t.F=Date.now(),Gz(t)}yW(e)}function rW(e){e.g&&(fW(e),e.g.cancel(),e.g=null)}function iW(e){rW(e),e.u&&(MB.clearTimeout(e.u),e.u=null),dW(e),e.h.cancel(),e.m&&("number"===typeof e.m&&MB.clearTimeout(e.m),e.m=null)}function aW(e){Sq(e.h)||e.m||(e.m=!0,nz(e.Ja,e),e.C=0)}function oW(e,t){var n;n=t?t.m:e.U++;var r=tq(e.F);aq(r,"SID",e.I),aq(r,"RID",n),aq(r,"AID",e.T),sW(e,r),e.o&&e.s&&Zq(r,e.o,e.s),n=new Mz(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=uW(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Iq(e.h,n),Uz(n,r,t)}function sW(e,t){e.ia&&IU(e.ia,(function(e,n){aq(t,n,e)})),e.l&&Jz({},(function(e,n){aq(t,n,e)}))}function uW(e,t,n){n=Math.min(e.i.length,n);var r=e.l?WB(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Nq(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function cW(e){e.g||e.u||(e.Z=1,nz(e.Ia,e),e.A=0)}function lW(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Ez(WB(e.Ia,e),vW(e,e.A)),e.A++,!0)}function fW(e){null!=e.B&&(MB.clearTimeout(e.B),e.B=null)}function hW(e){e.g=new Mz(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=tq(e.sa);aq(t,"RID","rpc"),aq(t,"SID",e.I),aq(t,"CI",e.L?"0":"1"),aq(t,"AID",e.T),aq(t,"TYPE","xmlhttp"),sW(e,t),e.o&&e.s&&Zq(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=oq(tq(t)),n.s=null,n.P=!0,zz(n,e)}function dW(e){null!=e.v&&(MB.clearTimeout(e.v),e.v=null)}function pW(e,t){var n=null;if(e.g==t){dW(e),fW(e),e.g=null;var r=2}else{if(!Tq(e.h,t))return;n=t.D,Cq(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;KU(r=bz(),new Sz(r,n)),aW(e)}else cW(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Eq(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Ez(WB(e.Ja,e,t),vW(e,e.C)),e.C++,!0))}(e,t)||2==r&&lW(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mW(e,5);break;case 4:mW(e,10);break;case 3:mW(e,6);break;default:mW(e,2)}}function vW(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function mW(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=WB(e.kb,e);n||(n=new eq("//www.google.com/images/cleardot.gif"),MB.location&&"http"==MB.location.protocol||nq(n,"https"),oq(n)),function(e,t){var n=new vz;if(MB.Image){var r=new Image;r.onload=HB(Dq,n,r,"TestLoadImage: loaded",!0,t),r.onerror=HB(Dq,n,r,"TestLoadImage: error",!1,t),r.onabort=HB(Dq,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=HB(Dq,n,r,"TestLoadImage: timeout",!1,t),MB.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else xz(2);e.G=0,e.l&&e.l.va(t),yW(e),iW(e)}function yW(e){if(e.G=0,e.la=[],e.l){var t=Aq(e.h);0==t.length&&0==e.i.length||($B(e.la,t),$B(e.la,e.i),e.h.i.length=0,YB(e.i),e.i.length=0),e.l.ua()}}function gW(e,t,n){var r=n instanceof eq?tq(n):new eq(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),rq(r,r.m);else{var i=MB.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new eq(null,void 0);r&&nq(a,r),t&&(a.g=t),i&&rq(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&aq(r,n,t),aq(r,"VER",e.ma),sW(e,r),r}function bW(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Uq(new Oq({jb:!0})):new Uq(e.ra)).Ka(e.H),t}function kW(){}function wW(){if(sU&&!(10<=Number(kU)))throw Error("Environmental error: no available transport.")}function _W(e,t){GU.call(this),this.g=new tW(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!ZB(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ZB(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new EW(this)}function xW(e){Dz.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function SW(){Oz.call(this),this.status=1}function EW(e){this.g=e}(NB=Uq.prototype).Ka=function(e){this.L=e},NB.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pz.g(),this.C=this.u?Az(this.u):Az(Pz),this.g.onreadystatechange=WB(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Hq(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=nt(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=MB.FormData&&e instanceof MB.FormData,!(0<=QB(Wq,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=nt(n);try{for(c.s();!(u=c.n()).done;){var l=Qe(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yq(this),0<this.B&&((this.K=function(e){return sU&&gU()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=WB(this.qa,this)):this.A=uz(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Hq(this,s)}},NB.qa=function(){"undefined"!=typeof LB&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,KU(this,"timeout"),this.abort(8))},NB.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,KU(this,"complete"),KU(this,"abort"),Qq(this))},NB.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qq(this,!0)),Uq.X.M.call(this)},NB.Ha=function(){this.s||(this.F||this.v||this.l?Kq(this):this.fb())},NB.fb=function(){Kq(this)},NB.aa=function(){try{return 2<$q(this)?this.g.status:-1}catch(Mv){return-1}},NB.fa=function(){try{return this.g?this.g.responseText:""}catch(Mv){return""}},NB.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bq(t)}},NB.Ea=function(){return this.m},NB.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(NB=tW.prototype).ma=8,NB.G=1,NB.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Mz(this,this.j,e,void 0),n=this.s;if(this.S&&(n?RU(n=CU(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=uW(this,t,r),aq(i=tq(this.F),"RID",e),aq(i,"CVER",22),this.D&&aq(i,"X-HTTP-Session-Id",this.D),sW(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Jq(n)))+"&"+r:this.o&&Zq(i,this.o,n)),Iq(this.h,t),this.Ya&&aq(i,"TYPE","init"),this.O?(aq(i,"$req",r),aq(i,"SID","null"),t.Z=!0,Uz(t,i,null)):Uz(t,i,r),this.G=2}}else 3==this.G&&(e?oW(this,e):0==this.i.length||Sq(this.h)||oW(this))},NB.Ia=function(){if(this.u=null,hW(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ez(WB(this.eb,this),e)}},NB.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xz(10),rW(this),hW(this))},NB.cb=function(){null!=this.v&&(this.v=null,rW(this),lW(this),xz(19))},NB.kb=function(e){e?(this.j.info("Successfully pinged google.com"),xz(2)):(this.j.info("Failed to ping google.com"),xz(1))},(NB=kW.prototype).xa=function(){},NB.wa=function(){},NB.va=function(){},NB.ua=function(){},NB.Ra=function(){},wW.prototype.g=function(e,t){return new _W(e,t)},GB(_W,GU),_W.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;xz(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=gW(e,null,e.V),aW(e)},_W.prototype.close=function(){nW(this.g)},_W.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=YU(e),e=n);t.i.push(new wq(t.ab++,e)),3==t.G&&aW(t)},_W.prototype.M=function(){this.g.l=null,delete this.j,nW(this.g),delete this.g,_W.X.M.call(this)},GB(xW,Dz),GB(SW,Oz),GB(EW,kW),EW.prototype.xa=function(){KU(this.g,"a")},EW.prototype.wa=function(e){KU(this.g,new xW(e))},EW.prototype.va=function(e){KU(this.g,new SW)},EW.prototype.ua=function(){KU(this.g,"b")},wW.prototype.createWebChannel=wW.prototype.g,_W.prototype.send=_W.prototype.u,_W.prototype.open=_W.prototype.m,_W.prototype.close=_W.prototype.close,Tz.NO_ERROR=0,Tz.TIMEOUT=8,Tz.HTTP_ERROR=6,Iz.COMPLETE="complete",Rz.EventType=Nz,Nz.OPEN="a",Nz.CLOSE="b",Nz.ERROR="c",Nz.MESSAGE="d",GU.prototype.listen=GU.prototype.N,Uq.prototype.listenOnce=Uq.prototype.O,Uq.prototype.getLastError=Uq.prototype.Oa,Uq.prototype.getLastErrorCode=Uq.prototype.Ea,Uq.prototype.getStatus=Uq.prototype.aa,Uq.prototype.getResponseJson=Uq.prototype.Sa,Uq.prototype.getResponseText=Uq.prototype.fa,Uq.prototype.send=Uq.prototype.da,Uq.prototype.setWithCredentials=Uq.prototype.Ka;var TW=OB.createWebChannelTransport=function(){return new wW},IW=OB.getStatEventTarget=function(){return bz()},CW=OB.ErrorCode=Tz,AW=OB.EventType=Iz,RW=OB.Event=yz,PW=OB.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},NW=OB.FetchXmlHttpFactory=Oq,DW=OB.WebChannel=Rz,OW=OB.XhrIo=Uq,LW="@firebase/firestore",MW=function(){function e(t){Xi(this,e),this.uid=t}return $i(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();MW.UNAUTHENTICATED=new MW(null),MW.GOOGLE_CREDENTIALS=new MW("google-credentials-uid"),MW.FIRST_PARTY=new MW("first-party-uid"),MW.MOCK_USER=new MW("mock-user");var FW="9.17.1",jW=new sE("@firebase/firestore");function VW(){return jW.logLevel}function BW(e){if(jW.logLevel<=eE.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qW);jW.debug.apply(jW,["Firestore (".concat(FW,"): ").concat(e)].concat(it(i)))}}function UW(e){if(jW.logLevel<=eE.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qW);jW.error.apply(jW,["Firestore (".concat(FW,"): ").concat(e)].concat(it(i)))}}function zW(e){if(jW.logLevel<=eE.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qW);jW.warn.apply(jW,["Firestore (".concat(FW,"): ").concat(e)].concat(it(i)))}}function qW(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function WW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(FW,") INTERNAL ASSERTION FAILED: ")+e;throw UW(t),new Error(t)}function HW(e,t){e||WW()}function GW(e,t){return e}var KW={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},QW=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return $i(n)}(SS),YW=$i((function e(){var t=this;Xi(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$W=$i((function e(t,n){Xi(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),XW=function(){function e(){Xi(this,e)}return $i(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(MW.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),JW=function(){function e(t){Xi(this,e),this.token=t,this.changeListener=null}return $i(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ZW=function(){function e(t){Xi(this,e),this.t=t,this.currentUser=MW.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return $i(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new YW;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new YW,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){BW("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(BW("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new YW)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(BW("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(HW("string"==typeof n.accessToken),new $W(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return HW(null===e||"string"==typeof e),new MW(e)}}]),e}(),eH=function(){function e(t,n,r,i){Xi(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=MW.FIRST_PARTY,this.p=new Map}return $i(e,[{key:"I",value:function(){return this.g?this.g():(HW(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),tH=function(){function e(t,n,r,i){Xi(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return $i(e,[{key:"getToken",value:function(){return Promise.resolve(new eH(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(MW.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),nH=$i((function e(t){Xi(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),rH=function(){function e(t){Xi(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return $i(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&BW("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,BW("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){BW("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):BW("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(HW("string"==typeof t.token),e.A=t.token,new nH(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function iH(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var aH=function(){function e(){Xi(this,e)}return $i(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=iH(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function oH(e,t){return e<t?-1:e>t?1:0}function sH(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function uH(e){return e+"\0"}var cH=function(){function e(t,n){if(Xi(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new QW(KW.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new QW(KW.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new QW(KW.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new QW(KW.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return $i(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?oH(this.nanoseconds,e.nanoseconds):oH(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),lH=function(){function e(t){Xi(this,e),this.timestamp=t}return $i(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new cH(0,0))}},{key:"max",value:function(){return new e(new cH(253402300799,999999999))}}]),e}(),fH=function(){function e(t,n,r){Xi(this,e),void 0===n?n=0:n>t.length&&WW(),void 0===r?r=t.length-n:r>t.length-n&&WW(),this.segments=t,this.offset=n,this.len=r}return $i(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),hH=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new QW(KW.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,it(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(fH),dH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pH=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return dH.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new QW(KW.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new QW(KW.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new QW(KW.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new QW(KW.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(fH),vH=function(){function e(t){Xi(this,e),this.path=t}return $i(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===hH.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(hH.fromString(t))}},{key:"fromName",value:function(t){return new e(hH.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(hH.emptyPath())}},{key:"comparator",value:function(e,t){return hH.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new hH(t.slice()))}}]),e}(),mH=$i((function e(t,n,r,i){Xi(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function yH(e){return e.fields.find((function(e){return 2===e.kind}))}function gH(e){return e.fields.filter((function(e){return 2!==e.kind}))}mH.UNKNOWN_ID=-1;var bH=$i((function e(t,n){Xi(this,e),this.fieldPath=t,this.kind=n}));var kH=function(){function e(t,n){Xi(this,e),this.sequenceNumber=t,this.offset=n}return $i(e,null,[{key:"empty",value:function(){return new e(0,xH.min())}}]),e}();function wH(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=lH.fromTimestamp(1e9===r?new cH(n+1,0):new cH(n,r));return new xH(i,vH.empty(),t)}function _H(e){return new xH(e.readTime,e.key,-1)}var xH=function(){function e(t,n,r){Xi(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return $i(e,null,[{key:"min",value:function(){return new e(lH.min(),vH.empty(),-1)}},{key:"max",value:function(){return new e(lH.max(),vH.empty(),-1)}}]),e}();function SH(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=vH.comparator(e.documentKey,t.documentKey))?n:oH(e.largestBatchId,t.largestBatchId)}var EH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",TH=function(){function e(){Xi(this,e),this.onCommittedListeners=[]}return $i(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function IH(e){return CH.apply(this,arguments)}function CH(){return CH=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===KW.FAILED_PRECONDITION&&t.message===EH){e.next=2;break}throw t;case 2:BW("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),CH.apply(this,arguments)}var AH=function(){function e(t){var n=this;Xi(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return $i(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&WW(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=nt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),RH=function(){function e(t,n){var r=this;Xi(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new YW,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new DH(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=jH(e.target.error);r.P.reject(new DH(t,n))}}return $i(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(BW("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new LH(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new DH(n,t)}}}]),e}(),PH=function(){function e(t,n,r){Xi(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(vS())&&UW("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return $i(e,[{key:"F",value:function(){var e=a_(r_().mark((function e(t){var n=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return BW("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new DH(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new QW(KW.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new QW(KW.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new DH(t,n))},i.onupgradeneeded=function(e){BW("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){BW("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=a_(r_().mark((function e(t,n,r,i){var a,o,s,u,c=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=r_().mark((function e(){var n,s,u,l;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=RH.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),AH.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,BW("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return BW("SimpleDb","Removing database:",e),MH(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!_S())return!1;if(e.N())return!0;var t=vS(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/netflix_clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),NH=function(){function e(t){Xi(this,e),this.q=t,this.U=!1,this.K=null}return $i(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return MH(this.q.delete())}}]),e}(),DH=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,KW.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return $i(n)}(QW);function OH(e){return"IndexedDbTransactionError"===e.name}var LH=function(){function e(t){Xi(this,e),this.store=t}return $i(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(BW("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(BW("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),MH(n)}},{key:"add",value:function(e){return BW("SimpleDb","ADD",this.store.name,e,e),MH(this.store.add(e))}},{key:"get",value:function(e){var t=this;return MH(this.store.get(e)).next((function(n){return void 0===n&&(n=null),BW("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return BW("SimpleDb","DELETE",this.store.name,e),MH(this.store.delete(e))}},{key:"count",value:function(){return BW("SimpleDb","COUNT",this.store.name),MH(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new AH((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new AH((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){BW("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new AH((function(n,r){t.onerror=function(e){var t=jH(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new AH((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new NH(i),o=t(i.primaryKey,i.value,a);if(o instanceof AH){var s=o.catch((function(e){return a.done(),AH.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return AH.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function MH(e){return new AH((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=jH(e.target.error);n(t)}}))}var FH=!1;function jH(e){var t=PH.D(vS());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new QW("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return FH||(FH=!0,setTimeout((function(){throw r}),0)),r}}return e}var VH=function(){function e(t,n){Xi(this,e),this.asyncQueue=t,this.et=n,this.task=null}return $i(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;BW("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=BW,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!OH(e.t4)){e.next=17;break}BW("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,IH(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),BH=function(){function e(t,n){Xi(this,e),this.localStore=t,this.persistence=n}return $i(e,[{key:"st",value:function(){var e=a_(r_().mark((function e(){var t,n=this,r=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return AH.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return BW("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return BW("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=_H(t);SH(r,n)>0&&(n=r)})),new xH(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),UH=function(){function e(t,n){var r=this;Xi(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return $i(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();UH.at=-1;var zH=$i((function e(t,n,r,i,a,o,s,u){Xi(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),qH=function(){function e(t,n){Xi(this,e),this.projectId=t,this.database=n||"(default)"}return $i(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function WH(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function HH(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function GH(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function KH(e){return null==e}function QH(e){return 0===e&&1/e==-1/0}function YH(e){return"number"==typeof e&&Number.isInteger(e)&&!QH(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var $H=function(e){function t(e){Xi(this,t),this.binaryString=e}return $i(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return oH(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();$H.EMPTY_BYTE_STRING=new $H("");var XH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function JH(e){if(HW(!!e),"string"==typeof e){var t=0,n=XH.exec(e);if(HW(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ZH(e.seconds),nanos:ZH(e.nanos)}}function ZH(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function eG(e){return"string"==typeof e?$H.fromBase64String(e):$H.fromUint8Array(e)}function tG(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nG(e){var t=e.mapValue.fields.__previous_value__;return tG(t)?nG(t):t}function rG(e){var t=JH(e.mapValue.fields.__local_write_time__.timestampValue);return new cH(t.seconds,t.nanos)}var iG={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},aG={nullValue:"NULL_VALUE"};function oG(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tG(e)?4:kG(e)?9007199254740991:10:WW()}function sG(e,t){if(e===t)return!0;var n=oG(e);if(n!==oG(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rG(e).isEqual(rG(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=JH(e.timestampValue),r=JH(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return eG(e.bytesValue).isEqual(eG(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ZH(e.geoPointValue.latitude)===ZH(t.geoPointValue.latitude)&&ZH(e.geoPointValue.longitude)===ZH(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ZH(e.integerValue)===ZH(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ZH(e.doubleValue),r=ZH(t.doubleValue);return n===r?QH(n)===QH(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sH(e.arrayValue.values||[],t.arrayValue.values||[],sG);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(WH(n)!==WH(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sG(n[i],r[i])))return!1;return!0}(e,t);default:return WW()}}function uG(e,t){return void 0!==(e.values||[]).find((function(e){return sG(e,t)}))}function cG(e,t){if(e===t)return 0;var n=oG(e),r=oG(t);if(n!==r)return oH(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oH(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ZH(e.integerValue||e.doubleValue),r=ZH(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lG(e.timestampValue,t.timestampValue);case 4:return lG(rG(e),rG(t));case 5:return oH(e.stringValue,t.stringValue);case 6:return function(e,t){var n=eG(e),r=eG(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=oH(n[i],r[i]);if(0!==a)return a}return oH(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=oH(ZH(e.latitude),ZH(t.latitude));return 0!==n?n:oH(ZH(e.longitude),ZH(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=cG(n[i],r[i]);if(a)return a}return oH(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===iG.mapValue&&t===iG.mapValue)return 0;if(e===iG.mapValue)return 1;if(t===iG.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=oH(r[o],a[o]);if(0!==s)return s;var u=cG(n[r[o]],i[a[o]]);if(0!==u)return u}return oH(r.length,a.length)}(e.mapValue,t.mapValue);default:throw WW()}}function lG(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return oH(e,t);var n=JH(e),r=JH(t),i=oH(n.seconds,r.seconds);return 0!==i?i:oH(n.nanos,r.nanos)}function fG(e){return hG(e)}function hG(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=JH(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?eG(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,vH.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=nt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=hG(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=nt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(hG(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):WW();var t,n}function dG(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function pG(e){return!!e&&"integerValue"in e}function vG(e){return!!e&&"arrayValue"in e}function mG(e){return!!e&&"nullValue"in e}function yG(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gG(e){return!!e&&"mapValue"in e}function bG(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return HH(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=bG(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=bG(e.arrayValue.values[r]);return n}return Object.assign({},e)}function kG(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function wG(e){return"nullValue"in e?aG:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?dG(qH.empty(),vH.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:WW()}function _G(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?dG(qH.empty(),vH.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?iG:WW()}function xG(e,t){var n=cG(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function SG(e,t){var n=cG(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var EG=$i((function e(t,n){Xi(this,e),this.position=t,this.inclusive=n}));function TG(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?vH.comparator(vH.fromName(o.referenceValue),n.key):cG(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function IG(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!sG(e.position[n],t.position[n]))return!1;return!0}var CG=$i((function e(){Xi(this,e)})),AG=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return $i(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cG(t,this.value)):null!==t&&oG(this.value)===oG(t)&&this.matchesComparison(cG(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return WW()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new VG(e,t,r):"array-contains"===t?new qG(e,r):"in"===t?new WG(e,r):"not-in"===t?new HG(e,r):"array-contains-any"===t?new GG(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new BG(e,n):new UG(e,n)}}]),n}(CG),RG=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return $i(n,[{key:"matches",value:function(e){return PG(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=nt(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(CG);function PG(e){return"and"===e.op}function NG(e){return"or"===e.op}function DG(e){return OG(e)&&PG(e)}function OG(e){var t,n=nt(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof RG)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function LG(e){if(e instanceof AG)return e.field.canonicalString()+e.op.toString()+fG(e.value);if(DG(e))return e.filters.map((function(e){return LG(e)})).join(",");var t=e.filters.map((function(e){return LG(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function MG(e,t){return e instanceof AG?function(e,t){return t instanceof AG&&e.op===t.op&&e.field.isEqual(t.field)&&sG(e.value,t.value)}(e,t):e instanceof RG?function(e,t){return t instanceof RG&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&MG(n,t.filters[r])}),!0)}(e,t):void WW()}function FG(e,t){var n=e.filters.concat(t);return RG.create(n,e.op)}function jG(e){return e instanceof AG?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(fG(e.value))}(e):e instanceof RG?function(e){return e.op.toString()+" {"+e.getFilters().map(jG).join(" ,")+"}"}(e):"Filter"}var VG=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this,e,r,i)).key=vH.fromName(i.referenceValue),a}return $i(n,[{key:"matches",value:function(e){var t=vH.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(AG),BG=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,"in",r)).keys=zG("in",r),i}return $i(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(AG),UG=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,"not-in",r)).keys=zG("not-in",r),i}return $i(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(AG);function zG(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return vH.fromName(e.referenceValue)}))}var qG=function(e){st(n,e);var t=ta(n);function n(e,r){return Xi(this,n),t.call(this,e,"array-contains",r)}return $i(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return vG(t)&&uG(t.arrayValue,this.value)}}]),n}(AG),WG=function(e){st(n,e);var t=ta(n);function n(e,r){return Xi(this,n),t.call(this,e,"in",r)}return $i(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&uG(this.value.arrayValue,t)}}]),n}(AG),HG=function(e){st(n,e);var t=ta(n);function n(e,r){return Xi(this,n),t.call(this,e,"not-in",r)}return $i(n,[{key:"matches",value:function(e){if(uG(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!uG(this.value.arrayValue,t)}}]),n}(AG),GG=function(e){st(n,e);var t=ta(n);function n(e,r){return Xi(this,n),t.call(this,e,"array-contains-any",r)}return $i(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!vG(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return uG(t.value.arrayValue,e)}))}}]),n}(AG),KG=$i((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Xi(this,e),this.field=t,this.dir=n}));function QG(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var YG=function(){function e(t,n){Xi(this,e),this.comparator=t,this.root=n||XG.EMPTY}return $i(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,XG.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,XG.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new $G(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new $G(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new $G(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new $G(this.root,e,this.comparator,!0)}}]),e}(),$G=function(){function e(t,n,r,i){Xi(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return $i(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),XG=function(){function e(t,n,r,i,a){Xi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return $i(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw WW();if(this.right.isRed())throw WW();var e=this.left.check();if(e!==this.right.check())throw WW();return e+(this.isRed()?0:1)}}]),e}();XG.EMPTY=null,XG.RED=!0,XG.BLACK=!1,XG.EMPTY=new(function(){function e(){Xi(this,e),this.size=0}return $i(e,[{key:"key",get:function(){throw WW()}},{key:"value",get:function(){throw WW()}},{key:"color",get:function(){throw WW()}},{key:"left",get:function(){throw WW()}},{key:"right",get:function(){throw WW()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new XG(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var JG=function(){function e(t){Xi(this,e),this.comparator=t,this.data=new YG(this.comparator)}return $i(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ZG(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ZG(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ZG=function(){function e(t){Xi(this,e),this.iter=t}return $i(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function eK(e){return e.hasNext()?e.getNext():void 0}var tK=function(){function e(t){Xi(this,e),this.fields=t,t.sort(pH.comparator)}return $i(e,[{key:"unionWith",value:function(t){var n,r=new JG(pH.comparator),i=nt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=nt(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=nt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return sH(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),nK=function(){function e(t){Xi(this,e),this.value=t}return $i(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!gG(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bG(t)}},{key:"setAll",value:function(e){var t=this,n=pH.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=bG(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());gG(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return sG(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];gG(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){HH(t,(function(t,n){return e[t]=n}));var r,i=nt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(bG(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function rK(e){var t=[];return HH(e.fields,(function(e,n){var r=new pH([e]);if(gG(n)){var i=rK(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=nt(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new tK(t)}var iK=function(){function e(t,n,r,i,a,o,s){Xi(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return $i(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(lH.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=nK.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=nK.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=lH.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,lH.min(),lH.min(),lH.min(),nK.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,lH.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,lH.min(),lH.min(),nK.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,lH.min(),lH.min(),nK.empty(),2)}}]),e}(),aK=$i((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Xi(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function oK(e){return new aK(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sK(e){var t=GW(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return LG(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),KH(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return fG(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return fG(e)})).join(",")),t.ft=n}return t.ft}function uK(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!QG(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!MG(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!IG(e.startAt,t.startAt)&&IG(e.endAt,t.endAt)}function cK(e){return vH.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function lK(e,t){return e.filters.filter((function(e){return e instanceof AG&&e.field.isEqual(t)}))}function fK(e,t,n){var r,i=aG,a=!0,o=nt(lK(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=aG,c=!0;switch(s.op){case"<":case"<=":u=wG(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=aG}xG({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];xG({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function hK(e,t,n){var r,i=iG,a=!0,o=nt(lK(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=iG,c=!0;switch(s.op){case">=":case">":u=_G(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=iG}SG({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];SG({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var dK=$i((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Xi(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function pK(e,t,n,r,i,a,o,s){return new dK(e,t,n,r,i,a,o,s)}function vK(e){return new dK(e)}function mK(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yK(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gK(e){var t,n=nt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function bK(e){return null!==e.collectionGroup}function kK(e){var t=GW(e);if(null===t.dt){t.dt=[];var n=gK(t),r=yK(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new KG(n)),t.dt.push(new KG(pH.keyField(),"asc"));else{var i,a=!1,o=nt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new KG(pH.keyField(),u))}}}return t.dt}function wK(e){var t=GW(e);if(!t._t)if("F"===t.limitType)t._t=oK(t.path,t.collectionGroup,kK(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=nt(kK(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new KG(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new EG(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new EG(t.startAt.position,t.startAt.inclusive):null;t._t=oK(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function _K(e,t){t.getFirstInequalityField(),gK(e);var n=e.filters.concat([t]);return new dK(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xK(e,t,n){return new dK(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function SK(e,t){return uK(wK(e),wK(t))&&e.limitType===t.limitType}function EK(e){return"".concat(sK(wK(e)),"|lt:").concat(e.limitType)}function TK(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return jG(e)})).join(", "),"]")),KH(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return fG(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return fG(e)})).join(",")),"Target(".concat(t,")")}(wK(e)),"; limitType=").concat(e.limitType,")")}function IK(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vH.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=nt(kK(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=nt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=TG(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,kK(e),t))&&!(e.endAt&&!function(e,t,n){var r=TG(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,kK(e),t))}(e,t)}function CK(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function AK(e){return function(t,n){var r,i=!1,a=nt(kK(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=RK(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function RK(e,t,n){var r=e.field.isKeyField()?vH.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cG(r,i):WW()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return WW()}}function PK(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:QH(t)?"-0":t}}function NK(e){return{integerValue:""+e}}function DK(e,t){return YH(t)?NK(t):PK(e,t)}var OK=$i((function e(){Xi(this,e),this._=void 0}));function LK(e,t,n){return e instanceof jK?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof VK?BK(e,t):e instanceof UK?zK(e,t):function(e,t){var n=FK(e,t),r=WK(n)+WK(e.gt);return pG(n)&&pG(e.gt)?NK(r):PK(e.yt,r)}(e,t)}function MK(e,t,n){return e instanceof VK?BK(e,t):e instanceof UK?zK(e,t):n}function FK(e,t){return e instanceof qK?pG(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var jK=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n)}(OK),VK=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).elements=e,r}return $i(n)}(OK);function BK(e,t){var n,r=HK(t),i=nt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return sG(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var UK=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).elements=e,r}return $i(n)}(OK);function zK(e,t){var n,r=HK(t),i=nt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!sG(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qK=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return $i(n)}(OK);function WK(e){return ZH(e.integerValue||e.doubleValue)}function HK(e){return vG(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var GK=$i((function e(t,n){Xi(this,e),this.field=t,this.transform=n}));var KK=$i((function e(t,n){Xi(this,e),this.version=t,this.transformResults=n})),QK=function(){function e(t,n){Xi(this,e),this.updateTime=t,this.exists=n}return $i(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function YK(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var $K=$i((function e(){Xi(this,e)}));function XK(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new cQ(e.key,QK.none()):new nQ(e.key,e.data,QK.none());var n,r=e.data,i=nK.empty(),a=new JG(pH.comparator),o=nt(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new rQ(e.key,i,new tK(a.toArray()),QK.none())}function JK(e,t,n){e instanceof nQ?function(e,t,n){var r=e.value.clone(),i=aQ(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rQ?function(e,t,n){if(YK(e.precondition,t)){var r=aQ(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(iQ(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ZK(e,t,n,r){return e instanceof nQ?function(e,t,n,r){if(!YK(e.precondition,t))return n;var i=e.value.clone(),a=oQ(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rQ?function(e,t,n,r){if(!YK(e.precondition,t))return n;var i=oQ(e.fieldTransforms,r,t),a=t.data;return a.setAll(iQ(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return YK(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function eQ(e,t){var n,r=null,i=nt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=FK(a.transform,o||null);null!=s&&(null===r&&(r=nK.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function tQ(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sH(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof VK&&t instanceof VK||e instanceof UK&&t instanceof UK?sH(e.elements,t.elements,sG):e instanceof qK&&t instanceof qK?sG(e.gt,t.gt):e instanceof jK&&t instanceof jK}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var nQ=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Xi(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return $i(n,[{key:"getFieldMask",value:function(){return null}}]),n}($K),rQ=function(e){st(n,e);var t=ta(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Xi(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return $i(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}($K);function iQ(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function aQ(e,t,n){var r=new Map;HW(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,MK(o,s,n[i]))}return r}function oQ(e,t,n){var r,i=new Map,a=nt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,LK(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var sQ,uQ,cQ=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return $i(n,[{key:"getFieldMask",value:function(){return null}}]),n}($K),lQ=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return $i(n,[{key:"getFieldMask",value:function(){return null}}]),n}($K),fQ=$i((function e(t){Xi(this,e),this.count=t}));function hQ(e){switch(e){default:return WW();case KW.CANCELLED:case KW.UNKNOWN:case KW.DEADLINE_EXCEEDED:case KW.RESOURCE_EXHAUSTED:case KW.INTERNAL:case KW.UNAVAILABLE:case KW.UNAUTHENTICATED:return!1;case KW.INVALID_ARGUMENT:case KW.NOT_FOUND:case KW.ALREADY_EXISTS:case KW.PERMISSION_DENIED:case KW.FAILED_PRECONDITION:case KW.ABORTED:case KW.OUT_OF_RANGE:case KW.UNIMPLEMENTED:case KW.DATA_LOSS:return!0}}function dQ(e){if(void 0===e)return UW("GRPC error has no .code"),KW.UNKNOWN;switch(e){case sQ.OK:return KW.OK;case sQ.CANCELLED:return KW.CANCELLED;case sQ.UNKNOWN:return KW.UNKNOWN;case sQ.DEADLINE_EXCEEDED:return KW.DEADLINE_EXCEEDED;case sQ.RESOURCE_EXHAUSTED:return KW.RESOURCE_EXHAUSTED;case sQ.INTERNAL:return KW.INTERNAL;case sQ.UNAVAILABLE:return KW.UNAVAILABLE;case sQ.UNAUTHENTICATED:return KW.UNAUTHENTICATED;case sQ.INVALID_ARGUMENT:return KW.INVALID_ARGUMENT;case sQ.NOT_FOUND:return KW.NOT_FOUND;case sQ.ALREADY_EXISTS:return KW.ALREADY_EXISTS;case sQ.PERMISSION_DENIED:return KW.PERMISSION_DENIED;case sQ.FAILED_PRECONDITION:return KW.FAILED_PRECONDITION;case sQ.ABORTED:return KW.ABORTED;case sQ.OUT_OF_RANGE:return KW.OUT_OF_RANGE;case sQ.UNIMPLEMENTED:return KW.UNIMPLEMENTED;case sQ.DATA_LOSS:return KW.DATA_LOSS;default:return WW()}}(uQ=sQ||(sQ={}))[uQ.OK=0]="OK",uQ[uQ.CANCELLED=1]="CANCELLED",uQ[uQ.UNKNOWN=2]="UNKNOWN",uQ[uQ.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uQ[uQ.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uQ[uQ.NOT_FOUND=5]="NOT_FOUND",uQ[uQ.ALREADY_EXISTS=6]="ALREADY_EXISTS",uQ[uQ.PERMISSION_DENIED=7]="PERMISSION_DENIED",uQ[uQ.UNAUTHENTICATED=16]="UNAUTHENTICATED",uQ[uQ.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uQ[uQ.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uQ[uQ.ABORTED=10]="ABORTED",uQ[uQ.OUT_OF_RANGE=11]="OUT_OF_RANGE",uQ[uQ.UNIMPLEMENTED=12]="UNIMPLEMENTED",uQ[uQ.INTERNAL=13]="INTERNAL",uQ[uQ.UNAVAILABLE=14]="UNAVAILABLE",uQ[uQ.DATA_LOSS=15]="DATA_LOSS";var pQ=function(){function e(t,n){Xi(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return $i(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=nt(n);try{for(i.s();!(r=i.n()).done;){var a=Qe(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){HH(this.inner,(function(t,n){var r,i=nt(n);try{for(i.s();!(r=i.n()).done;){var a=Qe(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return GH(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),vQ=new YG(vH.comparator);function mQ(){return vQ}var yQ=new YG(vH.comparator);function gQ(){for(var e=yQ,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function bQ(e){var t=yQ;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function kQ(){return _Q()}function wQ(){return _Q()}function _Q(){return new pQ((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var xQ=new YG(vH.comparator),SQ=new JG(vH.comparator);function EQ(){for(var e=SQ,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var TQ=new JG(oH);function IQ(){return TQ}var CQ=function(){function e(t,n,r,i,a){Xi(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return $i(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,AQ.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(lH.min(),i,IQ(),mQ(),EQ())}}]),e}(),AQ=function(){function e(t,n,r,i,a){Xi(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return $i(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,EQ(),EQ(),EQ())}}]),e}(),RQ=$i((function e(t,n,r,i){Xi(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),PQ=$i((function e(t,n){Xi(this,e),this.targetId=t,this.Et=n})),NQ=$i((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$H.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Xi(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),DQ=function(){function e(){Xi(this,e),this.At=0,this.Rt=MQ(),this.bt=$H.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return $i(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=EQ(),t=EQ(),n=EQ();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:WW()}})),new AQ(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=MQ()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),OQ=function(){function e(t){Xi(this,e),this.$t=t,this.Bt=new Map,this.Lt=mQ(),this.qt=LQ(),this.Ut=new JG(oH)}return $i(e,[{key:"Kt",value:function(e){var t,n=nt(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=nt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:WW()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(cK(i))if(0===n){var a=new vH(i.path);this.Qt(t,a,iK.newNoDocument(a,lH.min()))}else HW(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&cK(a.target)){var o=new vH(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,iK.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=EQ();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new CQ(e,n,this.Ut,this.Lt,r);return this.Lt=mQ(),this.qt=LQ(),this.Ut=new JG(oH),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new DQ,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new JG(oH),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||BW("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new DQ),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function LQ(){return new YG(vH.comparator)}function MQ(){return new YG(vH.comparator)}var FQ={asc:"ASCENDING",desc:"DESCENDING"},jQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VQ={and:"AND",or:"OR"},BQ=$i((function e(t,n){Xi(this,e),this.databaseId=t,this.wt=n}));function UQ(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function zQ(e,t){return e.wt?t.toBase64():t.toUint8Array()}function qQ(e,t){return UQ(e,t.toTimestamp())}function WQ(e){return HW(!!e),lH.fromTimestamp(function(e){var t=JH(e);return new cH(t.seconds,t.nanos)}(e))}function HQ(e,t){return function(e){return new hH(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function GQ(e){var t=hH.fromString(e);return HW(vY(t)),t}function KQ(e,t){return HQ(e.databaseId,t.path)}function QQ(e,t){var n=GQ(t);if(n.get(1)!==e.databaseId.projectId)throw new QW(KW.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new QW(KW.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vH(JQ(n))}function YQ(e,t){return HQ(e.databaseId,t)}function $Q(e){var t=GQ(e);return 4===t.length?hH.emptyPath():JQ(t)}function XQ(e){return new hH(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function JQ(e){return HW(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ZQ(e,t,n){return{name:KQ(e,t),fields:n.value.mapValue.fields}}function eY(e,t,n){var r=QQ(e,t.name),i=WQ(t.updateTime),a=t.createTime?WQ(t.createTime):lH.min(),o=new nK({mapValue:{fields:t.fields}}),s=iK.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function tY(e,t){return"found"in t?function(e,t){HW(!!t.found),t.found.name,t.found.updateTime;var n=QQ(e,t.found.name),r=WQ(t.found.updateTime),i=t.found.createTime?WQ(t.found.createTime):lH.min(),a=new nK({mapValue:{fields:t.found.fields}});return iK.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){HW(!!t.missing),HW(!!t.readTime);var n=QQ(e,t.missing),r=WQ(t.readTime);return iK.newNoDocument(n,r)}(e,t):WW()}function nY(e,t){var n;if(t instanceof nQ)n={update:ZQ(e,t.key,t.value)};else if(t instanceof cQ)n={delete:KQ(e,t.key)};else if(t instanceof rQ)n={update:ZQ(e,t.key,t.data),updateMask:pY(t.fieldMask)};else{if(!(t instanceof lQ))return WW();n={verify:KQ(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof jK)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof VK)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof UK)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qK)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw WW()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:qQ(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:WW()}(e,t.precondition)),n}function rY(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?QK.updateTime(WQ(e.updateTime)):void 0!==e.exists?QK.exists(e.exists):QK.none()}(t.currentDocument):QK.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)HW("REQUEST_TIME"===t.setToServerValue),n=new jK;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new VK(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new UK(i)}else"increment"in t?n=new qK(e,t.increment):WW();var a=pH.fromServerFormat(t.fieldPath);return new GK(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=QQ(e,t.update.name),a=new nK({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new tK(t.map((function(e){return pH.fromServerFormat(e)})))}(t.updateMask);return new rQ(i,a,o,n,r)}return new nQ(i,a,n,r)}if(t.delete){var s=QQ(e,t.delete);return new cQ(s,n)}if(t.verify){var u=QQ(e,t.verify);return new lQ(u,n)}return WW()}function iY(e,t){return{documents:[YQ(e,t.path)]}}function aY(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=YQ(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=YQ(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return dY(RG.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:fY(e.field),direction:uY(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||KH(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function oY(e){var t=$Q(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){HW(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=sY(e);return t instanceof RG&&DG(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new KG(hY(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return KH(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new EG(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new EG(n,t)}(n.endAt)),pK(t,i,s,o,u,"F",c,l)}function sY(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=hY(e.unaryFilter.field);return AG.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=hY(e.unaryFilter.field);return AG.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hY(e.unaryFilter.field);return AG.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hY(e.unaryFilter.field);return AG.create(i,"!=",{nullValue:"NULL_VALUE"});default:return WW()}}(e):void 0!==e.fieldFilter?function(e){return AG.create(hY(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return WW()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return RG.create(e.compositeFilter.filters.map((function(e){return sY(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return WW()}}(e.compositeFilter.op))}(e):WW()}function uY(e){return FQ[e]}function cY(e){return jQ[e]}function lY(e){return VQ[e]}function fY(e){return{fieldPath:e.canonicalString()}}function hY(e){return pH.fromServerFormat(e.fieldPath)}function dY(e){return e instanceof AG?function(e){if("=="===e.op){if(yG(e.value))return{unaryFilter:{field:fY(e.field),op:"IS_NAN"}};if(mG(e.value))return{unaryFilter:{field:fY(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yG(e.value))return{unaryFilter:{field:fY(e.field),op:"IS_NOT_NAN"}};if(mG(e.value))return{unaryFilter:{field:fY(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fY(e.field),op:cY(e.op),value:e.value}}}(e):e instanceof RG?function(e){var t=e.getFilters().map((function(e){return dY(e)}));return 1===t.length?t[0]:{compositeFilter:{op:lY(e.op),filters:t}}}(e):WW()}function pY(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function vY(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function mY(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=gY(t)),t=yY(e.get(n),t);return gY(t)}function yY(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function gY(e){return e+"\x01\x01"}function bY(e){var t=e.length;if(HW(t>=2),2===t)return HW("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hH.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&WW(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:WW()}a=o+2}return new hH(r)}var kY=["userId","batchId"];function wY(e,t){return[e,mY(t)]}function _Y(e,t,n){return[e,mY(t),n]}var xY={},SY=["prefixPath","collectionGroup","readTime","documentId"],EY=["prefixPath","collectionGroup","documentId"],TY=["collectionGroup","readTime","prefixPath","documentId"],IY=["canonicalId","targetId"],CY=["targetId","path"],AY=["path","targetId"],RY=["collectionId","parent"],PY=["indexId","uid"],NY=["uid","sequenceNumber"],DY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OY=["indexId","uid","orderedDocumentKey"],LY=["userId","collectionPath","documentId"],MY=["userId","collectionPath","largestBatchId"],FY=["userId","collectionGroup","largestBatchId"],jY=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),VY=[].concat(it(jY),["documentOverlays"]),BY=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UY=BY,zY=[].concat(UY,["indexConfiguration","indexState","indexEntries"]),qY=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return $i(n)}(TH);function WY(e,t){var n=GW(e);return PH.M(n.se,t)}var HY=function(){function e(t,n,r,i){Xi(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return $i(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&JK(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=nt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ZK(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=nt(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=ZK(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=wQ();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=XK(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(lH.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),EQ())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&sH(this.mutations,e.mutations,(function(e,t){return tQ(e,t)}))&&sH(this.baseMutations,e.baseMutations,(function(e,t){return tQ(e,t)}))}}]),e}(),GY=function(){function e(t,n,r,i){Xi(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return $i(e,null,[{key:"from",value:function(t,n,r){HW(t.mutations.length===r.length);for(var i=xQ,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),KY=function(){function e(t,n){Xi(this,e),this.largestBatchId=t,this.mutation=n}return $i(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),QY=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lH.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:lH.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$H.EMPTY_BYTE_STRING;Xi(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return $i(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),YY=$i((function e(t){Xi(this,e),this.ie=t}));function $Y(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:XY(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:KQ(e,t.key),fields:t.data.value.mapValue.fields,updateTime:UQ(e,t.version.toTimestamp()),createTime:UQ(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:JY(t.version)};else{if(!t.isUnknownDocument())return WW();r.unknownDocument={path:n.path.toArray(),version:JY(t.version)}}return r}function XY(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function JY(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ZY(e){var t=new cH(e.seconds,e.nanoseconds);return lH.fromTimestamp(t)}function e$(e,t){for(var n=(t.baseMutations||[]).map((function(t){return rY(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return rY(e.ie,t)})),s=cH.fromMillis(t.localWriteTimeMs);return new HY(t.batchId,s,n,o)}function t$(e){var t,n,r=ZY(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ZY(e.lastLimboFreeSnapshotVersion):lH.min();return void 0!==e.query.documents?(HW(1===(n=e.query).documents.length),t=wK(vK($Q(n.documents[0])))):t=function(e){return wK(oY(e))}(e.query),new QY(t,e.targetId,0,e.lastListenSequenceNumber,r,i,$H.fromBase64String(e.resumeToken))}function n$(e,t){var n,r=JY(t.snapshotVersion),i=JY(t.lastLimboFreeSnapshotVersion);n=cK(t.target)?iY(e.ie,t.target):aY(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sK(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function r$(e){var t=oY({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xK(t,t.limit,"L"):t}function i$(e,t){return new KY(t.largestBatchId,rY(e.ie,t.overlayMutation))}function a$(e,t){var n=t.path.lastSegment();return[e,mY(t.path.popLast()),n]}function o$(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:JY(r.readTime),documentKey:mY(r.documentKey.path),largestBatchId:r.largestBatchId}}var s$=function(){function e(){Xi(this,e)}return $i(e,[{key:"getBundleMetadata",value:function(e,t){return u$(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ZY(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return u$(e).put({bundleId:(n=t).id,createTime:JY(WQ(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return c$(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:r$(t.bundledQuery),readTime:ZY(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return c$(e).put(function(e){return{name:e.name,readTime:JY(WQ(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function u$(e){return WY(e,"bundles")}function c$(e){return WY(e,"namedQueries")}var l$=function(){function e(t,n){Xi(this,e),this.yt=t,this.userId=n}return $i(e,[{key:"getOverlay",value:function(e,t){var n=this;return f$(e).get(a$(this.userId,t)).next((function(e){return e?i$(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=kQ();return AH.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new KY(t,a);i.push(r.oe(e,o))})),AH.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(mY(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(f$(e).Y("collectionPathOverlayIndex",i))})),AH.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=kQ(),a=mY(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return f$(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=nt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=i$(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=kQ(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return f$(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=i$(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return f$(e).put(function(e,t,n){var r=Qe(a$(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:nY(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function f$(e){return WY(e,"documentOverlays")}var h$=function(){function e(){Xi(this,e)}return $i(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ZH(e.integerValue));else if("doubleValue"in e){var n=ZH(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),QH(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(eG(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?kG(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):WW()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=nt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),vH.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function d$(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function p$(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=d$(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}h$.Ie=new h$;var v$=function(){function e(){Xi(this,e),this.buffer=new Uint8Array(1024),this.position=0}return $i(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=nt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=nt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=p$(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=p$(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),m$=function(){function e(t){Xi(this,e),this.$e=t}return $i(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),y$=function(){function e(t){Xi(this,e),this.$e=t}return $i(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),g$=function(){function e(){Xi(this,e),this.$e=new v$,this.Be=new m$(this.$e),this.Le=new y$(this.$e)}return $i(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),b$=function(){function e(t,n,r,i){Xi(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return $i(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function k$(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=w$(e.arrayValue,t.arrayValue))?n:0!==(n=w$(e.directionalValue,t.directionalValue))?n:vH.comparator(e.documentKey,t.documentKey)}function w$(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var _$=function(){function e(t){Xi(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=nt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return $i(e,[{key:"je",value:function(e){HW(e.collectionGroup===this.collectionId);var t=yH(e);if(void 0!==t&&!this.We(t))return!1;for(var n=gH(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=nt(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function x$(e){var t,n;if(HW(e instanceof AG||e instanceof RG),e instanceof AG){if(e instanceof WG){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return AG.create(e.field,"==",t)})))||[];return RG.create(r,"or")}return e}var i=e.filters.map((function(e){return x$(e)}));return RG.create(i,e.op)}function S$(e){if(0===e.getFilters().length)return[];var t=C$(x$(e));return HW(I$(t)),E$(t)||T$(t)?[t]:t.getFilters()}function E$(e){return e instanceof AG}function T$(e){return e instanceof RG&&DG(e)}function I$(e){return E$(e)||T$(e)||function(e){if(e instanceof RG&&NG(e)){var t,n=nt(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!E$(r)&&!T$(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function C$(e){if(HW(e instanceof AG||e instanceof RG),e instanceof AG)return e;if(1===e.filters.length)return C$(e.filters[0]);var t=e.filters.map((function(e){return C$(e)})),n=RG.create(t,e.op);return I$(n=P$(n))?n:(HW(n instanceof RG),HW(PG(n)),HW(n.filters.length>1),n.filters.reduce((function(e,t){return A$(e,t)})))}function A$(e,t){var n;return HW(e instanceof AG||e instanceof RG),HW(t instanceof AG||t instanceof RG),n=e instanceof AG?t instanceof AG?function(e,t){return RG.create([e,t],"and")}(e,t):R$(e,t):t instanceof AG?R$(t,e):function(e,t){if(HW(e.filters.length>0&&t.filters.length>0),PG(e)&&PG(t))return FG(e,t.getFilters());var n=NG(e)?e:t,r=NG(e)?t:e,i=n.filters.map((function(e){return A$(e,r)}));return RG.create(i,"or")}(e,t),P$(n)}function R$(e,t){if(PG(t))return FG(t,e.getFilters());var n=t.filters.map((function(t){return A$(e,t)}));return RG.create(n,"or")}function P$(e){if(HW(e instanceof AG||e instanceof RG),e instanceof AG)return e;var t=e.getFilters();if(1===t.length)return P$(t[0]);if(OG(e))return e;var n=t.map((function(e){return P$(e)})),r=[];return n.forEach((function(t){t instanceof AG?r.push(t):t instanceof RG&&(t.op===e.op?r.push.apply(r,it(t.filters)):r.push(t))})),1===r.length?r[0]:RG.create(r,e.op)}var N$=function(){function e(){Xi(this,e),this.Je=new D$}return $i(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),AH.resolve()}},{key:"getCollectionParents",value:function(e,t){return AH.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return AH.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return AH.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return AH.resolve(null)}},{key:"getIndexType",value:function(e,t){return AH.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return AH.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return AH.resolve(null)}},{key:"getMinOffset",value:function(e,t){return AH.resolve(xH.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return AH.resolve(xH.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return AH.resolve()}},{key:"updateIndexEntries",value:function(e,t){return AH.resolve()}}]),e}(),D$=function(){function e(){Xi(this,e),this.index={}}return $i(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new JG(hH.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new JG(hH.comparator)).toArray()}}]),e}(),O$=new Uint8Array(0),L$=function(){function e(t,n){Xi(this,e),this.user=t,this.databaseId=n,this.Ye=new D$,this.Xe=new pQ((function(e){return sK(e)}),(function(e,t){return uK(e,t)})),this.uid=t.uid||""}return $i(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:mY(i)};return M$(e).put(a)}return AH.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[uH(t),""],!1,!0);return M$(e).W(r).next((function(e){var r,i=nt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(bY(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=j$(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=V$(e);return a.next((function(e){o.put(o$(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=j$(e),r=V$(e),i=F$(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=F$(e),i=!0,a=new Map;return AH.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=EQ(),o=[];return AH.forEach(a,(function(i,a){var s;BW("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(sK(t)));var u=function(e,t){var n=yH(t);if(void 0===n)return null;var r,i=nt(lK(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=nt(gH(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=nt(lK(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=nt(gH(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?fK(e,o.fieldPath,e.startAt):hK(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new EG(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=nt(gH(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?hK(e,o.fieldPath,e.endAt):fK(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new EG(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return AH.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=vH.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return AH.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:S$(RG.create(e.filters,"and")).map((function(t){return oK(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.rn(t[h/c]):O$,f=s.on(e,u,n[h%c],r),d=s.un(e,u,i[h%c],a),p=o.map((function(t){return s.on(e,u,t,!0)}));l.push.apply(l,it(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new b$(e,vH.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new b$(e,vH.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new _$(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=nt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return AH.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new JG(pH.comparator),r=!1,i=nt(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=nt(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=nt(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new g$,i=nt(gH(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);h$.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new g$;return h$.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new g$;return h$.Ie.ue(dG(this.databaseId,t),n.qe(function(e){var t=gH(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new g$);var i,a=0,o=nt(gH(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=nt(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&vG(c))r=this.ln(r,u,c);else{var h=f.qe(u.kind);h$.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=it(e),a=[],o=nt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=nt(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new g$;f.seed(l.Fe()),h$.Ie.ue(u,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof AG&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=j$(e),i=V$(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return AH.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new kH(t.sequenceNumber,new xH(ZY(t.readTime),new vH(bY(t.documentKey)),t.largestBatchId)):kH.empty(),r=e.fields.map((function(e){var t=Qe(e,2),n=t[0],r=t[1];return new bH(pH.fromServerFormat(n),r)}));return new mH(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:oH(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=j$(e),a=V$(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return AH.forEach(t,(function(t){return a.put(o$(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return AH.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?AH.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),AH.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?AH.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return F$(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return F$(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=F$(e),i=new JG(k$);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new b$(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new JG(k$),r=this.cn(t,e);if(null==r)return n;var i=yH(t);if(null!=i){var a=e.data.field(i.fieldPath);if(vG(a)){var o,s=nt(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new b$(t.indexId,e.key,this.rn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new b$(t.indexId,e.key,O$,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;BW("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=eK(a),u=eK(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=eK(o)):l?(i(s),s=eK(a)):(s=eK(a),u=eK(o))}}(r,i,k$,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),AH.waitFor(o)}},{key:"dn",value:function(e){var t=1;return V$(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return k$(e,t)})).filter((function(e,t,n){return!t||0!==k$(e,n[t-1])}));var r=[];r.push(e);var i,a=nt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=k$(o,e),u=k$(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,O$,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,O$,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return k$(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(B$)}},{key:"getMinOffset",value:function(e,t){var n=this;return AH.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||WW()}))})).next(B$)}}]),e}();function M$(e){return WY(e,"collectionParents")}function F$(e){return WY(e,"indexEntries")}function j$(e){return WY(e,"indexConfiguration")}function V$(e){return WY(e,"indexState")}function B$(e){HW(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;SH(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xH(t.readTime,t.documentKey,n)}var U$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z$=function(){function e(t,n,r){Xi(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return $i(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function q$(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){HW(1===s)})));var c,l=[],f=nt(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=_Y(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return AH.waitFor(a).next((function(){return l}))}function W$(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw WW();t=e.noDocument}return JSON.stringify(t).length}z$.DEFAULT_COLLECTION_PERCENTILE=10,z$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,z$.DEFAULT=new z$(41943040,z$.DEFAULT_COLLECTION_PERCENTILE,z$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),z$.DISABLED=new z$(-1,0,0);var H$=function(){function e(t,n,r,i){Xi(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return $i(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return K$(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Q$(e),o=K$(e);return o.add({}).next((function(s){HW("number"==typeof s);var u,c=new HY(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return nY(e.ie,t)})),i=n.mutations.map((function(t){return nY(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new JG((function(e,t){return oH(e.canonicalString(),t.canonicalString())})),d=nt(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=_Y(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,xY))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),AH.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return K$(e).get(t).next((function(e){return e?(HW(e.userId===n.userId),e$(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?AH.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return K$(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(HW(t.batchId>=r),a=e$(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return K$(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return K$(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return e$(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=wY(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Q$(e).Z({range:i},(function(r,i,o){var s=Qe(r,3),u=s[0],c=s[1],l=s[2],f=bY(c);if(u===n.userId&&t.path.isEqual(f))return K$(e).get(l).next((function(e){if(!e)throw WW();HW(e.userId===n.userId),a.push(e$(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new JG(oH),i=[];return t.forEach((function(t){var a=wY(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Q$(e).Z({range:o},(function(e,i,a){var o=Qe(e,3),s=o[0],u=o[1],c=o[2],l=bY(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),AH.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=wY(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new JG(oH);return Q$(e).Z({range:o},(function(e,t,a){var o=Qe(e,3),u=o[0],c=o[1],l=o[2],f=bY(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(K$(e).get(t).next((function(e){if(null===e)throw WW();HW(e.userId===n.userId),r.push(e$(n.yt,e))})))})),AH.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return q$(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),AH.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return AH.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Q$(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=bY(e[1]);i.push(a)}else r.done()})).next((function(){HW(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return G$(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Y$(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return HW(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function G$(e,t,n){var r=wY(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Q$(e).Z({range:a,X:!0},(function(e,n,r){var a=Qe(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function K$(e){return WY(e,"mutations")}function Q$(e){return WY(e,"documentMutations")}function Y$(e){return WY(e,"mutationQueues")}var $$=function(){function e(t){Xi(this,e),this.bn=t}return $i(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),X$=function(){function e(t,n){Xi(this,e),this.referenceDelegate=t,this.yt=n}return $i(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new $$(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return lH.fromTimestamp(new cH(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return J$(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return HW(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return J$(e).Z((function(o,s){var u=t$(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return AH.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return J$(e).Z((function(e,n){var r=t$(n);t(r)}))}},{key:"Vn",value:function(e){return Z$(e).get("targetGlobalKey").next((function(e){return HW(null!==e),e}))}},{key:"Sn",value:function(e,t){return Z$(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return J$(e).put(n$(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=sK(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return J$(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=t$(n);uK(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=eX(e);return t.forEach((function(t){var o=mY(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),AH.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=eX(e);return AH.forEach(t,(function(t){var a=mY(t.path);return AH.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=eX(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=eX(e),i=EQ();return r.Z({range:n,X:!0},(function(e,t,n){var r=bY(e[1]),a=new vH(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=mY(t.path),r=IDBKeyRange.bound([n],[uH(n)],!1,!0),i=0;return eX(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=Qe(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return J$(e).get(t).next((function(e){return e?t$(e):null}))}}]),e}();function J$(e){return WY(e,"targets")}function Z$(e){return WY(e,"targetGlobal")}function eX(e){return WY(e,"targetDocuments")}function tX(e,t){var n=Qe(e,2),r=n[0],i=n[1],a=Qe(t,2),o=a[0],s=a[1],u=oH(r,o);return 0===u?oH(i,s):u}var nX=function(){function e(t){Xi(this,e),this.xn=t,this.buffer=new JG(tX),this.Nn=0}return $i(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tX(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),rX=function(){function e(t,n,r){Xi(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return $i(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;BW("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!OH(e.t0)){e.next=12;break}BW("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,IH(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),iX=function(){function e(t,n){Xi(this,e),this.$n=t,this.params=n}return $i(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return AH.resolve(UH.at);var r=new nX(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(BW("LruGarbageCollector","Garbage collection skipped; disabled"),AH.resolve(U$)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(BW("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),U$):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(BW("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),VW()<=eE.DEBUG&&BW("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),AH.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),aX=function(){function e(t,n){Xi(this,e),this.db=t,this.garbageCollector=function(e,t){return new iX(e,t)}(this,n)}return $i(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return oX(e,n)}},{key:"removeReference",value:function(e,t,n){return oX(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return oX(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Y$(e).tt((function(r){return G$(e,r,t).next((function(e){return e&&(n=!0),AH.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,lH.min()),eX(e).delete([0,mY(o.path)])}))}));i.push(u)}})).next((function(){return AH.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return oX(e,t)}},{key:"Kn",value:function(e,t){var n,r=eX(e),i=UH.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=Qe(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==UH.at&&t(new vH(bY(n)),i),i=u,n=s):i=UH.at})).next((function(){i!==UH.at&&t(new vH(bY(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function oX(e,t){return eX(e).put(function(e,t){return{targetId:0,path:mY(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var sX=function(){function e(){Xi(this,e),this.changes=new pQ((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return $i(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,iK.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?AH.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),uX=function(){function e(t){Xi(this,e),this.yt=t}return $i(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return hX(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return hX(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],XY(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=iK.newInvalidDocument(t);return hX(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(dX(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:iK.newInvalidDocument(t)};return hX(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(dX(t))},(function(e,i){r={document:n.jn(t,i),size:W$(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=mQ();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=mQ(),i=new YG(vH.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,W$(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return AH.resolve();var r=new JG(vX);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(dX(r.first()),dX(r.last())),a=r.getIterator(),o=a.getNext();return hX(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=vH.fromSegments([].concat(it(t.prefixPath),[t.collectionGroup,t.documentId]));o&&vX(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(dX(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),XY(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hX(e).W(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=mQ(),o=nt(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.jn(vH.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(IK(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=mQ(),o=pX(t,n),s=pX(t,xH.max());return hX(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(vH.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new lX(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return fX(e).get("remoteDocumentGlobalKey").next((function(e){return HW(!!e),e}))}},{key:"Qn",value:function(e,t){return fX(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=eY(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=vH.fromSegments(t.noDocument.path),i=ZY(t.noDocument.readTime);n=iK.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return WW();var a=vH.fromSegments(t.unknownDocument.path),o=ZY(t.unknownDocument.version);n=iK.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new cH(e[0],e[1]);return lH.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(lH.min()))return n}return iK.newInvalidDocument(e)}}]),e}();function cX(e){return new uX(e)}var lX=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new pQ((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return $i(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new JG((function(e,t){return oH(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=$Y(t.Yn.yt,o);i=i.add(a.path.popLast());var c=W$(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=$Y(t.Yn.yt,o.convertToNoDocument(lH.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),AH.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(sX);function fX(e){return WY(e,"remoteDocumentGlobal")}function hX(e){return WY(e,"remoteDocumentsV14")}function dX(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pX(e,t){var n=t.documentKey.path.toArray();return[e,XY(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vX(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=oH(n[a],r[a]))return i;return(i=oH(n.length,r.length))||((i=oH(n[n.length-2],r[r.length-2]))||oH(n[n.length-1],r[r.length-1]))}var mX=$i((function e(t,n){Xi(this,e),this.overlayedDocument=t,this.mutatedFields=n})),yX=function(){function e(t,n,r,i){Xi(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return $i(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&ZK(r.mutation,e,tK.empty(),cH.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,EQ()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:EQ(),i=kQ();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=gQ();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=kQ();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,EQ())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=mQ(),a=_Q(),o=_Q();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof rQ)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),ZK(o.mutation,t,o.mutation.getFieldMask(),cH.now())):a.set(t.key,tK.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new mX(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=_Q(),i=new YG((function(e,t){return e-t})),a=EQ();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=nt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||tK.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||EQ()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=wQ();c.forEach((function(e){if(!a.has(e)){var n=XK(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return AH.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return vH.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bK(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):AH.resolve(kQ()),s=-1,u=a;return o.next((function(t){return AH.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?AH.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,EQ())})).next((function(e){return{batchId:s,changes:bQ(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new vH(t)).next((function(e){var t=gQ();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=gQ();return this.indexManager.getCollectionParents(e,i).next((function(o){return AH.forEach(o,(function(o){var s=function(e,t){return new dK(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,iK.newInvalidDocument(r)))}));var n=gQ();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&ZK(a.mutation,i,tK.empty(),cH.now()),IK(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),gX=function(){function e(t){Xi(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return $i(e,[{key:"getBundleMetadata",value:function(e,t){return AH.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:WQ(n.createTime)}),AH.resolve()}},{key:"getNamedQuery",value:function(e,t){return AH.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:r$(e.bundledQuery),readTime:WQ(e.readTime)}}(t)),AH.resolve()}}]),e}(),bX=function(){function e(){Xi(this,e),this.overlays=new YG(vH.comparator),this.es=new Map}return $i(e,[{key:"getOverlay",value:function(e,t){return AH.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=kQ();return AH.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),AH.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),AH.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=kQ(),i=t.length+1,a=new vH(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return AH.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new YG((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=kQ(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=kQ(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return AH.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new KY(t,n));var a=this.es.get(t);void 0===a&&(a=EQ(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),kX=function(){function e(){Xi(this,e),this.ns=new JG(wX.ss),this.rs=new JG(wX.os)}return $i(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new wX(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new wX(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new vH(new hH([])),r=new wX(n,e),i=new wX(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new vH(new hH([])),n=new wX(t,e),r=new wX(t,e+1),i=EQ();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new wX(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),wX=function(){function e(t,n){Xi(this,e),this.key=t,this._s=n}return $i(e,null,[{key:"ss",value:function(e,t){return vH.comparator(e.key,t.key)||oH(e._s,t._s)}},{key:"os",value:function(e,t){return oH(e._s,t._s)||vH.comparator(e.key,t.key)}}]),e}(),_X=function(){function e(t,n){Xi(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new JG(wX.ss)}return $i(e,[{key:"checkEmpty",value:function(e){return AH.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new HY(i,t,n,r);this.mutationQueue.push(a);var o,s=nt(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new wX(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return AH.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return AH.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return AH.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return AH.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return AH.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new wX(t,0),i=new wX(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),AH.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new JG(oH);return t.forEach((function(e){var t=new wX(e,0),i=new wX(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),AH.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;vH.isDocumentKey(i)||(i=i.child(""));var a=new wX(new vH(i),0),o=new JG(oH);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),AH.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;HW(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return AH.forEach(t.mutations,(function(i){var a=new wX(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new wX(t,0),r=this.gs.firstAfterOrEqual(n);return AH.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,AH.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),xX=function(){function e(t){Xi(this,e),this.Es=t,this.docs=new YG(vH.comparator),this.size=0}return $i(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return AH.resolve(n?n.document.mutableCopy():iK.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=mQ();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():iK.newInvalidDocument(e))})),AH.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=mQ(),a=t.path,o=new vH(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||SH(_H(l),n)<=0||(r.has(l.key)||IK(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return AH.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){WW()}},{key:"As",value:function(e,t){return AH.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new SX(this)}},{key:"getSize",value:function(e){return AH.resolve(this.size)}}]),e}(),SX=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).Yn=e,r}return $i(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),AH.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(sX),EX=function(){function e(t){Xi(this,e),this.persistence=t,this.Rs=new pQ((function(e){return sK(e)}),uK),this.lastRemoteSnapshotVersion=lH.min(),this.highestTargetId=0,this.bs=0,this.Ps=new kX,this.targetCount=0,this.vs=$$.Pn()}return $i(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),AH.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return AH.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return AH.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),AH.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),AH.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new $$(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,AH.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),AH.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,AH.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),AH.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return AH.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return AH.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),AH.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),AH.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),AH.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return AH.resolve(n)}},{key:"containsKey",value:function(e,t){return AH.resolve(this.Ps.containsKey(t))}}]),e}(),TX=function(){function e(t,n){var r=this;Xi(this,e),this.Vs={},this.overlays={},this.Ss=new UH(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new EX(this),this.indexManager=new N$,this.remoteDocumentCache=new xX((function(e){return r.referenceDelegate.xs(e)})),this.yt=new YY(n),this.Ns=new gX(this.yt)}return $i(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bX,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new _X(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;BW("MemoryPersistence","Starting transaction:",e);var i=new IX(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return AH.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),IX=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return $i(n)}(TH),CX=function(){function e(t){Xi(this,e),this.persistence=t,this.Fs=new kX,this.$s=null}return $i(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw WW()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),AH.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),AH.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),AH.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return AH.forEach(this.Ls,(function(r){var i=vH.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,lH.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return AH.or([function(){return AH.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),AX=function(){function e(t){Xi(this,e),this.yt=t}return $i(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new RH("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kY,{unique:!0}),e.createObjectStore("documentMutations")}(e),RX(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=AH.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),RX(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:lH.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kY,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return AH.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:LY});t.createIndex("collectionPathOverlayIndex",MY,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",FY,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:SY});t.createIndex("documentKeyIndex",EY),t.createIndex("collectionGroupIndex",TY)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:PY}).createIndex("sequenceNumberIndex",NY,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:DY}).createIndex("documentKeyIndex",OY,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=W$(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return AH.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return AH.forEach(r,(function(r){HW(r.userId===n.userId);var i=e$(t.yt,r);return q$(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new hH(n),o=function(e){return[0,mY(e)]}(a);r.push(t.get(o).next((function(n){return n?AH.resolve():function(n){return t.put({targetId:0,path:mY(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return AH.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:RY});var n=t.store("collectionParents"),r=new D$,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:mY(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new hH(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=Qe(e,3),r=(n[0],n[1]),a=(n[2],bY(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=t$(r),a=n$(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new vH(hH.fromString(i.document.name).popFirst(5)):i.noDocument?vH.fromSegments(i.noDocument.path):i.unknownDocument?vH.fromSegments(i.unknownDocument.path):WW()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return AH.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=cX(this.yt),a=new TX(CX.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:EQ();e$(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),AH.forEach(r,(function(e,r){var o=new MW(r),s=l$.re(n.yt,o),u=a.getIndexManager(o),c=H$.re(o,n.yt,u,a.referenceDelegate);return new yX(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new qY(t,UH.at),e).next()}))}))}}]),e}();function RX(e){e.createObjectStore("targetDocuments",{keyPath:CY}).createIndex("documentTargetsIndex",AY,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IY,{unique:!0}),e.createObjectStore("targetGlobal")}var PX="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",NX=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Xi(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new QW(KW.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aX(this,i),this.ii=n+"main",this.yt=new YY(u),this.ri=new PH(this.ii,this.Xs,new AX(this.yt)),this.Cs=new X$(this.referenceDelegate,this.yt),this.remoteDocumentCache=cX(this.yt),this.Ns=new s$,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&UW("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return $i(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new QW(KW.FAILED_PRECONDITION,PX);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new UH(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=a_(r_().mark((function n(r){return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=a_(r_().mark((function t(n){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return OX(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(OH(t))return BW("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return BW("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return DX(e).get("owner").next((function(e){return AH.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return OX(e).delete(this.clientId)}},{key:"yi",value:function(){var e=a_(r_().mark((function e(){var t,n,r,i,a=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=WY(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return AH.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=nt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?AH.resolve(!0):DX(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new QW(KW.FAILED_PRECONDITION,PX);return!1}}return!(!t.networkEnabled||!t.inForeground)||OX(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&BW("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=a_(r_().mark((function e(){var t=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new qY(e,UH.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return OX(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return H$.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new L$(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return l$.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;BW("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?zY:14===i?UY:13===i?BY:12===i?VY:11===i?jY:void WW();return this.ri.runTransaction(e,o,s,(function(i){return a=new qY(i,r.Ss?r.Ss.next():UH.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw UW("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new QW(KW.FAILED_PRECONDITION,EH);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return DX(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new QW(KW.FAILED_PRECONDITION,PX)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return DX(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=DX(e);return n.get("owner").next((function(e){return t.mi(e)?(BW("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):AH.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(UW("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!yS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return BW("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return UW("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Lt){UW("Failed to set zombie client id.",Lt)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Lt){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return PH.C()}}]),e}();function DX(e){return WY(e,"owner")}function OX(e){return WY(e,"clientMetadata")}function LX(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var MX=function(){function e(t,n,r,i){Xi(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return $i(e,null,[{key:"Ci",value:function(t,n){var r,i=EQ(),a=EQ(),o=nt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),FX=function(){function e(){Xi(this,e),this.xi=!1}return $i(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(mK(t))return AH.resolve(null);var r=wK(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=xK(t,null,"F"),r=wK(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=EQ.apply(void 0,it(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,xK(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return mK(t)||r.isEqual(lH.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(VW()<=eE.DEBUG&&BW("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),TK(t)),i.Bi(e,o,t,wH(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new JG(AK(e));return t.forEach((function(t,r){IK(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return VW()<=eE.DEBUG&&BW("QueryEngine","Using full collection scan to execute query:",TK(t)),this.Ni.getDocumentsMatchingQuery(e,t,xH.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),jX=function(){function e(t,n,r,i){Xi(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new YG(oH),this.Ui=new pQ((function(e){return sK(e)}),uK),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return $i(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yX(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function VX(e,t,n,r){return new jX(e,t,n,r)}function BX(e,t){return UX.apply(this,arguments)}function UX(){return UX=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GW(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=EQ(),u=nt(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=nt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=nt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=nt(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),UX.apply(this,arguments)}function zX(e,t){var n=GW(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=AH.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);HW(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=EQ(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function qX(e){var t=GW(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function WX(e,t){var n=GW(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken($H.EMPTY_BYTE_STRING,lH.min()).withLastLimboFreeSnapshotVersion(lH.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=mQ(),u=EQ();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(HX(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(lH.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return AH.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function HX(e,t,n){var r=EQ(),i=EQ();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=mQ();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(lH.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):BW("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function GX(e,t){var n=GW(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function KX(e,t){var n=GW(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,AH.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new QY(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function QX(e,t,n){return YX.apply(this,arguments)}function YX(){return YX=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=GW(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),OH(e.t1)){e.next=12;break}throw e.t1;case 12:BW("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),YX.apply(this,arguments)}function $X(e,t,n){var r=GW(e),i=lH.min(),a=EQ();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=GW(e),i=r.Ui.get(n);return void 0!==i?AH.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,wK(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:lH.min(),n?a:EQ())})).next((function(e){return ZX(r,CK(t),e),{documents:e,Hi:a}}))}))}function XX(e,t){var n=GW(e),r=GW(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function JX(e,t){var n=GW(e),r=n.Ki.get(t)||lH.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,wH(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ZX(n,t,e),e}))}function ZX(e,t,n){var r=e.Ki.get(t)||lH.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function eJ(e,t,n,r){return tJ.apply(this,arguments)}function tJ(){return tJ=a_(r_().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=GW(t),o=EQ(),s=mQ(),u=nt(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,KX(a,function(e){return wK(vK(hH.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return HX(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),tJ.apply(this,arguments)}function nJ(e,t){return rJ.apply(this,arguments)}function rJ(){return rJ=a_(r_().mark((function e(t,n){var r,i,a,o=arguments;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:EQ(),e.next=3,KX(t,wK(r$(n.bundledQuery)));case 3:return i=e.sent,a=GW(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=WQ(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken($H.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),rJ.apply(this,arguments)}function iJ(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function aJ(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function oJ(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var sJ=function(){function e(t,n,r,i){Xi(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return $i(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new QW(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(UW("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),uJ=function(){function e(t,n,r){Xi(this,e),this.targetId=t,this.state=n,this.error=r}return $i(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new QW(i.error.code,i.error.message))),a?new e(t,i.state,r):(UW("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),cJ=function(){function e(t,n){Xi(this,e),this.clientId=t,this.activeTargetIds=n}return $i(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=IQ(),o=0;i&&o<r.activeTargetIds.length;++o)i=YH(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(UW("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),lJ=function(){function e(t,n){Xi(this,e),this.clientId=t,this.onlineState=n}return $i(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(UW("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),fJ=function(){function e(){Xi(this,e),this.activeTargetIds=IQ()}return $i(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),hJ=function(){function e(t,n,r,i,a){Xi(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new YG(oH),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=iJ(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new fJ),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return $i(e,[{key:"start",value:function(){var e=a_(r_().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=nt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(iJ(this.persistenceKey,i)))&&(o=cJ.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=nt(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(oJ(this.persistenceKey,e));if(n){var r=uJ.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(oJ(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return BW("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){BW("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){BW("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(BW("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void UW("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(a_(r_().mark((function e(){var r,i,a,o,s,u,c;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=UH.at;if(null!=e)try{var n=JSON.parse(e);HW("number"==typeof n),t=n}catch(e){UW("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==UH.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new sJ(this.currentUser,e,t,n),i=aJ(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=aJ(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=oJ(this.persistenceKey,e),i=new uJ(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return cJ.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sJ.Zi(new MW(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return uJ.Zi(r,t)}},{key:"yr",value:function(e){return lJ.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:BW("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=IQ();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),dJ=function(){function e(){Xi(this,e),this.Lr=new fJ,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return $i(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new fJ,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),pJ=function(){function e(){Xi(this,e)}return $i(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),vJ=function(){function e(){var t=this;Xi(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return $i(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){BW("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=nt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){BW("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=nt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),mJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},yJ=function(){function e(t){Xi(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return $i(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),gJ=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return $i(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new OW;o.setWithCredentials(!0),o.listenOnce(AW.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case CW.NO_ERROR:var t=o.getResponseJson();BW("Connection","XHR received:",JSON.stringify(t)),i(t);break;case CW.TIMEOUT:BW("Connection",'RPC "'+e+'" timed out'),a(new QW(KW.DEADLINE_EXCEEDED,"Request time out"));break;case CW.HTTP_ERROR:var n=o.getStatus();if(BW("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(KW).indexOf(t)>=0?t:KW.UNKNOWN}(s.status);a(new QW(u,s.message))}else a(new QW(KW.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new QW(KW.UNAVAILABLE,"Connection failed."));break;default:WW()}}finally{BW("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=TW(),a=IW(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new NW({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");BW("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new yJ({Hr:function(e){l?BW("Connection","Not sending because WebChannel is closed:",e):(c||(BW("Connection","Opening WebChannel transport."),u.open(),c=!0),BW("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,DW.EventType.OPEN,(function(){l||BW("Connection","WebChannel transport opened.")})),h(u,DW.EventType.CLOSE,(function(){l||(l=!0,BW("Connection","WebChannel transport closed"),f.io())})),h(u,DW.EventType.ERROR,(function(e){l||(l=!0,zW("Connection","WebChannel transport errored:",e),f.io(new QW(KW.UNAVAILABLE,"The operation could not be completed")))})),h(u,DW.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];HW(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){BW("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=sQ[e];if(void 0!==t)return dQ(t)}(a),s=i.message;void 0===o&&(o=KW.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new QW(o,s)),u.close()}else BW("Connection","WebChannel received:",n),f.ro(n)}})),h(a,RW.STAT_EVENT,(function(e){e.stat===PW.PROXY?BW("Connection","Detected buffering proxy"):e.stat===PW.NOPROXY&&BW("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Xi(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return $i(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);BW("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return BW("RestConnection","Received: ",e),e}),(function(t){throw zW("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+FW,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=mJ[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function bJ(){return"undefined"!=typeof window?window:null}function kJ(){return"undefined"!=typeof document?document:null}function wJ(e){return new BQ(e,!0)}var _J=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Xi(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return $i(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&BW("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),xJ=function(){function e(t,n,r,i,a,o,s,u){Xi(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new _J(t,n)}return $i(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===KW.RESOURCE_EXHAUSTED?(UW(n.toString()),UW("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===KW.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Qe(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new QW(KW.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(a_(r_().mark((function t(){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return BW("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(BW("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),SJ=function(e){st(n,e);var t=ta(n);function n(e,r,i,a,o,s){var u;return Xi(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return $i(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:WW()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(HW(void 0===t||"string"==typeof t),$H.fromBase64String(t||"")):(HW(void 0===t||t instanceof Uint8Array),$H.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?KW.UNKNOWN:dQ(e.code);return new QW(t,e.message||"")}(o);n=new NQ(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=QQ(e,u.document.name),l=WQ(u.document.updateTime),f=u.document.createTime?WQ(u.document.createTime):lH.min(),h=new nK({mapValue:{fields:u.document.fields}}),d=iK.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new RQ(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=QQ(e,m.document),g=m.readTime?WQ(m.readTime):lH.min(),b=iK.newNoDocument(y,g),k=m.removedTargetIds||[];n=new RQ([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=QQ(e,w.document),x=w.removedTargetIds||[];n=new RQ([],x,_,null)}else{if(!("filter"in t))return WW();t.filter;var S=t.filter;S.targetId;var E=S.count||0,T=new fQ(E),I=S.targetId;n=new PQ(I,T)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return lH.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?lH.min():t.readTime?WQ(t.readTime):lH.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=XQ(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=cK(r)?{documents:iY(e,r)}:{query:aY(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=zQ(e,t.resumeToken):t.snapshotVersion.compareTo(lH.min())>0&&(n.readTime=UQ(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return WW()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=XQ(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(xJ),EJ=function(e){st(n,e);var t=ta(n);function n(e,r,i,a,o,s){var u;return Xi(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return $i(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,IT(Ji(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(HW(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(HW(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?WQ(e.updateTime):WQ(t);return n.isEqual(lH.min())&&(n=WQ(t)),new KK(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=WQ(e.commitTime);return this.listener.Zo(n,t)}return HW(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=XQ(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return nY(t.yt,e)}))};this.Bo(n)}}]),n}(xJ),TJ=function(e){st(n,e);var t=ta(n);function n(e,r,i,a){var o;return Xi(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return $i(n,[{key:"su",value:function(){if(this.nu)throw new QW(KW.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Qe(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===KW.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new QW(KW.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Qe(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===KW.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new QW(KW.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return $i((function e(){Xi(this,e)}))}());var IJ=function(){function e(t,n){Xi(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return $i(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(UW(t),this.ou=!1):BW("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),CJ=$i((function e(t,n,r,i,a){var o=this;Xi(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=VJ(o),!e.t0){e.next=5;break}return BW("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=GW(t))._u.add(4),e.next=4,PJ(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,AJ(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new IJ(r,i)}));function AJ(e){return RJ.apply(this,arguments)}function RJ(){return RJ=a_(r_().mark((function e(t){var n,r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!VJ(t)){e.next=18;break}n=nt(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),RJ.apply(this,arguments)}function PJ(e){return NJ.apply(this,arguments)}function NJ(){return NJ=a_(r_().mark((function e(t){var n,r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nt(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),NJ.apply(this,arguments)}function DJ(e,t){var n=GW(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),jJ(n)?FJ(n):pZ(n).ko()&&LJ(n,t))}function OJ(e,t){var n=GW(e),r=pZ(n);n.du.delete(t),r.ko()&&MJ(n,t),0===n.du.size&&(r.ko()?r.Fo():VJ(n)&&n.gu.set("Unknown"))}function LJ(e,t){e.yu.Ot(t.targetId),pZ(e).zo(t)}function MJ(e,t){e.yu.Ot(t),pZ(e).Ho(t)}function FJ(e){e.yu=new OQ({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),pZ(e).start(),e.gu.uu()}function jJ(e){return VJ(e)&&!pZ(e).No()&&e.du.size>0}function VJ(e){return 0===GW(e)._u.size}function BJ(e){e.yu=void 0}function UJ(e){return zJ.apply(this,arguments)}function zJ(){return zJ=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){LJ(t,e)}));case 1:case"end":return e.stop()}}),e)}))),zJ.apply(this,arguments)}function qJ(e,t){return WJ.apply(this,arguments)}function WJ(){return WJ=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:BJ(t),jJ(t)?(t.gu.hu(n),FJ(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),WJ.apply(this,arguments)}function HJ(e,t,n){return GJ.apply(this,arguments)}function GJ(){return GJ=a_(r_().mark((function e(t,n,r){var i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof NQ&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=a_(r_().mark((function e(t,n){var r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=nt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),BW("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,KJ(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof RQ?t.yu.Kt(n):n instanceof PQ?t.yu.Jt(n):t.yu.jt(n),r.isEqual(lH.min())){e.next=29;break}return e.prev=14,e.next=17,qX(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken($H.EMPTY_BYTE_STRING,n.snapshotVersion)),MJ(e,t);var r=new QY(n.target,t,1,n.sequenceNumber);LJ(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),BW("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,KJ(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),GJ.apply(this,arguments)}function KJ(e,t,n){return QJ.apply(this,arguments)}function QJ(){return QJ=a_(r_().mark((function e(t,n,r){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OH(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,PJ(t);case 5:t.gu.set("Offline"),r||(r=function(){return qX(t.localStore)}),t.asyncQueue.enqueueRetryable(a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BW("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,AJ(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),QJ.apply(this,arguments)}function YJ(e,t){return t().catch((function(n){return KJ(e,n,t)}))}function $J(e){return XJ.apply(this,arguments)}function XJ(){return XJ=a_(r_().mark((function e(t){var n,r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=GW(t),r=vZ(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!JJ(n)){e.next=19;break}return e.prev=3,e.next=6,GX(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,ZJ(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,KJ(n,e.t0);case 17:e.next=2;break;case 19:eZ(n)&&tZ(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),XJ.apply(this,arguments)}function JJ(e){return VJ(e)&&e.fu.length<10}function ZJ(e,t){e.fu.push(t);var n=vZ(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function eZ(e){return VJ(e)&&!vZ(e).No()&&e.fu.length>0}function tZ(e){vZ(e).start()}function nZ(e){return rZ.apply(this,arguments)}function rZ(){return rZ=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vZ(t).eu();case 1:case"end":return e.stop()}}),e)}))),rZ.apply(this,arguments)}function iZ(e){return aZ.apply(this,arguments)}function aZ(){return aZ=a_(r_().mark((function e(t){var n,r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vZ(t),r=nt(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),aZ.apply(this,arguments)}function oZ(e,t,n){return sZ.apply(this,arguments)}function sZ(){return sZ=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=GY.from(i,n,r),e.next=3,YJ(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,$J(t);case 5:case"end":return e.stop()}}),e)}))),sZ.apply(this,arguments)}function uZ(e,t){return cZ.apply(this,arguments)}function cZ(){return cZ=a_(r_().mark((function e(t,n){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&vZ(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=a_(r_().mark((function e(t,n){var r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hQ(i=n.code)||i===KW.ABORTED){e.next=7;break}return r=t.fu.shift(),vZ(t).Mo(),e.next=5,YJ(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,$J(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:eZ(t)&&tZ(t);case 5:case"end":return e.stop()}}),e)}))),cZ.apply(this,arguments)}function lZ(e,t){return fZ.apply(this,arguments)}function fZ(){return fZ=a_(r_().mark((function e(t,n){var r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=GW(t)).asyncQueue.verifyOperationInProgress(),BW("RemoteStore","RemoteStore received new credentials"),i=VJ(r),r._u.add(3),e.next=6,PJ(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,AJ(r);case 12:case"end":return e.stop()}}),e)}))),fZ.apply(this,arguments)}function hZ(e,t){return dZ.apply(this,arguments)}function dZ(){return dZ=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=GW(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,AJ(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,PJ(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),dZ.apply(this,arguments)}function pZ(e){return e.pu||(e.pu=function(e,t,n){var r=GW(e);return r.su(),new SJ(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:UJ.bind(null,e),Zr:qJ.bind(null,e),Wo:HJ.bind(null,e)}),e.wu.push(function(){var t=a_(r_().mark((function t(n){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),jJ(e)?FJ(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:BJ(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function vZ(e){return e.Iu||(e.Iu=function(e,t,n){var r=GW(e);return r.su(),new EJ(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:nZ.bind(null,e),Zr:uZ.bind(null,e),tu:iZ.bind(null,e),Zo:oZ.bind(null,e)}),e.wu.push(function(){var t=a_(r_().mark((function t(n){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,$J(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(BW("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var mZ=function(){function e(t,n,r,i,a){Xi(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new YW,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return $i(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new QW(KW.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function yZ(e,t){if(UW("AsyncQueue","".concat(t,": ").concat(e)),OH(e))return new QW(KW.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var gZ=function(){function e(t){Xi(this,e),this.comparator=t?function(e,n){return t(e,n)||vH.comparator(e.key,n.key)}:function(e,t){return vH.comparator(e.key,t.key)},this.keyedMap=gQ(),this.sortedSet=new YG(this.comparator)}return $i(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),bZ=function(){function e(){Xi(this,e),this.Tu=new YG(vH.comparator)}return $i(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):WW():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),kZ=function(){function e(t,n,r,i,a,o,s,u,c){Xi(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return $i(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&SK(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,gZ.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),wZ=$i((function e(){Xi(this,e),this.Au=void 0,this.listeners=[]})),_Z=$i((function e(){Xi(this,e),this.queries=new pQ((function(e){return EK(e)}),SK),this.onlineState="Unknown",this.Ru=new Set}));function xZ(e,t){return SZ.apply(this,arguments)}function SZ(){return SZ=a_(r_().mark((function e(t,n){var r,i,a,o,s;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=GW(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new wZ),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=yZ(e.t0,"Initialization of query '".concat(TK(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&AZ(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),SZ.apply(this,arguments)}function EZ(e,t){return TZ.apply(this,arguments)}function TZ(){return TZ=a_(r_().mark((function e(t,n){var r,i,a,o,s;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=GW(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),TZ.apply(this,arguments)}function IZ(e,t){var n,r=GW(e),i=!1,a=nt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=nt(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&AZ(r)}function CZ(e,t,n){var r=GW(e),i=r.queries.get(t);if(i){var a,o=nt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function AZ(e){e.Ru.forEach((function(e){e.next()}))}var RZ=function(){function e(t,n,r){Xi(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return $i(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=nt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new kZ(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=kZ.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),PZ=function(){function e(t,n){Xi(this,e),this.ku=t,this.byteLength=n}return $i(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),NZ=function(){function e(t){Xi(this,e),this.yt=t}return $i(e,[{key:"Ji",value:function(e){return QQ(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?eY(this.yt,e.document,!1):iK.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return WQ(e)}}]),e}(),DZ=function(){function e(t,n,r){Xi(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OZ(t)}return $i(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=hH.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new NZ(this.yt),i=nt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=nt(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||EQ()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=a_(r_().mark((function e(){var t,n,r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eJ(this.localStore,new NZ(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=nt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,nJ(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function OZ(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var LZ=$i((function e(t){Xi(this,e),this.key=t})),MZ=$i((function e(t){Xi(this,e),this.key=t})),FZ=function(){function e(t,n){Xi(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=EQ(),this.mutatedKeys=EQ(),this.Gu=AK(t),this.Qu=new gZ(this.Gu)}return $i(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new bZ,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=IK(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return WW()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new kZ(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new bZ,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=EQ(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new MZ(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new LZ(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=EQ();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return kZ.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),jZ=$i((function e(t,n,r){Xi(this,e),this.query=t,this.targetId=n,this.view=r})),VZ=$i((function e(t){Xi(this,e),this.key=t,this.nc=!1})),BZ=function(){function e(t,n,r,i,a,o){Xi(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new pQ((function(e){return EK(e)}),SK),this.rc=new Map,this.oc=new Set,this.uc=new YG(vH.comparator),this.cc=new Map,this.ac=new kX,this.hc={},this.lc=new Map,this.fc=$$.vn(),this.onlineState="Unknown",this.dc=void 0}return $i(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function UZ(e,t){return zZ.apply(this,arguments)}function zZ(){return zZ=a_(r_().mark((function e(t,n){var r,i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=O0(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,KX(r.localStore,wK(n));case 8:return s=e.sent,r.isPrimaryClient&&DJ(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,qZ(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),zZ.apply(this,arguments)}function qZ(e,t,n,r,i){return WZ.apply(this,arguments)}function WZ(){return WZ=a_(r_().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=a_(r_().mark((function e(t,n,r,i){var a,o,s;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,$X(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(l0(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,$X(t.localStore,n,!0);case 3:return o=e.sent,s=new FZ(n,o.Hi),u=s.Wu(o.documents),c=AQ.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),l0(t,r,l.Xu),f=new jZ(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),WZ.apply(this,arguments)}function HZ(e,t){return GZ.apply(this,arguments)}function GZ(){return GZ=a_(r_().mark((function e(t,n){var r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=GW(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!SK(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,QX(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),OJ(r.remoteStore,i.targetId),u0(r,i.targetId)})).catch(IH);case 9:e.next=14;break;case 11:return u0(r,i.targetId),e.next=14,QX(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),GZ.apply(this,arguments)}function KZ(e,t,n){return QZ.apply(this,arguments)}function QZ(){return QZ=a_(r_().mark((function e(t,n,r){var i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=L0(t),e.prev=1,e.next=4,function(e,t){var n,r,i=GW(e),a=cH.now(),o=t.reduce((function(e,t){return e.add(t.key)}),EQ());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=mQ(),u=EQ();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=nt(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=eQ(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new rQ(c.key,l,rK(l.value.mapValue),QK.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:bQ(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new YG(oH)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,d0(i,a.changes);case 9:return e.next=11,$J(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=yZ(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),QZ.apply(this,arguments)}function YZ(e,t){return $Z.apply(this,arguments)}function $Z(){return $Z=a_(r_().mark((function e(t,n){var r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GW(t),e.prev=1,e.next=4,WX(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(HW(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?HW(n.nc):e.removedDocuments.size>0&&(HW(n.nc),n.nc=!1))})),e.next=8,d0(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,IH(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),$Z.apply(this,arguments)}function XZ(e,t,n){var r=GW(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=GW(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=nt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&AZ(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function JZ(e,t,n){return ZZ.apply(this,arguments)}function ZZ(){return ZZ=a_(r_().mark((function e(t,n,r){var i,a,o,s,u,c;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=GW(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new YG(vH.comparator)).insert(o,iK.newNoDocument(o,lH.min())),u=EQ().add(o),c=new CQ(lH.min(),new Map,new JG(oH),s,u),e.next=9,YZ(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),h0(i),e.next=16;break;case 14:return e.next=16,QX(i.localStore,n,!1).then((function(){return u0(i,n,r)})).catch(IH);case 16:case"end":return e.stop()}}),e)}))),ZZ.apply(this,arguments)}function e0(e,t){return t0.apply(this,arguments)}function t0(){return t0=a_(r_().mark((function e(t,n){var r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GW(t),i=n.batch.batchId,e.prev=1,e.next=4,zX(r.localStore,n);case 4:return a=e.sent,s0(r,i,null),o0(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,d0(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,IH(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),t0.apply(this,arguments)}function n0(e,t,n){return r0.apply(this,arguments)}function r0(){return r0=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=GW(t),e.prev=1,e.next=4,function(e,t){var n=GW(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return HW(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,s0(i,n,r),o0(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,d0(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,IH(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),r0.apply(this,arguments)}function i0(e,t){return a0.apply(this,arguments)}function a0(){return a0=a_(r_().mark((function e(t,n){var r,i,a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VJ((r=GW(t)).remoteStore)||BW("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=GW(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=yZ(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),a0.apply(this,arguments)}function o0(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function s0(e,t,n){var r=GW(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function u0(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=nt(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||c0(e,t)}))}function c0(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(OJ(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),h0(e))}function l0(e,t,n){var r,i=nt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof LZ?(e.ac.addReference(a.key,t),f0(e,a)):a instanceof MZ?(BW("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||c0(e,a.key)):WW()}}catch(o){i.e(o)}finally{i.f()}}function f0(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(BW("SyncEngine","New document in limbo: "+n),e.oc.add(r),h0(e))}function h0(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new vH(hH.fromString(t)),r=e.fc.next();e.cc.set(r,new VZ(n)),e.uc=e.uc.insert(n,r),DJ(e.remoteStore,new QY(wK(vK(n.path)),r,2,UH.at))}}function d0(e,t,n){return p0.apply(this,arguments)}function p0(){return p0=a_(r_().mark((function e(t,n,r){var i,a,o,s;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=GW(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=MX.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=a_(r_().mark((function e(t,n){var r,i,a,o,s,u,c,l;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GW(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return AH.forEach(n,(function(t){return AH.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return AH.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),OH(e.t0)){e.next=10;break}throw e.t0;case 10:BW("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=nt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),p0.apply(this,arguments)}function v0(e,t){return m0.apply(this,arguments)}function m0(){return m0=a_(r_().mark((function e(t,n){var r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=GW(t)).currentUser.isEqual(n)){e.next=11;break}return BW("SyncEngine","User change. New user:",n.toKey()),e.next=5,BX(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new QW(KW.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,d0(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),m0.apply(this,arguments)}function y0(e,t){var n=GW(e),r=n.cc.get(t);if(r&&r.nc)return EQ().add(r.key);var i=EQ(),a=n.rc.get(t);if(!a)return i;var o,s=nt(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function g0(e,t){return b0.apply(this,arguments)}function b0(){return b0=a_(r_().mark((function e(t,n){var r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GW(t),e.next=3,$X(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&l0(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),b0.apply(this,arguments)}function k0(e,t){return w0.apply(this,arguments)}function w0(){return w0=a_(r_().mark((function e(t,n){var r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GW(t),e.abrupt("return",JX(r.localStore,n).then((function(e){return d0(r,e)})));case 2:case"end":return e.stop()}}),e)}))),w0.apply(this,arguments)}function _0(e,t,n,r){return x0.apply(this,arguments)}function x0(){return x0=a_(r_().mark((function e(t,n,r,i){var a,o;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=GW(t),e.next=3,function(e,t){var n=GW(e),r=GW(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):AH.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,$J(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(s0(a,n,i||null),o0(a,n),function(e,t){GW(GW(e).mutationQueue).An(t)}(a.localStore,n)):WW();case 11:return e.next=13,d0(a,o);case 13:e.next=16;break;case 15:BW("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),x0.apply(this,arguments)}function S0(e,t){return E0.apply(this,arguments)}function E0(){return E0=a_(r_().mark((function e(t,n){var r,i,a,o,s,u,c,l;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O0(r=GW(t)),L0(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,T0(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,hZ(r.remoteStore,!0);case 9:o=nt(a);try{for(o.s();!(s=o.n()).done;)u=s.value,DJ(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return u0(r,t),QX(r.localStore,t,!0)})),OJ(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,T0(r,c);case 21:return function(e){var t=GW(e);t.cc.forEach((function(e,n){OJ(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new YG(vH.comparator)}(r),r.dc=!1,e.next=25,hZ(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),E0.apply(this,arguments)}function T0(e,t,n){return I0.apply(this,arguments)}function I0(){return I0=a_(r_().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=GW(t),a=[],o=[],s=nt(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,KX(i.localStore,wK(f[0]));case 11:l=e.sent,h=nt(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,g0(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,XX(i.localStore,c);case 36:return y=e.sent,e.next=39,KX(i.localStore,y);case 39:return l=e.sent,e.next=42,qZ(i,C0(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),I0.apply(this,arguments)}function C0(e){return pK(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function A0(e){var t=GW(e);return GW(GW(t.localStore).persistence).vi()}function R0(e,t,n,r){return P0.apply(this,arguments)}function P0(){return P0=a_(r_().mark((function e(t,n,r,i){var a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=GW(t)).dc){e.next=3;break}return e.abrupt("return",void BW("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,JX(a.localStore,CK(o[0]));case 10:return s=e.sent,u=CQ.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,$H.EMPTY_BYTE_STRING),e.next=14,d0(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,QX(a.localStore,n,!0);case 17:return u0(a,n,i),e.abrupt("break",20);case 19:WW();case 20:case"end":return e.stop()}}),e)}))),P0.apply(this,arguments)}function N0(e,t,n){return D0.apply(this,arguments)}function D0(){return D0=a_(r_().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=O0(t)).dc){e.next=45;break}a=nt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return BW("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,XX(i.localStore,s);case 12:return u=e.sent,e.next=15,KX(i.localStore,u);case 15:return c=e.sent,e.next=18,qZ(i,C0(u),c.targetId,!1,c.resumeToken);case 18:DJ(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=nt(r),e.prev=30,h=r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,QX(i.localStore,t,!1).then((function(){OJ(i.remoteStore,t),u0(i,t)})).catch(IH);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),D0.apply(this,arguments)}function O0(e){var t=GW(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YZ.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=y0.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JZ.bind(null,t),t.sc.Wo=IZ.bind(null,t.eventManager),t.sc.wc=CZ.bind(null,t.eventManager),t}function L0(e){var t=GW(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=e0.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=n0.bind(null,t),t}function M0(e,t,n){var r=GW(e);(function(){var e=a_(r_().mark((function e(t,n,r){var i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=GW(e),r=WQ(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(OZ(i)),a=new DZ(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,d0(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=GW(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(zW("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var F0=function(){function e(){Xi(this,e),this.synchronizeTabs=!1}return $i(e,[{key:"initialize",value:function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=wJ(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return VX(this.persistence,new FX,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new TX(CX.Bs,this.yt)}},{key:"gc",value:function(e){return new dJ}},{key:"terminate",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),j0=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return $i(n,[{key:"initialize",value:function(){var e=a_(r_().mark((function e(t){var r=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IT(Ji(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,L0(this.Ac.syncEngine);case 6:return e.next=8,$J(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return VX(this.persistence,new FX,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new rX(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new BH(t,this.persistence);return new VH(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=LX(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?z$.withCacheSize(this.cacheSizeBytes):z$.DEFAULT;return new NX(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,bJ(),kJ(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new dJ}}]),n}(F0),V0=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return $i(n,[{key:"initialize",value:function(){var e=a_(r_().mark((function e(t){var r,i=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IT(Ji(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof hJ,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:_0.bind(null,r),$r:R0.bind(null,r),Br:N0.bind(null,r),vi:A0.bind(null,r),Mr:k0.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S0(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=bJ();if(!hJ.C(t))throw new QW(KW.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=LX(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hJ(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(j0),B0=function(){function e(){Xi(this,e)}return $i(e,[{key:"initialize",value:function(){var e=a_(r_().mark((function e(t,n){var r=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return XZ(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=v0.bind(null,this.syncEngine),e.next=12,hZ(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new _Z}},{key:"createDatastore",value:function(e){var t,n=wJ(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new gJ(t));return function(e,t,n,r){return new TJ(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return XZ(o.syncEngine,e,0)},a=vJ.C()?new vJ:new pJ,new CJ(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new BZ(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=GW(t),BW("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,PJ(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function U0(e,t,n){if(!n)throw new QW(KW.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function z0(e,t,n,r){if(!0===t&&!0===r)throw new QW(KW.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function q0(e){if(!vH.isDocumentKey(e))throw new QW(KW.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function W0(e){if(vH.isDocumentKey(e))throw new QW(KW.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function H0(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":WW()}function G0(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new QW(KW.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=H0(e);throw new QW(KW.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function K0(e,t){if(t<=0)throw new QW(KW.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Q0=new Map,Y0=function(){function e(t){var n;if(Xi(this,e),void 0===t.host){if(void 0!==t.ssl)throw new QW(KW.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new QW(KW.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,z0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return $i(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),$0=function(){function e(t,n,r,i){Xi(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1}return $i(e,[{key:"app",get:function(){if(!this._app)throw new QW(KW.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new QW(KW.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new XW;switch(e.type){case"gapi":var t=e.client;return new tH(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new QW(KW.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Q0.get(e);t&&(BW("ComponentProvider","Removing Datastore"),Q0.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function X0(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=G0(e,$0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&zW("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=MW.MOCK_USER;else{o=pS(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new QW(KW.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new MW(u)}e._authCredentials=new JW(new $W(o,s))}}var J0=function(){function e(t,n,r){Xi(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return $i(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new e1(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Z0=function(){function e(t,n,r){Xi(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return $i(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),e1=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this,e,r,vK(i)))._path=i,a.type="collection",a}return $i(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new J0(this.firestore,null,new vH(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Z0);function t1(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=QS(e),U0("collection","path",t),e instanceof $0){var a=hH.fromString.apply(hH,[t].concat(r));return W0(a),new e1(e,null,a)}if(!(e instanceof J0||e instanceof e1))throw new QW(KW.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hH.fromString.apply(hH,[t].concat(r)));return W0(o),new e1(e.firestore,null,o)}function n1(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=QS(e),1===arguments.length&&(t=aH.R()),U0("doc","path",t),e instanceof $0){var a=hH.fromString.apply(hH,[t].concat(r));return q0(a),new J0(e,null,new vH(a))}if(!(e instanceof J0||e instanceof e1))throw new QW(KW.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hH.fromString.apply(hH,[t].concat(r)));return q0(o),new J0(e.firestore,e instanceof e1?e.converter:null,new vH(o))}function r1(e,t){return e=QS(e),t=QS(t),(e instanceof J0||e instanceof e1)&&(t instanceof J0||t instanceof e1)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function i1(e,t){return e=QS(e),t=QS(t),e instanceof Z0&&t instanceof Z0&&e.firestore===t.firestore&&SK(e._query,t._query)&&e.converter===t.converter}function a1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return a_(r_().mark((function r(){var i;return r_().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var o1=function(){function e(t){Xi(this,e),this.observer=t,this.muted=!1}return $i(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):UW("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),s1=function(){function e(t,n){var r=this;Xi(this,e),this.Pc=t,this.yt=n,this.metadata=new YW,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return $i(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=a_(r_().mark((function e(){var t,n,r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new PZ(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=a_(r_().mark((function e(){var t,n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=a_(r_().mark((function e(){var t,n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),u1=function(){function e(t){Xi(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return $i(e,[{key:"lookup",value:function(){var e=a_(r_().mark((function e(t){var n,r=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new QW(KW.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=a_(r_().mark((function e(t,n){var r,i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GW(t),i=XQ(r.yt)+"/documents",a={documents:n.map((function(e){return KQ(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=tY(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());HW(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new cQ(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=a_(r_().mark((function e(){var t,n=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=vH.fromPath(t);n.mutations.push(new lQ(r,n.precondition(r)))})),e.next=7,function(){var e=a_(r_().mark((function e(t,n){var r,i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=GW(t),i=XQ(r.yt)+"/documents",a={writes:n.map((function(e){return nY(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw WW();t=lH.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new QW(KW.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(lH.min())?QK.exists(!1):QK.updateTime(t):QK.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(lH.min()))throw new QW(KW.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return QK.updateTime(t)}return QK.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),c1=function(){function e(t,n,r,i,a){Xi(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new _J(this.asyncQueue,"transaction_retry")}return $i(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(a_(r_().mark((function t(){var n,r;return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new u1(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!KH(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hQ(t)}return!1}}]),e}(),l1=function(){function e(t,n,r,i){var a=this;Xi(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=MW.UNAUTHENTICATED,this.clientId=aH.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BW("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return BW("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return $i(e,[{key:"getConfiguration",value:function(){var e=a_(r_().mark((function e(){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new QW(KW.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new YW;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(a_(r_().mark((function n(){var r;return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=yZ(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function f1(e,t){return h1.apply(this,arguments)}function h1(){return h1=a_(r_().mark((function e(t,n){var r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),BW("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,BX(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),h1.apply(this,arguments)}function d1(e,t){return p1.apply(this,arguments)}function p1(){return p1=a_(r_().mark((function e(t,n){var r,i;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,v1(t);case 3:return r=e.sent,BW("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return lZ(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return lZ(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),p1.apply(this,arguments)}function v1(e){return m1.apply(this,arguments)}function m1(){return m1=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return BW("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,f1(t,new F0);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),m1.apply(this,arguments)}function y1(e){return g1.apply(this,arguments)}function g1(){return g1=a_(r_().mark((function e(t){return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return BW("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,d1(t,new B0);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),g1.apply(this,arguments)}function b1(e){return v1(e).then((function(e){return e.persistence}))}function k1(e){return v1(e).then((function(e){return e.localStore}))}function w1(e){return y1(e).then((function(e){return e.remoteStore}))}function _1(e){return y1(e).then((function(e){return e.syncEngine}))}function x1(e){return y1(e).then((function(e){return e.datastore}))}function S1(e){return E1.apply(this,arguments)}function E1(){return E1=a_(r_().mark((function e(t){var n,r;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y1(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=UZ.bind(null,n.syncEngine),r.onUnlisten=HZ.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),E1.apply(this,arguments)}function T1(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new YW;return e.asyncQueue.enqueueAndForget(a_(r_().mark((function i(){return r_().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new o1({next:function(a){t.enqueueAndForget((function(){return EZ(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new QW(KW.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new QW(KW.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new RZ(vK(n.path),a,{includeMetadataChanges:!0,Nu:!0});return xZ(e,o)},i.next=3,S1(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function I1(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new YW;return e.asyncQueue.enqueueAndForget(a_(r_().mark((function i(){return r_().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new o1({next:function(n){t.enqueueAndForget((function(){return EZ(e,o)})),n.fromCache&&"server"===r.source?i.reject(new QW(KW.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new RZ(n,a,{includeMetadataChanges:!0,Nu:!0});return xZ(e,o)},i.next=3,S1(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var C1=function(){function e(){var t=this;Xi(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new _J(this,"async_queue_retry"),this.Wc=function(){var e=kJ();e&&BW("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=kJ();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return $i(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=kJ();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new YW;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=a_(r_().mark((function e(){var t=this;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),OH(e.t0)){e.next=12;break}throw e.t0;case 12:BW("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw UW("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=mZ.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&WW()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=a_(r_().mark((function e(){var t;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=nt(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=nt(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function A1(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=nt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var R1=function(){function e(){Xi(this,e),this._progressObserver={},this._taskCompletionResolver=new YW,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return $i(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),P1=function(e){st(n,e);var t=ta(n);function n(e,r,i,a){var o;return Xi(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new C1,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return $i(n,[{key:"_terminate",value:function(){return this._firestoreClient||D1(this),this._firestoreClient.terminate()}}]),n}($0);function N1(e){return e._firestoreClient||D1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function D1(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new zH(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new l1(e._authCredentials,e._appCheckCredentials,e._queue,r)}function O1(e,t,n){var r=new YW;return e.asyncQueue.enqueue(a_(r_().mark((function i(){var a;return r_().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,f1(e,n);case 3:return i.next=5,d1(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===KW.FAILED_PRECONDITION||e.code===KW.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:zW("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function L1(e){return function(e){return e.asyncQueue.enqueue(a_(r_().mark((function t(){var n,r;return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b1(e);case 2:return n=t.sent,t.next=5,w1(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=GW(e);return t._u.delete(0),AJ(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(N1(e=G0(e,P1)))}function M1(e){return function(e){return e.asyncQueue.enqueue(a_(r_().mark((function t(){var n,r;return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b1(e);case 2:return n=t.sent,t.next=5,w1(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=GW(t))._u.add(0),e.next=4,PJ(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(N1(e=G0(e,P1)))}function F1(e,t){var n=N1(e=G0(e,P1)),r=new R1;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new s1(e,t)}(function(e,t){if(e instanceof Uint8Array)return a1(e,t);if(e instanceof ArrayBuffer)return a1(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,wJ(t));e.asyncQueue.enqueueAndForget(a_(r_().mark((function t(){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=M0,t.next=3,_1(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function j1(e,t){return function(e,t){return e.asyncQueue.enqueue(a_(r_().mark((function n(){return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=GW(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,k1(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(N1(e=G0(e,P1)),t).then((function(t){return t?new Z0(e,null,t.query):null}))}function V1(e){if(e._initialized||e._terminated)throw new QW(KW.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var B1=function(){function e(t){Xi(this,e),this._byteString=t}return $i(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e($H.fromBase64String(t))}catch(t){throw new QW(KW.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e($H.fromUint8Array(t))}}]),e}(),U1=function(){function e(){Xi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new QW(KW.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pH(n)}return $i(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var z1=$i((function e(t){Xi(this,e),this._methodName=t})),q1=function(){function e(t,n){if(Xi(this,e),!isFinite(t)||t<-90||t>90)throw new QW(KW.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new QW(KW.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return $i(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return oH(this._lat,e._lat)||oH(this._long,e._long)}}]),e}(),W1=/^__.*__$/,H1=function(){function e(t,n,r){Xi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return $i(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new rQ(e,this.data,this.fieldMask,t,this.fieldTransforms):new nQ(e,this.data,t,this.fieldTransforms)}}]),e}(),G1=function(){function e(t,n,r){Xi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return $i(e,[{key:"toMutation",value:function(e,t){return new rQ(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function K1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw WW()}}var Q1=function(){function e(t,n,r,i,a,o){Xi(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return $i(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return p2(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(K1(this.sa)&&W1.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Y1=function(){function e(t,n,r){Xi(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||wJ(t)}return $i(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Q1({sa:e,methodName:t,fa:n,path:pH.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function $1(e){var t=e._freezeSettings(),n=wJ(e._databaseId);return new Y1(e._databaseId,!!t.ignoreUndefinedProperties,n)}function X1(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);l2("Data must be an object, but it was:",o,r);var s,u,c=u2(r,o);if(a.merge)s=new tK(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=nt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=f2(t,l.value,n);if(!o.contains(d))throw new QW(KW.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));v2(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new tK(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new H1(new nK(c),s,u)}var J1=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(z1);function Z1(e,t,n){return new Q1({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var e2=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"_toFieldTransform",value:function(e){return new GK(e.path,new jK)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(z1),t2=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e))._a=r,i}return $i(n,[{key:"_toFieldTransform",value:function(e){var t=Z1(this,e,!0),n=this._a.map((function(e){return s2(e,t)})),r=new VK(n);return new GK(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(z1),n2=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e))._a=r,i}return $i(n,[{key:"_toFieldTransform",value:function(e){var t=Z1(this,e,!0),n=this._a.map((function(e){return s2(e,t)})),r=new UK(n);return new GK(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(z1),r2=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e)).wa=r,i}return $i(n,[{key:"_toFieldTransform",value:function(e){var t=new qK(e.yt,DK(e.yt,this.wa));return new GK(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(z1);function i2(e,t,n,r){var i=e.da(1,t,n);l2("Data must be an object, but it was:",i,r);var a=[],o=nK.empty();HH(r,(function(e,r){var s=d2(t,e,n);r=QS(r);var u=i.ca(s);if(r instanceof J1)a.push(s);else{var c=s2(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new tK(a);return new G1(o,s,i.fieldTransforms)}function a2(e,t,n,r,i,a){var o=e.da(1,t,n),s=[f2(t,r,n)],u=[i];if(a.length%2!=0)throw new QW(KW.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(f2(t,a[c])),u.push(a[c+1]);for(var l=[],f=nK.empty(),h=s.length-1;h>=0;--h)if(!v2(l,s[h])){var d=s[h],p=u[h];p=QS(p);var v=o.ca(d);if(p instanceof J1)l.push(d);else{var m=s2(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new tK(l);return new G1(f,y,o.fieldTransforms)}function o2(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s2(n,e.da(r?4:3,t))}function s2(e,t){if(c2(e=QS(e)))return l2("Unsupported field value:",t,e),u2(e,t);if(e instanceof z1)return function(e,t){if(!K1(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=nt(e);try{for(a.s();!(n=a.n()).done;){var o=s2(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=QS(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return DK(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=cH.fromDate(e);return{timestampValue:UQ(t.yt,n)}}if(e instanceof cH){var r=new cH(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:UQ(t.yt,r)}}if(e instanceof q1)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof B1)return{bytesValue:zQ(t.yt,e._byteString)};if(e instanceof J0){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:HQ(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(H0(e)))}(e,t)}function u2(e,t){var n={};return GH(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):HH(e,(function(e,r){var i=s2(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function c2(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cH||e instanceof q1||e instanceof B1||e instanceof J0||e instanceof z1)}function l2(e,t,n){if(!c2(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=H0(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function f2(e,t,n){if((t=QS(t))instanceof U1)return t._internalPath;if("string"==typeof t)return d2(e,t);throw p2("Field path arguments must be of type string or ",e,!1,void 0,n)}var h2=new RegExp("[~\\*/\\[\\]]");function d2(e,t,n){if(t.search(h2)>=0)throw p2("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return na(U1,it(t.split(".")))._internalPath}catch(r){throw p2("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function p2(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new QW(KW.INVALID_ARGUMENT,s+e+u)}function v2(e,t){return e.some((function(e){return e.isEqual(t)}))}var m2=function(){function e(t,n,r,i,a){Xi(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return $i(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new J0(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new y2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(g2("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),y2=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"data",value:function(){return IT(Ji(n.prototype),"data",this).call(this)}}]),n}(m2);function g2(e,t){return"string"==typeof t?d2(e,t):t instanceof U1?t._internalPath:t._delegate._internalPath}function b2(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new QW(KW.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var k2=$i((function e(){Xi(this,e)})),w2=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n)}(k2);function _2(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof k2&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof S2})).length,n=e.filter((function(e){return e instanceof x2})).length;if(t>1||t>0&&n>0)throw new QW(KW.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=nt(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var x2=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return $i(n,[{key:"_apply",value:function(e){var t=this._parse(e);return M2(e._query,t),new Z0(e.firestore,e.converter,_K(e._query,t))}},{key:"_parse",value:function(e){var t=$1(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new QW(KW.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){L2(o,a);var u,c=[],l=nt(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(O2(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=O2(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||L2(o,a),s=o2(n,"where",o,"in"===a||"not-in"===a);return AG.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(w2);var S2=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return $i(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:RG.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=nt(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;M2(r,a),r=_K(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Z0(e.firestore,e.converter,_K(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(k2);var E2=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return $i(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new QW(KW.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new QW(KW.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new KG(t,n);return function(e,t){if(null===yK(e)){var n=gK(e);null!==n&&F2(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Z0(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new dK(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(w2);var T2=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return $i(n,[{key:"_apply",value:function(e){return new Z0(e.firestore,e.converter,xK(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(w2);var I2=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return $i(n,[{key:"_apply",value:function(e){var t=D2(e,this.type,this._docOrFields,this._inclusive);return new Z0(e.firestore,e.converter,function(e,t){return new dK(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(w2);function C2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I2._create("startAt",t,!0)}function A2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I2._create("startAfter",t,!1)}var R2=function(e){st(n,e);var t=ta(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return $i(n,[{key:"_apply",value:function(e){var t=D2(e,this.type,this._docOrFields,this._inclusive);return new Z0(e.firestore,e.converter,function(e,t){return new dK(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(w2);function P2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R2._create("endBefore",t,!1)}function N2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R2._create("endAt",t,!0)}function D2(e,t,n,r){if(n[0]=QS(n[0]),n[0]instanceof m2)return function(e,t,n,r,i){if(!r)throw new QW(KW.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=nt(kK(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(dG(t,r.key));else{var c=r.data.field(u.field);if(tG(c))throw new QW(KW.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new QW(KW.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new EG(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=$1(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new QW(KW.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new QW(KW.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!bK(e)&&-1!==c.indexOf("/"))throw new QW(KW.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(hH.fromString(c));if(!vH.isDocumentKey(l))throw new QW(KW.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new vH(l);s.push(dG(t,f))}else{var h=o2(n,r,c);s.push(h)}}return new EG(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function O2(e,t,n){if("string"==typeof(n=QS(n))){if(""===n)throw new QW(KW.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bK(t)&&-1!==n.indexOf("/"))throw new QW(KW.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(hH.fromString(n));if(!vH.isDocumentKey(r))throw new QW(KW.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return dG(e,new vH(r))}if(n instanceof J0)return dG(e,n._key);throw new QW(KW.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(H0(n),"."))}function L2(e,t){if(!Array.isArray(e)||0===e.length)throw new QW(KW.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new QW(KW.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function M2(e,t){if(t.isInequality()){var n=gK(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new QW(KW.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=yK(e);null!==i&&F2(e,r,i)}var a=function(e,t){var n,r=nt(e);try{for(r.s();!(n=r.n()).done;){var i,a=nt(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new QW(KW.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new QW(KW.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function F2(e,t,n){if(!n.isEqual(t))throw new QW(KW.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var j2=function(){function e(){Xi(this,e)}return $i(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(oG(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ZH(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eG(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw WW()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return HH(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new q1(ZH(e.latitude),ZH(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=nG(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rG(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=JH(e);return new cH(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=hH.fromString(e);HW(vY(n));var r=new qH(n.get(1),n.get(3)),i=new vH(n.popFirst(5));return r.isEqual(t)||UW("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function V2(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var B2=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).firestore=e,r}return $i(n,[{key:"convertBytes",value:function(e){return new B1(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new J0(this.firestore,null,t)}}]),n}(j2),U2=function(){function e(t,n){Xi(this,e),this.hasPendingWrites=t,this.fromCache=n}return $i(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),z2=function(e){st(n,e);var t=ta(n);function n(e,r,i,a,o,s){var u;return Xi(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return $i(n,[{key:"exists",value:function(){return IT(Ji(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new q2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(g2("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(m2),q2=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return IT(Ji(n.prototype),"data",this).call(this,e)}}]),n}(z2),W2=function(){function e(t,n,r,i){Xi(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new U2(i.hasPendingWrites,i.fromCache),this.query=r}return $i(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new q2(n._firestore,n._userDataWriter,r.key,r,new U2(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new QW(KW.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new q2(e._firestore,e._userDataWriter,t.doc.key,t.doc,new U2(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new q2(e._firestore,e._userDataWriter,t.doc.key,t.doc,new U2(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:H2(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function H2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return WW()}}function G2(e,t){return e instanceof z2&&t instanceof z2?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof W2&&t instanceof W2&&e._firestore===t._firestore&&i1(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var K2=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).firestore=e,r}return $i(n,[{key:"convertBytes",value:function(e){return new B1(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new J0(this.firestore,null,t)}}]),n}(j2);function Q2(e){e=G0(e,J0);var t=G0(e.firestore,P1),n=N1(t),r=new K2(t);return function(e,t){var n=new YW;return e.asyncQueue.enqueueAndForget(a_(r_().mark((function r(){return r_().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a_(r_().mark((function e(t,n,r){var i,a;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=GW(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new QW(KW.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=yZ(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,k1(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new z2(t,r,e._key,n,new U2(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Y2(e){e=G0(e,Z0);var t=G0(e.firestore,P1),n=N1(t),r=new K2(t);return function(e,t){var n=new YW;return e.asyncQueue.enqueueAndForget(a_(r_().mark((function r(){return r_().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a_(r_().mark((function e(t,n,r){var i,a,o,s,u;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$X(t,n,!0);case 3:i=e.sent,a=new FZ(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=yZ(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,k1(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new W2(t,r,e,n)}))}function $2(e,t,n){e=G0(e,J0);var r=G0(e.firestore,P1),i=V2(e.converter,t,n);return e3(r,[X1($1(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,QK.none())])}function X2(e,t,n){e=G0(e,J0);for(var r=G0(e.firestore,P1),i=$1(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return e3(r,[("string"==typeof(t=QS(t))||t instanceof U1?a2(i,"updateDoc",e._key,t,n,o):i2(i,"updateDoc",e._key,t)).toMutation(e._key,QK.exists(!0))])}function J2(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=QS(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||A1(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(A1(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof J0)l=G0(e.firestore,P1),f=vK(e._key.path),c={next:function(t){n[u]&&n[u](t3(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=G0(e,Z0);l=G0(p.firestore,P1),f=p._query;var v=new K2(l);c={next:function(e){n[u]&&n[u](new W2(l,v,p,e))},error:n[u+1],complete:n[u+2]},b2(e._query)}return function(e,t,n,r){var i=new o1(r),a=new RZ(t,i,n);return e.asyncQueue.enqueueAndForget(a_(r_().mark((function t(){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xZ,t.next=3,S1(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(a_(r_().mark((function t(){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EZ,t.next=3,S1(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(N1(l),f,h,c)}function Z2(e,t){return function(e,t){var n=new o1(t);return e.asyncQueue.enqueueAndForget(a_(r_().mark((function t(){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){GW(e).Ru.add(t),t.next()},t.next=3,S1(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(a_(r_().mark((function t(){return r_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){GW(e).Ru.delete(t)},t.next=3,S1(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(N1(e=G0(e,P1)),A1(t)?t:{next:t})}function e3(e,t){return function(e,t){var n=new YW;return e.asyncQueue.enqueueAndForget(a_(r_().mark((function r(){return r_().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=KZ,r.next=3,_1(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(N1(e),t)}function t3(e,t,n){var r=n.docs.get(t._key),i=new K2(e);return new z2(e,i,t._key,r,new U2(n.hasPendingWrites,n.fromCache),t.converter)}var n3={maxAttempts:5},r3=function(){function e(t,n){Xi(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$1(t)}return $i(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=i3(e,this._firestore),i=V2(r.converter,t,n),a=X1(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,QK.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=i3(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=QS(t))||t instanceof U1?a2(this._dataReader,"WriteBatch.update",i._key,t,n,o):i2(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,QK.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=i3(e,this._firestore);return this._mutations=this._mutations.concat(new cQ(t._key,QK.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new QW(KW.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function i3(e,t){if((e=QS(e)).firestore!==t)throw new QW(KW.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var a3=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,r))._firestore=e,i}return $i(n,[{key:"get",value:function(e){var t=this,r=i3(e,this._firestore),i=new K2(this._firestore);return IT(Ji(n.prototype),"get",this).call(this,e).then((function(e){return new z2(t._firestore,i,r._key,e._document,new U2(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Xi(this,e),this._firestore=t,this._transaction=n,this._dataReader=$1(t)}return $i(e,[{key:"get",value:function(e){var t=this,n=i3(e,this._firestore),r=new B2(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return WW();var i=e[0];if(i.isFoundDocument())return new m2(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new m2(t._firestore,r,n._key,null,n.converter);throw WW()}))}},{key:"set",value:function(e,t,n){var r=i3(e,this._firestore),i=V2(r.converter,t,n),a=X1(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=i3(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=QS(t))||t instanceof U1?a2(this._dataReader,"Transaction.update",i._key,t,n,o):i2(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=i3(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function o3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new t2("arrayUnion",t)}function s3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new n2("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){FW=e}(WE),FE(new YS("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new P1(new ZW(e.getProvider("auth-internal")),new rH(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new QW(KW.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qH(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),$E(LW,"3.8.3",e),$E(LW,"3.8.3","esm2017")}();var u3="@firebase/firestore-compat",c3="0.3.3";function l3(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new QW("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function f3(){if("undefined"===typeof Uint8Array)throw new QW("unimplemented","Uint8Arrays are not available in this environment.")}function h3(){if("undefined"==typeof atob)throw new QW("unimplemented","Blobs are unavailable in Firestore in this environment.")}var d3=function(){function e(t){Xi(this,e),this._delegate=t}return $i(e,[{key:"toBase64",value:function(){return h3(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return f3(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return h3(),new e(B1.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return f3(),new e(B1.fromUint8Array(t))}}]),e}();function p3(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=nt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var v3=function(){function e(){Xi(this,e)}return $i(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){V1(e=G0(e,P1));var n=N1(e),r=e._freezeSettings(),i=new B0;return O1(n,i,new j0(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){V1(e=G0(e,P1));var t=N1(e),n=e._freezeSettings(),r=new B0;return O1(t,r,new V0(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new QW(KW.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new YW;return e._queue.enqueueAndForgetEvenWhileRestricted(a_(r_().mark((function n(){return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=a_(r_().mark((function e(t){var n;return r_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(PH.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,PH.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(LX(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),m3=function(){function e(t,n,r){var i=this;Xi(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof qH||(this._appCompat=t)}return $i(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||zW("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};X0(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return L1(this._delegate)}},{key:"disableNetwork",value:function(){return M1(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&z0("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new YW;return e.asyncQueue.enqueueAndForget(a_(r_().mark((function n(){return r_().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=i0,n.next=3,_1(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(N1(e=G0(e,P1)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Z2(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new QW("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new R3(this,t1(this._delegate,e))}catch(t){throw _3(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new w3(this,n1(this._delegate,e))}catch(t){throw _3(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new I3(this,function(e,t){if(e=G0(e,$0),U0("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new QW(KW.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Z0(e,null,function(e){return new dK(hH.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw _3(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=G0(e,P1);var r=Object.assign(Object.assign({},n3),n);return function(e){if(e.maxAttempts<1)throw new QW(KW.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new YW;return e.asyncQueue.enqueueAndForget(a_(r_().mark((function i(){var a;return r_().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,x1(e);case 2:a=i.sent,new c1(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(N1(e),(function(n){return t(new a3(e,n))}),r)}(this._delegate,(function(n){return e(new g3(t,n))}))}},{key:"batch",value:function(){var e=this;return N1(this._delegate),new b3(new r3(this._delegate,(function(t){return e3(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return F1(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return j1(this._delegate,e).then((function(e){return e?new I3(t,e):null}))}}]),e}(),y3=function(e){st(n,e);var t=ta(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).firestore=e,r}return $i(n,[{key:"convertBytes",value:function(e){return new d3(new B1(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return w3.forKey(t,this.firestore,null)}}]),n}(j2);var g3=function(){function e(t,n){Xi(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new y3(t)}return $i(e,[{key:"get",value:function(e){var t=this,n=P3(e);return this._delegate.get(n).then((function(e){return new E3(t._firestore,new z2(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=P3(e);return n?(l3("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=P3(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=P3(e);return this._delegate.delete(t),this}}]),e}(),b3=function(){function e(t){Xi(this,e),this._delegate=t}return $i(e,[{key:"set",value:function(e,t,n){var r=P3(e);return n?(l3("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=P3(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=P3(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),k3=function(){function e(t,n,r){Xi(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return $i(e,[{key:"fromFirestore",value:function(e,t){var n=new q2(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new T3(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new y3(t),n),i.set(n,a)),a}}]),e}();k3.INSTANCES=new WeakMap;var w3=function(){function e(t,n){Xi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new y3(t)}return $i(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new R3(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new R3(this.firestore,t1(this._delegate,e))}catch(t){throw _3(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=QS(e))instanceof J0&&r1(this._delegate,e)}},{key:"set",value:function(e,t){t=l3("DocumentReference.set",t);try{return t?$2(this._delegate,e,t):$2(this._delegate,e)}catch(n){throw _3(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?X2(this._delegate,e):X2.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw _3(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return e3(G0(e.firestore,P1),[new cQ(e._key,QK.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=x3(n),a=S3(n,(function(t){return new E3(e.firestore,new z2(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return J2(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Q2(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=G0(e,J0);var t=G0(e.firestore,P1);return T1(N1(t),e._key,{source:"server"}).then((function(n){return t3(t,e,n)}))}(this._delegate):function(e){e=G0(e,J0);var t=G0(e.firestore,P1);return T1(N1(t),e._key).then((function(n){return t3(t,e,n)}))}(this._delegate),t.then((function(e){return new E3(n.firestore,new z2(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(k3.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new QW("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new J0(n._delegate,r,new vH(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new J0(n._delegate,r,t))}}]),e}();function _3(e,t,n){return e.message=e.message.replace(t,n),e}function x3(e){var t,n=nt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!p3(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function S3(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=p3(e[0])?e[0]:p3(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var E3=function(){function e(t,n){Xi(this,e),this._firestore=t,this._delegate=n}return $i(e,[{key:"ref",get:function(){return new w3(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return G2(this._delegate,e._delegate)}}]),e}(),T3=function(e){st(n,e);var t=ta(n);function n(){return Xi(this,n),t.apply(this,arguments)}return $i(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||WW()}(void 0!==t),t}}]),n}(E3),I3=function(){function e(t,n){Xi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new y3(t)}return $i(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,_2(this._delegate,function(e,t,n){var r=t,i=g2("where",e);return x2._create(i,r,n)}(t,n,r)))}catch(i){throw _3(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,_2(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=g2("orderBy",e);return E2._create(n,t)}(t,n)))}catch(r){throw _3(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,_2(this._delegate,function(e){return K0("limit",e),T2._create("limit",e,"F")}(t)))}catch(n){throw _3(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,_2(this._delegate,function(e){return K0("limitToLast",e),T2._create("limitToLast",e,"L")}(t)))}catch(n){throw _3(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,_2(this._delegate,C2.apply(void 0,arguments)))}catch(t){throw _3(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,_2(this._delegate,A2.apply(void 0,arguments)))}catch(t){throw _3(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,_2(this._delegate,P2.apply(void 0,arguments)))}catch(t){throw _3(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,_2(this._delegate,N2.apply(void 0,arguments)))}catch(t){throw _3(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return i1(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Y2(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=G0(e,Z0);var t=G0(e.firestore,P1),n=N1(t),r=new K2(t);return I1(n,e._query,{source:"server"}).then((function(n){return new W2(t,r,e,n)}))}(this._delegate):function(e){e=G0(e,Z0);var t=G0(e.firestore,P1),n=N1(t),r=new K2(t);return b2(e._query),I1(n,e._query).then((function(n){return new W2(t,r,e,n)}))}(this._delegate),t.then((function(e){return new A3(n.firestore,new W2(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=x3(n),a=S3(n,(function(t){return new A3(e.firestore,new W2(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return J2(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(k3.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),C3=function(){function e(t,n){Xi(this,e),this._firestore=t,this._delegate=n}return $i(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new T3(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),A3=function(){function e(t,n){Xi(this,e),this._firestore=t,this._delegate=n}return $i(e,[{key:"query",get:function(){return new I3(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new T3(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new C3(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new T3(n._firestore,r))}))}},{key:"isEqual",value:function(e){return G2(this._delegate,e._delegate)}}]),e}(),R3=function(e){st(n,e);var t=ta(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return $i(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new w3(this.firestore,e):null}},{key:"doc",value:function(e){try{return new w3(this.firestore,void 0===e?n1(this._delegate):n1(this._delegate,e))}catch(t){throw _3(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=G0(e.firestore,P1),r=n1(e),i=V2(e.converter,t);return e3(n,[X1($1(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,QK.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new w3(t.firestore,e)}))}},{key:"isEqual",value:function(e){return r1(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(k3.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(I3);function P3(e){return G0(e,J0)}var N3=function(){function e(){Xi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=na(U1,n)}return $i(e,[{key:"isEqual",value:function(e){return(e=QS(e))instanceof U1&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(pH.keyField().canonicalString())}}]),e}(),D3=function(){function e(t){Xi(this,e),this._delegate=t}return $i(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new e2("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new J1("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=o3.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=s3.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new r2("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),O3={Firestore:m3,GeoPoint:q1,Timestamp:cH,Blob:d3,Transaction:g3,WriteBatch:b3,DocumentReference:w3,DocumentSnapshot:E3,Query:I3,QueryDocumentSnapshot:T3,QuerySnapshot:A3,CollectionReference:R3,FieldPath:N3,FieldValue:D3,setLogLevel:function(e){!function(e){jW.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new YS("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},O3)))}(e,(function(e,t){return new m3(e,t,new v3)})),e.registerVersion(u3,c3)}(ET);ET.initializeApp({apiKey:"AIzaSyC9ykGYX8SFXZ02jfNlWyQswtfPHK6hTuk",authDomain:"netflix-clone-bcb54.firebaseapp.com",projectId:"netflix-clone-bcb54",storageBucket:"netflix-clone-bcb54.appspot.com",messagingSenderId:"425805771150",appId:"1:425805771150:web:9a7c449a1d3e43d7caf4df",measurementId:"G-J8RXHP8CV6"}).firestore();var L3=ET.auth(),M3=n.p+"static/media/logo.5b38a2c389cdb4565fc2.png",F3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAAM1BMVEX////w9/fh7+/S5+fD39+z19ekz8+Vx8eGv8B3trhorrBZpqhKnqA6lpgrjpAchogNfoCu3ygvAAAGaUlEQVR4nO3d23qiMAAAYURQFATf/2lXa7vWVSBkBMN+M3e9KOJfDhJsyM6Gyj69AmtPQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwt4D2DRN95YFfai2aU6Rv4oB20O5yb4q9rEr8dHq/fa2/nl5jNgKIGBTZr/Lj2xxi9dV+cMb2LVTl4AAu0e+L8KGLHDp6s3TG9hP3AoJYPP88tc1AEtctm73av3zaQciAHh89fLX3SB+kYvWbV+v/2aSYDxgn99aBPv8JgpGA556/VayFz8fv++CE04lsYBd3v/6WVZHLnXBDkPrvw1fTizgfuj1szz5j9XtyxPg3w7BC4oEbAdfPsuquMUu18sT8L1N8BYQCTi8AV5WIG6xi9WNrH/4JhgJOLwDZMkfBQePgNeCj4JxgM3Y66f+UaYYfQOhJ+I4wGr09fOo5S7W6PpnoVf1cYDjf8As6fPw+B4U/Fk2DrD3Q/y9pAcV6vH1LwIXFQc4/vppA44fggQcTEDYxwEDTiJJAwacROYFHBjJ+Cnps/DQUNJ3856F/Rx4X1LU64//BRO/Ehnfhea9EjkPjgZeS/xauH84/buZr4VH9+HE9+BzNzYaEnx/NhJwbAWSvz88sgWEbwCxI9LDK5D6Bji6BYRvANE3lQYvh5P+EHhr8HI49EPgmdyVG/gTht9R+GADg/pTbunE3xfuF0z8I8xPvYLL3BfuF1yJX6/gUt9MuAi+PA4mfwK+9/JMuJ12Ecq+nfW8BsWqviPYPG0Cm6k3ZOH3A9vdw35crOD0+9hx+8g3eQyEf8W33t8Gt/LyMPnbiSnUHsrbhWmxj7n+9EvmMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJ+FQ76dkiAj72/XyMMvj/dgX8XVf9/ffneScf+z/7xRcumBjg6VAdPzRpwCNfFjr5TVKAx9u/jucfmLnsn7kLvv6DPegXUwK8T0NSLjx5QPNyBpSg+RMSAnx4E1MfbUQ69sxoGrQPpwP4z7ymERNoRNVWvXMhrgzwaVLJTTX/jlwPTWW5MsBXb2E36xm53Q9PxLmuY2DPzMTFXDNJtYex+ezLoOWkDnjZk2fYDLtjwETOYS+bDODQM2bytz61c3zb+ypw008GcGRi4HcZ1iPHvZ82884jPUejk3tvdkd2Wm6qgCnsb4U/pDQdwOEn1X233cchdnU43rRnvKYDODgr6+82ZVVPeIeni13YbhvBlxTguZ2wkWTFrqqHH6t9ag5VGXS+iOdLC/ByVRq4Ed7Li2JfVdWx+am+/FQVxZS/xb2Ii5+0AF9NKrpc+WH5R4S/v3bkoY2zFXnNkxzgZwjjL3cSBLxe5U8+FqK2Mfvud0kCXo6Fh0mfPEjwWjtRwPPIUN3bKuloT7qAg4PF79Ljo94pA146Pd8sS0nvnDzgpXoGw83uPXrnNQBeOu0nX5ENVFTvHF1cBeCl9rh7xwFxu6/ffLNvLYDXGOKmrOZ4VMKaAK91TcQISz5tAGxSawO81dRVWQScWzZfg16zrso6Ab87XQev9sXj4FV+/bmqqqZZ5As2qwZMIQFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiDsDyaJ+FLzeNcQAAAAAElFTkSuQmCC";var j3=function(){var e=Qe((0,u.useState)(!1),2),t=e[0],n=e[1];return(0,u.useEffect)((function(){window.addEventListener("scroll",(function(){window.scrollY>100?n(!0):n(!1)}))}),[]),(0,Be.jsxs)("nav",{className:"nav ".concat(t&&"nav_black"),children:[(0,Be.jsx)("img",{src:M3,alt:"logo"}),(0,Be.jsx)("img",{onClick:function(){return L3.signOut()},className:"avatar",src:F3,alt:"avatar"})]})};var V3=function(){return(0,Be.jsxs)("section",{className:"home",children:[(0,Be.jsx)(j3,{}),(0,Be.jsx)(Zx,{fetchUrl:Jx.fetchNetflixOriginals}),(0,Be.jsxs)("div",{className:"row_all",children:[(0,Be.jsx)($x,{className:"large_row",title:"NETFLIX ORIGINALS",fetchUrl:Jx.fetchNetflixOriginals,isLargeRow:!0}),(0,Be.jsx)($x,{title:"Trending Now",fetchUrl:Jx.fetchTrending}),(0,Be.jsx)($x,{title:"Top Rated",fetchUrl:Jx.fetchTopRated}),(0,Be.jsx)($x,{title:"Action Movies",fetchUrl:Jx.fetchActionMovies}),(0,Be.jsx)($x,{title:"Comedy Movies",fetchUrl:Jx.fetchComedyMovies}),(0,Be.jsx)($x,{title:"Horror Movies",fetchUrl:Jx.fetchHorrorMovies}),(0,Be.jsx)($x,{title:"Romance Movies",fetchUrl:Jx.fetchRomanceMovies}),(0,Be.jsx)($x,{title:"Documantaries",fetchUrl:Jx.fetchDocumantaries})]}),(0,Be.jsx)("div",{className:"genreBox"})]})};var B3=function(){var e=(0,u.useRef)(null),t=(0,u.useRef)(null),n=Qe((0,u.useState)(!1),2),r=n[0],i=n[1];return(0,Be.jsxs)("div",{className:"signIn_Screen",children:[(0,Be.jsxs)("form",{children:[(0,Be.jsx)("h1",{children:"Sign In"}),(0,Be.jsx)("input",{ref:e,type:"email",placeholder:"Email",required:!0}),(0,Be.jsx)("input",{ref:t,type:"password",placeholder:"Password",required:!0}),(0,Be.jsx)("button",{onClick:function(n){n.preventDefault(),L3.signInWithEmailAndPassword(e.current.value,t.current.value).then((function(){})).catch((function(e){alert(e.message.slice(9,-22))}))},children:"Sign In"})]}),(0,Be.jsxs)("h3",{className:"checker",children:[(0,Be.jsxs)("span",{children:[(0,Be.jsx)("input",{type:"checkbox"}),"Remember me"]}),(0,Be.jsx)("span",{children:"need help?"})]}),(0,Be.jsxs)("h2",{children:[(0,Be.jsx)("span",{className:"light",children:"New to Netflix? "}),(0,Be.jsx)("span",{className:"link",onClick:function(n){n.preventDefault(),L3.createUserWithEmailAndPassword(e.current.value,t.current.value).then((function(){})).catch((function(e){alert(e.message.slice(9,-22))}))},children:"Sign up now."})]}),(0,Be.jsxs)("h1",{className:"top",children:[(0,Be.jsx)("span",{className:"light",children:"This page is protected by Google reCAPTCHA to ensure you're not a bot."}),r?"":(0,Be.jsx)("span",{onClick:function(){i(!0)},className:"blue",children:"Learn more."})]}),r?(0,Be.jsx)("h1",{className:"below",children:(0,Be.jsxs)("p",{className:"light",children:["The information collected by Google reCAPTCHA is subject to the Google",(0,Be.jsx)("span",{className:"blue",children:" Privacy Policy"})," and",(0,Be.jsx)("span",{className:"blue",children:" Terms of Service"}),", and is used for providing, maintaining, and improving the reCAPTCHA service and for general security purposes (it is not used for personalised advertising by Google)."]})}):""]})};var U3=function(){var e=Qe((0,u.useState)(!1),2),t=e[0],n=e[1];return(0,Be.jsxs)("div",{className:"loginScreen",children:[(0,Be.jsxs)("div",{className:"loginScreen_background",children:[(0,Be.jsx)("img",{className:"sign-In",src:M3,alt:"logo"}),t?"":(0,Be.jsx)("button",{className:"sign_in",type:"button",onClick:function(){return n(!0)},children:"Sign In"}),(0,Be.jsx)("div",{className:"loginScreen_gradient"})]}),(0,Be.jsx)("div",{className:"loginScreen_body",children:t?(0,Be.jsx)(B3,{}):(0,Be.jsxs)(Be.Fragment,{children:[(0,Be.jsx)("h1",{children:"Unlimited movies, TV shows and more."}),(0,Be.jsx)("h2",{children:"Watch anywhere. Cancel anytime."}),(0,Be.jsx)("h2",{children:"Ready to watch? Enter your email to create or restart your membership."}),(0,Be.jsx)("div",{className:"loginScreen_Input",children:(0,Be.jsxs)("form",{children:[(0,Be.jsx)("input",{type:"email",placeholder:"Email Address"}),(0,Be.jsx)("button",{onClick:function(){return n(!0)},children:"Get Started "})]})})]})})]})};var z3=function(){var e=Qe((0,u.useState)(null),2),t=e[0],n=e[1];return(0,u.useEffect)((function(){return L3.onAuthStateChanged((function(e){n(e||null)}))}),[]),(0,Be.jsx)(e_,{basename:"/netflix_clone",children:t?(0,Be.jsx)(Xw,{children:(0,Be.jsx)(Yw,{path:"/",element:(0,Be.jsx)(V3,{})})}):(0,Be.jsx)(U3,{})})};Gk.createRoot(document.getElementById("root")).render((0,Be.jsx)(u.StrictMode,{children:(0,Be.jsx)(Hk,{children:(0,Be.jsx)(z3,{})})}))}()}();
//# sourceMappingURL=main.2c222816.js.map